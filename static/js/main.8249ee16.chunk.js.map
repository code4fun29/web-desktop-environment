{"version":3,"sources":["utils/Emitter.ts","state/WindowManager.ts","components/card.tsx","components/textField.tsx","components/button.tsx","loginScreen/Login.tsx","components/icon.tsx","components/mountUnmountAnimation.tsx","contexts.ts","components/stateComponent.tsx","utils/colors.ts","gtk-broadway-display/index.js","utils/environment.ts","views/Desktop.tsx","theme.ts","views/wrapper/ThemeProvider.tsx","views/Window.tsx","utils/tasks.ts","views/apps/utils/Terminal.tsx","views/apps/utils/Explorer.tsx","views/apps/shared/FileViewer.tsx","views/apps/utils/Notepad.tsx","views/apps/media/MediaPlayer.tsx","views/apps/system/Settings.tsx","views/apps/thirdParty/Iframe.tsx","views/apps/shared/LoadingScreen.tsx","demo/App.tsx","views/native/host/Desktop.tsx","views/native/host/Window.tsx","views/native/client/Window.tsx","index.tsx","utils/setupDocument.ts","gtk-broadway-display/state.ts"],"names":["emitter","setMaxListeners","call","event","data","emit","on","listener","remove","off","windows","windowsLayers","windowsMinMaxLayer","min","max","reloadWindowsLayers","currentZIndex","reverse","forEach","id","layer","setActiveWindow","activeWindowId","filter","currentId","push","idIndex","addWindow","name","icon","state","newWindow","window","closeWindow","windowToClose","find","w","updateState","newState","currentWindow","minimized","WindowManager","useStyle","makeStyles","theme","root","padding","borderRadius","boxShadow","shadowColor","mainBackground","background","main","darkBackground","dark","lightBackground","light","mainBackgroundTransparent","transparent","darkBackgroundTransparent","transparentDark","lightBackgroundTransparent","transparentLight","children","className","colorVariant","classes","backgroundClassesMap","color","variant","value","onChange","defaultValue","border","placeholder","borderBottom","selectedColor","useTheme","textColor","text","borderValue","borderBottomValue","backgroundColor","maxHeight","fontSize","outline","currentValue","setCurrentValue","e","newValue","target","onClick","style","shadow","backgroundColorMap","backgroundColorHover","minHeight","minWidth","display","justifyContent","alignItems","cursor","backgroundBlendMode","useStyles","position","width","height","card","flexDirection","backdropFilter","userSelect","barButtonsContainer","top","right","left","bottom","margin","barButton","zIndex","barButtonExit","error","flexEnd","flex","barButtonCollapse","success","link","textDecoration","props","localStorage","getItem","host","setHost","Number","port","setPort","https","setItem","String","onLogin","to","containerClassName","createElement","mount","setMount","onAnimationEnd","ConnectionContext","createContext","undefined","realstate","defaultState","setState","componentDidMount","onMount","render","this","Component","alpha","setAlpha","toHex8","padZero","str","Array","join","slice","invertColor","hex","indexOf","length","Error","r","parseInt","toString","g","b","inflateRaw","default","GTKBridgeEmitter","rootDiv","document","body","appendChild","grab","Object","ownerEvents","implicit","lastState","keyDownList","lastSerial","lastX","lastY","lastTimeStamp","realWindowWithMouse","windowWithMouse","surfaces","stackingOrder","outstandingCommands","inputSocket","fakeInput","showKeyboard","showKeyboardChanged","firstTouchDownId","getButtonMask","button","sendConfigureNotify","surface","sendInput","x","y","cmdCreateSurface","isTemp","positioned","transientParent","visible","imageData","toplevelElement","canvas","type","currentLayer","addEventListener","focus","doBeforeEveryFrame","requestAnimationFrame","i","setInterval","contains","clearInterval","cmdShowSurface","xOffset","yOffset","restackWindows","cmdHideSurface","doUngrab","cmdSetTransientFor","parentId","moveToHelper","v","cid","splice","child","cmdDeleteSurface","parentNode","removeChild","cmdMoveResizeSurface","has_pos","has_size","h","tmpCanvas","ownerDocument","tmpContext","getContext","globalCompositeOperation","drawImage","context","resizeCanvas","element","cmdRaiseSurface","cmdLowerSurface","copyRect","src","srcX","srcY","dest","destX","destY","srcRect","destRect","line","subarray","set","markRun","start","markRect","decodeBuffer","oldData","debug","createImageData","len","cmd","blockid","block_stride","console","cmdPutBuffer","compressed","putImageData","cmdGrabPointer","doGrab","active","handleCommands","oncontextmenu","onMouseMove","onMouseOver","onMouseDown","onMouseUp","onKeyDown","onKeyPress","onKeyUp","onMouseWheel","onTouchStart","onTouchMove","onTouchEnd","attachEvent","setupDocument","innerWidth","innerHeight","onresize","ev","pos","command","get_char","get_32","innerHTML","get_16","log","get_16s","get_bool","ops","get_flags","get_data","BinCommands","message","arraybuffer","u8","Uint8Array","handleMessage","shift","unshift","handleOutstanding","getSurfaceId","args","fullArgs","charCodeAt","concat","buffer","ArrayBuffer","view","DataView","arg","setInt32","send","getPositionsFromAbsCoord","absX","absY","relativeId","res","rootX","rootY","winX","winY","getPositionsFromEvent","pageX","pageY","getEffectiveEventTarget","updateKeyboardStatus","blur","updateForEvent","shiftKey","ctrlKey","altKey","timeStamp","prototype","fromCharCode","size","unicodeTable","specialKeyTable","8","13","9","27","46","36","35","33","34","45","37","38","39","40","16","17","18","112","113","114","115","116","117","118","119","120","121","122","123","getEventKeySym","which","keyCode","getKeysymSpecial","flags","keysym","keyLocation","ignoreKeyEvent","handleKeyDown","fev","suppress","members","obj","copyKeyEvent","pushKeyEvent","cancelEvent","handleKeyPress","kdlen","getKeysym","handleKeyUp","pop","getKeyEvent","dir","detail","wheelDelta","changedTouches","touch","item","origId","isEmulated","identifier","connect","ws","WebSocket","binaryType","onopen","onclose","onmessage","test","navigator","userAgent","stopGDK","isMobile","some","toMatchItem","match","useWindowBarStyles","windowsBar","animation","transparentBorder","paddingLeft","overflowX","overflowY","transition","from","windowsBarButton","marginRight","marginLeft","windowsBarButtonHover","transform","windowBorderColor","textAlign","opacity","windowsBarButtonActive","secondary","windowsBarButtonOpen","windowsBarButtonCloseMinimized","windowsBarHeight","renderAppListCell","app","index","closeMenu","onLaunchApp","key","appCell","appName","params","alt","displayName","appIcon","appContent","description","willUnmount","componentWillUnmount","forceUpdate","tryToStartGtkServer","componentDidUpdate","gtkBridge","reactFullstackConnectionManager","openApps","apps","map","Provider","switchToNativeButton","isStartMenuOpen","startMenuQuery","WindowBar","toggleStartMenu","startMenu","slideIn","slideOut","startMenuBody","startMenuSearch","includes","openWindows","setOpenWindows","selectedButton","setSelectedButton","updateWindow","openWindow","onContextMenu","withStyles","createStyles","paddingTop","maxWidth","marginTop","appList","boxSizing","flexShrink","overflow","flexGrow","whiteSpace","textOverflow","darkTheme","windowBarColor","primary","warning","windowBorder","defaultTheme","Themes","nord","darkText","mint","overrides","Desktop","Window","bar","barCollapse","barButtonInactive","Terminal","LoadingScreen","Iframe","Notepad","headline","backButton","Explorer","actionBar","file","breadcrumbButtonItemFirst","breadcrumbButtonItemLast","Settings","categorySelection","settingsBlock","category","themeButton","customTheme","defaultWindowSize","constantIsMobile","windowBarHeight","percentageToNumber","replace","screenSizesToNumbers","getSize","windowProperties","collapse","getPosition","useLocalWindowState","screen","availWidth","availHeight","handleClickOutside","isActive","setActive","updateWindowPositionORSizeQueuer","lastTask","stop","isIdle","continueEmitter","Emitter","queueTask","newTask","idle","Promise","currentTask","lastTaskQueuer","snapWindow","snap","forceState","allowLocalScreenSnapping","currentSnap","snapNow","switchToAbsolutePosition","rndElement","getElementsByClassName","randomClassNameForRndContainer","newStyles","getWindowTransformStyles","keys","keyNameAsString","Math","random","getWindowPosition","getWindowSize","onDrag","newPosition","clientX","clientY","updatedPosition","deltaX","deltaY","touchTop","farFromTop","touchMinimumLeft","farFromMinimumLeft","touchMinimumRight","farFromMinimumRight","setWindowState","onResize","ele","delta","localWindowState","newSize","lastResizeDelta","shouldCollapse","isResizing","canDrag","domContainer","getElementById","wrapperRef","switchPosition","serverWindowProperties","title","onClose","onMobile","createPortal","ref","smoothMove","disableDragging","onDragStart","onDragStop","then","defaultSize","onResizeStart","onResizeStop","onMouseEnter","onMouseLeave","onDoubleClick","barTitle","barTitleIcon","contextType","fullscreenWindowPosition","withTheme","getTermTheme","foreground","containerElement","term","open","termFit","fit","socket","close","clientWidth","cols","transports","fontFamily","allowTransparency","loadAddon","write","onData","setOption","div","borderTop","confirm","resolve","reject","confirmDone","result","prompt","promptFinish","getBreadcrumbLocations","maxLength","currentPath","platformPathSeparator","onChangeCurrentPath","currentLocation","pathArray","split","path","pathPartPath","isFirst","isLast","selectedFile","onDrop","onDropPath","onMove","dragedFile","isFolder","newPath","originalPath","fileIsOverFile","onFileDragOver","deleteSelected","onDelete","createFolder","promptCreate","onCreateFolder","createFile","onCreateFile","Past","cutPath","copyPath","onCopy","fullPath","openSelected","onOpen","files","onRequestDownloadLink","onSelect","downloadUrl","locationBarContainer","locationBar","breadcrumbFilesContainer","breadcrumbItem","breadcrumbButtonItem","onDragOverCapture","preventDefault","fileBoxContainer","fileContainerMini","actionBarContainer","actionButton","rel","href","download","fileBox","dialog","dialogMessage","dialogInput","dialogButtons","dialogButton","dialogButtonPrimary","fileContainer","fileActive","draggable","onDragLeave","fileName","fileIcon","stickyActionBarContainer","actionBarNoBorder","openButton","gridTemplateRows","borderRight","paddingBottom","borderLeft","gridTemplateColumns","borderBottomRightRadius","gridGap","gap","gridAutoRows","fileBreadcrumb","paddingRight","makeFileViewerStyles","headlineContainer","menuContainer","borderTopRightRadius","openFileContainer","openFileContainerBody","filename","isSelectingFile","onReselectFile","renderViewer","onSave","textAreaContainer","textAreaContainerBody","textArea","resize","source","videoAreaContainer","videoAreaContainerBody","controls","videoArea","makeColor","baseColor","toHex8String","darken","lighten","toHexString","isDark","getAlpha","generateCustomTheme","a","post","JSON","stringify","model","response","colors","settings","desktop","setSettings","renderDesktopCategory","phoneMode","matchMedia","matches","categoryTopBar","selectedCategory","categoryBackButton","categoryTitle","marginBlock","settingsProperty","settingsPropertyName","settingsPropertyValue","settingsPropertyCol","settingsPropertyNameCol","settingsPropertyValueCol","themeGrid","renderCreateCustomTheme","categorySubtitle","colorsTable","originalColor","round","rgb","getColor","currentColor","fullState","renderNetworkCategory","errorMainPort","errorStartPort","errorEndPort","mainPort","network","ports","startPort","endPort","settingsPropertyValueError","renderSystemInfoCategory","systemInfo","os","hostname","platform","kernel","cpu","brandName","manufacturer","cores","physicalCores","speed","speedMax","speedMin","ram","total","free","disks","disk","vendor","selectCategoryButton","selectCategoryButtonSelected","categorySelectIcon","marginBottom","wordBreak","iframeRef","createRef","intervalsToClear","activeElement","current","click","allowFullScreen","sandbox","allow","animationWave","jumpingCube","content","emptyFunction","defaultWindowProps","useWindow","initialState","newWindowState","setBackground","setTheme","explorerWindow","notepadWindow","settingsWindow","onUpload","onReload","newSettings","nativeBackground","renderAppGrid","isOpen","openApp","filterAppQuery","switchToDesktopButton","appContainer","appFilter","appGrid","hr","isUnmounted","location","origin","moveTo","closed","image","LocationBasedImage","setTop","setLeft","loop","screenY","screenX","opener","windowState","hidden","container","viewsMap","web","nativeHost","nativeClient","webWindow","views","socketOptions","connectToServer","useHttps","ReactFullstackConnectionManager","isLoggedIn","login","setLogin","status","newStatus"],"mappings":"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AAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,IAAQ,SACR,KAAQ,SACR,IAAQ,SACR,IAAQ,SACR,KAAQ,SACR,IAAQ,SACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,KAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,MAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,QACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,KAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,IACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,IAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,MAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,MAAQ,KACR,KAAQ,KACR,KAAQ,KACR,MAAQ,KACR,MAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,KAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,KACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,MAAQ,SACR,M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","file":"static/js/main.8249ee16.chunk.js","sourcesContent":["import Events from \"events\";\n\nexport default class Emitter<EventList> {\n\tprivate emitter = new Events().setMaxListeners(0); // Infinity\n\n\tpublic call = <T extends keyof EventList>(event: T, data: EventList[T]) =>\n\t\tthis.emitter.emit(event as string, data);\n\n\tpublic on = <T extends keyof EventList>(\n\t\tevent: T,\n\t\tlistener: (data: EventList[T]) => void\n\t) => {\n\t\tthis.emitter.on(event as string, listener);\n\t\treturn {\n\t\t\tremove: () => this.off(event, listener),\n\t\t\ton: this.on,\n\t\t\tcall: (data: EventList[T]) => this.call(event, data),\n\t\t};\n\t};\n\n\tpublic off = <T extends keyof EventList>(\n\t\tevent: T,\n\t\tlistener: (data: EventList[T]) => void\n\t) => this.emitter.off(event as string, listener);\n}\n","import { Icon } from \"@web-desktop-environment/interfaces/lib/shared/icon\";\nimport Emitter from \"@utils/Emitter\";\n\nexport interface Window {\n\tid: number;\n\tname: string;\n\ticon: Icon;\n\tstate: WindowState;\n}\n\ninterface WindowState {\n\tminimized: boolean;\n}\n\ninterface WindowManagerEvent {\n\tmaximizeWindow: {\n\t\tid: number;\n\t};\n\tminimizeWindow: {\n\t\tid: number;\n\t};\n\taddWindow: {\n\t\twindow: Window;\n\t};\n\tcloseWindow: {\n\t\twindow: Window;\n\t};\n\tsetActiveWindow: {\n\t\tid: number;\n\t};\n\tupdateZIndex: {\n\t\tid: number;\n\t\tlayer: number;\n\t};\n}\n\nclass WindowManager {\n\tpublic activeWindowId: number | undefined;\n\tpublic windows: Window[] = [];\n\tpublic windowsLayers: number[] = [];\n\n\tpublic emitter = new Emitter<WindowManagerEvent>();\n\n\tpublic readonly windowsMinMaxLayer = { min: 5, max: 200 };\n\n\tpublic reloadWindowsLayers = () => {\n\t\tlet currentZIndex = this.windowsMinMaxLayer.max;\n\t\t[...this.windowsLayers].reverse().forEach((id) => {\n\t\t\tthis.emitter.call(\"updateZIndex\", { id, layer: currentZIndex });\n\t\t\tif (currentZIndex > this.windowsMinMaxLayer.min) {\n\t\t\t\tcurrentZIndex--;\n\t\t\t}\n\t\t});\n\t};\n\n\tpublic setActiveWindow = (id: number) => {\n\t\tif (this.activeWindowId !== id) {\n\t\t\tthis.activeWindowId = id;\n\t\t\tthis.emitter.call(\"setActiveWindow\", { id });\n\t\t\tthis.windowsLayers = this.windowsLayers.filter(\n\t\t\t\t(currentId) => currentId !== id\n\t\t\t);\n\t\t\tthis.windowsLayers.push(id);\n\t\t\tthis.reloadWindowsLayers();\n\t\t}\n\t};\n\tprivate idIndex = 0;\n\n\tpublic addWindow = (name: string, icon: Icon, state: WindowState) => {\n\t\tconst id = this.idIndex;\n\t\tthis.idIndex++;\n\t\tconst newWindow = { id, name, icon, state };\n\t\tthis.windows.push(newWindow);\n\t\tthis.emitter.call(\"addWindow\", { window: newWindow });\n\t\tthis.windowsLayers.push(id);\n\t\treturn id;\n\t};\n\n\tpublic closeWindow = (id: number) => {\n\t\tconst windowToClose = this.windows.find((w) => w.id === id);\n\t\tif (windowToClose) {\n\t\t\tthis.windows = this.windows.filter((w) => w.id !== id);\n\t\t\tthis.emitter.call(\"closeWindow\", { window: windowToClose });\n\t\t\tthis.windowsLayers = this.windowsLayers.filter(\n\t\t\t\t(currentId) => currentId !== id\n\t\t\t);\n\t\t}\n\t};\n\tpublic updateState = (id: number, newState: WindowState) => {\n\t\tthis.setActiveWindow(id);\n\t\tconst currentWindow = this.windows.find((w) => w.id === id);\n\t\tif (currentWindow) {\n\t\t\tconst { minimized } = currentWindow.state;\n\t\t\tcurrentWindow.state = newState;\n\t\t\tif (newState.minimized !== minimized) {\n\t\t\t\tif (newState.minimized) {\n\t\t\t\t\tthis.emitter.call(\"minimizeWindow\", { id });\n\t\t\t\t} else {\n\t\t\t\t\tthis.emitter.call(\"maximizeWindow\", { id });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport default new WindowManager();\n","import React, { PropsWithChildren } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { ColorVariants } from \"@root/theme\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tpadding: 5,\n\t\tborderRadius: 14,\n\t\tboxShadow: `-5px 6px 10px -1px ${theme.shadowColor}`,\n\t},\n\tmainBackground: {\n\t\tbackground: theme.background.main,\n\t},\n\tdarkBackground: {\n\t\tbackground: theme.background.dark,\n\t},\n\tlightBackground: {\n\t\tbackground: theme.background.light,\n\t},\n\tmainBackgroundTransparent: {\n\t\tbackground: theme.background.transparent || theme.background.main,\n\t},\n\tdarkBackgroundTransparent: {\n\t\tbackground: theme.background.transparentDark || theme.background.dark,\n\t},\n\tlightBackgroundTransparent: {\n\t\tbackground: theme.background.transparentLight || theme.background.light,\n\t},\n}));\n\ninterface CardProps {\n\tclassName?: string;\n\tcolorVariant?: ColorVariants;\n}\n\nconst Card = ({\n\tchildren,\n\tclassName,\n\tcolorVariant,\n}: PropsWithChildren<CardProps>) => {\n\tconst classes = useStyle();\n\n\tconst backgroundClassesMap: { [Color in ColorVariants]: string } = {\n\t\tdark: classes.darkBackground,\n\t\tlight: classes.lightBackground,\n\t\tmain: classes.mainBackground,\n\t\ttransparent: classes.mainBackgroundTransparent,\n\t\ttransparentDark: classes.darkBackgroundTransparent,\n\t\ttransparentLight: classes.lightBackgroundTransparent,\n\t};\n\treturn (\n\t\t<div\n\t\t\tclassName={`${classes.root} ${\n\t\t\t\tbackgroundClassesMap[colorVariant || \"main\"]\n\t\t\t} ${className || \"\"}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Card;\n","import React, { useState, PropsWithChildren } from \"react\";\nimport { useTheme, makeStyles } from \"@material-ui/styles\";\nimport { Colors, ColorVariants } from \"@root/theme\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\n\nconst useStyle = (\n\ttextColor: string,\n\tbackgroundColor: string,\n\tborder: string,\n\tborderBottom: string\n) =>\n\tmakeStyles(() => ({\n\t\troot: {\n\t\t\tmaxHeight: 35,\n\t\t\tfontSize: 25,\n\t\t\tcolor: textColor,\n\t\t\tbackgroundColor,\n\t\t\tborder,\n\t\t\tborderBottom,\n\t\t\t\"&:focus\": {\n\t\t\t\toutline: \"none\",\n\t\t\t},\n\t\t},\n\t}));\n\ninterface TextFieldProps {\n\tonChange?: (newValue: string, e: React.ChangeEvent<HTMLInputElement>) => void;\n\tvalue?: string | number | string[] | undefined;\n\tplaceholder?: string;\n\tclassName?: string;\n\tcolor?: Colors;\n\tvariant?: ColorVariants;\n\tborder?: boolean;\n\tborderBottom?: boolean;\n\ttransparent?: boolean;\n\tdefaultValue?: string | number | string[] | undefined;\n}\n\nconst TextField = ({\n\tchildren,\n\tclassName,\n\tcolor,\n\tvariant,\n\tvalue,\n\tonChange,\n\tdefaultValue,\n\tborder,\n\ttransparent,\n\tplaceholder,\n\tborderBottom,\n}: PropsWithChildren<TextFieldProps>) => {\n\tconst theme: Theme = useTheme();\n\tconst selectedColor = theme[color || \"background\"];\n\tconst textColor = selectedColor.text;\n\tconst borderValue = border ? `1px solid ${textColor}` : \"none\";\n\tconst borderBottomValue =\n\t\tborderBottom !== false ? `1px solid ${textColor}` : \"none\";\n\tconst backgroundColor = transparent\n\t\t? selectedColor[variant || \"main\"] || selectedColor.main\n\t\t: \"transparent\";\n\tconst classes = useStyle(\n\t\ttextColor,\n\t\tbackgroundColor,\n\t\tborderValue,\n\t\tborderBottomValue\n\t)();\n\n\tconst [currentValue, setCurrentValue] = useState(defaultValue || \"\");\n\tconst onInputEvent = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newValue = e.target.value;\n\t\tsetCurrentValue(newValue);\n\t\tif (onChange) {\n\t\t\tonChange(newValue, e);\n\t\t}\n\t};\n\n\treturn (\n\t\t<input\n\t\t\tplaceholder={placeholder}\n\t\t\tvalue={value || currentValue}\n\t\t\tonChange={onInputEvent}\n\t\t\tclassName={`${classes.root} ${className || \"\"}`}\n\t\t>\n\t\t\t{children}\n\t\t</input>\n\t);\n};\n\nexport default TextField;\n","import React, { CSSProperties, PropsWithChildren } from \"react\";\nimport { useTheme, makeStyles } from \"@material-ui/styles\";\nimport { Colors } from \"@root/theme\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\n\nconst useStyle = (\n\ttextColor: string,\n\tbackgroundColor: string,\n\tbackgroundColorHover: string,\n\tborder: string\n) =>\n\tmakeStyles((theme: Theme) => ({\n\t\troot: {\n\t\t\tborderRadius: 4,\n\t\t\tminHeight: 35,\n\t\t\tminWidth: 80,\n\t\t\tpadding: 4,\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcolor: textColor,\n\t\t\tbackground: backgroundColor,\n\t\t\tborder,\n\t\t\talignItems: \"center\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"&:hover\": {\n\t\t\t\tborder,\n\t\t\t\tbackgroundBlendMode: \"multiply\",\n\t\t\t\tbackgroundColor: backgroundColorHover,\n\t\t\t},\n\t\t},\n\t\tshadow: {\n\t\t\tboxShadow: `-3px 4px 6px -1px ${theme.shadowColor}`,\n\t\t},\n\t}));\n\ntype Variants = \"main\" | \"dark\" | \"light\";\n\ninterface ButtonProps {\n\tonClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n\tclassName?: string;\n\tcolor?: Colors;\n\tvariant?: Variants;\n\tborder?: boolean;\n\ttransparent?: boolean;\n\tshadow?: boolean;\n\tstyle?: CSSProperties;\n}\n\nconst Button = ({\n\tchildren,\n\tclassName,\n\tcolor,\n\tvariant,\n\tborder,\n\ttransparent,\n\tonClick,\n\tstyle,\n\tshadow,\n}: PropsWithChildren<ButtonProps>) => {\n\tconst theme: Theme = useTheme();\n\tconst selectedColor = theme[color || \"background\"];\n\tconst textColor = selectedColor.text;\n\tconst borderValue = border ? `1px solid ${textColor}` : \"none\";\n\tconst backgroundColorMap: { [Variant in Variants]: string } = {\n\t\tdark: selectedColor.transparentDark || selectedColor.dark,\n\t\tmain: selectedColor.transparent || selectedColor.main,\n\t\tlight: selectedColor.transparentLight || selectedColor.light,\n\t};\n\tconst backgroundColor =\n\t\ttransparent !== true\n\t\t\t? backgroundColorMap[variant || \"main\"] ||\n\t\t\t  selectedColor.transparent ||\n\t\t\t  selectedColor.main\n\t\t\t: \"transparent\";\n\tconst backgroundColorHover =\n\t\tselectedColor[variant || \"main\"] || selectedColor.main;\n\tconst classes = useStyle(\n\t\ttextColor,\n\t\tbackgroundColor,\n\t\tbackgroundColorHover,\n\t\tborderValue\n\t)();\n\n\treturn (\n\t\t<div\n\t\t\tonClick={onClick}\n\t\t\tstyle={style}\n\t\t\tclassName={`${classes.root} ${shadow ? classes.shadow : \"\"} ${\n\t\t\t\tclassName || \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Button;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Card from \"@components/card\";\nimport TextField from \"@components/textField\";\nimport Button from \"@components/button\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { Link } from \"react-router-dom\";\n\ninterface LoginProps {\n\tonLogin: (host: string, port: number, useHttps: boolean) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tbackground: 'url(\"https://picsum.photos/id/1039/1920/1080\")',\n\t},\n\tcard: {\n\t\twidth: 500,\n\t\theight: 400,\n\t\tpadding: \"70px 60px\",\n\t\tdisplay: \"flex\",\n\t\tcolor: theme.background.text,\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\tbackdropFilter: \"blur(5px)\",\n\t\tuserSelect: \"none\",\n\t},\n\tbarButtonsContainer: {\n\t\tposition: \"relative\",\n\t\ttop: 30,\n\t\tright: 20,\n\t\twidth: 40,\n\t\theight: 20,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\t\"@media (max-width: 768px)\": {\n\t\tcard: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tleft: 0,\n\t\t\tbottom: 0,\n\t\t\tpadding: 0,\n\t\t\tborderRadius: 0,\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\t\"& *\": {\n\t\t\t\tmargin: 20,\n\t\t\t},\n\t\t\theight: \"100%\",\n\t\t},\n\t\tbarButtonsContainer: {\n\t\t\tposition: \"absolute\",\n\t\t},\n\t},\n\tbarButton: {\n\t\twidth: 15,\n\t\theight: 15,\n\t\tborderRadius: \"50%\",\n\t\tzIndex: 2,\n\t\tborder: \"1px solid #0004\",\n\t},\n\tbarButtonExit: {\n\t\tcursor: \"pointer\",\n\t\tbackground: theme.error.main,\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.error.dark,\n\t\t},\n\t},\n\tflexEnd: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n\tflex: {\n\t\tdisplay: \"flex\",\n\t},\n\tbarButtonCollapse: {\n\t\tcursor: \"pointer\",\n\t\tbackground: theme.success.main,\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.success.dark,\n\t\t},\n\t},\n\tlink: {\n\t\ttextDecoration: \"none\",\n\t},\n}));\n\nconst Login = (props: LoginProps) => {\n\tconst classes = useStyles();\n\tconst [host, setHost] = useState(\n\t\twindow.localStorage.getItem(\"last-host\") || \"localhost\"\n\t);\n\tconst [port, setPort] = useState(\n\t\tNumber(window.localStorage.getItem(\"last-port\")) || 5000\n\t);\n\tconst [https /* , setHttps */] = useState(false);\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem(\"last-host\", host);\n\t\twindow.localStorage.setItem(\"last-port\", String(port));\n\t}, [host, port]);\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.flexEnd}>\n\t\t\t\t<div className={classes.barButtonsContainer}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${classes.barButton} ${classes.barButtonCollapse}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className={`${classes.barButton} ${classes.barButtonExit}`} />\n\t\t\t\t</div>\n\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t<h2>Login to your server</h2>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvalue={host}\n\t\t\t\t\t\tonChange={(newValue) => setHost(newValue || \"\")}\n\t\t\t\t\t\tplaceholder=\"host\"\n\t\t\t\t\t></TextField>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvalue={String(port || \"\")}\n\t\t\t\t\t\tonChange={(newValue) => setPort(Number(newValue))}\n\t\t\t\t\t\tplaceholder=\"port\"\n\t\t\t\t\t></TextField>\n\t\t\t\t\t{/* <div className={classes.flex}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={https}\n\t\t\t\t\t\t\tonChange={(e) => setHttps(e.target.checked)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label>Use HTTPS</label>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"main\"\n\t\t\t\t\t\tonClick={() => props.onLogin(host, port, https)}\n\t\t\t\t\t\tcolor=\"background\"\n\t\t\t\t\t\tborder\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Link to=\"/demo\" className={classes.link}>\n\t\t\t\t\t\t<Button variant=\"main\" color=\"background\" border>\n\t\t\t\t\t\t\tor instead you can visit the Demo\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n","import React from \"react\";\nimport { IconBaseProps } from \"react-icons\";\nimport * as FcIcons from \"react-icons/fc\";\nimport * as VSCIcons from \"react-icons/vsc\";\nimport { IconBase } from \"react-icons/lib/cjs/iconBase\";\nimport { IconNames } from \"@web-desktop-environment/interfaces/lib/shared/icon\";\nimport \"./icon.css\";\n\nconst Icon = (\n\tprops: IconBaseProps & {\n\t\tname: IconNames;\n\t\tcontainerClassName?: string;\n\t\tparentFill?: boolean;\n\t}\n) => {\n\treturn (\n\t\t<span className={`icon-parent ${props.containerClassName || \"\"}`}>\n\t\t\t{React.createElement(\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-var-requires\n\t\t\t\t{ ...FcIcons, ...VSCIcons }[props.name] || IconBase,\n\t\t\t\tprops\n\t\t\t)}\n\t\t</span>\n\t);\n};\nexport default Icon;\n","import React, { PropsWithChildren, useState } from \"react\";\n\nconst MountUnmountAnimation = (\n\tprops: PropsWithChildren<{ className: string; mount: boolean }>\n) => {\n\tconst [mount, setMount] = useState(props.mount);\n\treturn mount || props.mount ? (\n\t\t<div\n\t\t\tclassName={props.className}\n\t\t\tonAnimationEnd={() => {\n\t\t\t\tsetMount(props.mount);\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</div>\n\t) : null;\n};\n\nexport default MountUnmountAnimation;\n","import React from \"react\";\n\nexport const ConnectionContext = React.createContext<\n\t{ port: number; host: string } | undefined\n>(undefined);\n","import React from \"react\";\n\nclass StateComponent<State extends object> extends React.Component<\n\t{\n\t\tdefaultState: State;\n\t\tonMount?: (state: State, setState: (state: Partial<State>) => void) => void;\n\t\tchildren: (\n\t\t\tstate: State,\n\t\t\tsetState: (state: Partial<State>) => void\n\t\t) => JSX.Element;\n\t},\n\tState\n> {\n\trealstate = this.props.defaultState;\n\tstate = this.props.defaultState;\n\n\tupdateState = (state: Partial<State>) => {\n\t\tthis.setState({ ...this.state, ...state });\n\t\tthis.realstate = { ...this.realstate, ...state };\n\t};\n\n\tcomponentDidMount = () => {\n\t\tif (this.props.onMount) {\n\t\t\tthis.props.onMount(this.realstate, this.updateState);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn this.props.children(this.realstate, this.updateState);\n\t}\n}\n\nexport default StateComponent;\n","import Color from \"@ctrl/tinycolor\";\n\nexport const transparent = (color: string, alpha = 0.6) =>\n\t\"#\" + Color(color).setAlpha(alpha).toHex8();\n\n// from https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n\nconst padZero = (str: string) => {\n\tconst len = 2;\n\tconst zeros = new Array(len).join(\"0\");\n\treturn (zeros + str).slice(-len);\n};\n\nexport const invertColor = (hex: string) => {\n\tif (hex.indexOf(\"#\") === 0) {\n\t\thex = hex.slice(1);\n\t}\n\t// convert 3-digit hex to 6-digits.\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\tif (hex.length !== 6) {\n\t\tthrow new Error(\"Invalid HEX color.\");\n\t}\n\t// invert color components\n\tconst r = (255 - parseInt(hex.slice(0, 2), 16)).toString(16),\n\t\tg = (255 - parseInt(hex.slice(2, 4), 16)).toString(16),\n\t\tb = (255 - parseInt(hex.slice(4, 6), 16)).toString(16);\n\t// pad each with zeros and return\n\treturn \"#\" + padZero(r) + padZero(g) + padZero(b);\n};\n","/* eslint-disable */\n/* Helper functions for debugging */\n\nconst { inflateRaw } = require(\"zlib\");\nconst { default: WindowManager } = require(\"../state/WindowManager\");\nconst { GTKBridgeEmitter } = require(\"./state\");\n\n\nconst rootDiv = document.createElement(\"div\");\ndocument.body.appendChild(rootDiv);\nrootDiv.id = \"gtkRoot\";\n\nvar logDiv = null;\nfunction log(str) {\n\tif (!logDiv) {\n\t\tlogDiv = document.createElement(\"div\");\n\t\trootDiv.appendChild(logDiv);\n\t\tlogDiv.style[\"position\"] = \"absolute\";\n\t\tlogDiv.style[\"right\"] = \"0px\";\n\t}\n\tlogDiv.appendChild(document.createTextNode(str));\n\tlogDiv.appendChild(document.createElement(\"br\"));\n}\n\nfunction getStackTrace() {\n\tvar callstack = [];\n\tvar isCallstackPopulated = false;\n\ttry {\n\t\ti.dont.exist += 0;\n\t} catch (e) {\n\t\tif (e.stack) {\n\t\t\t// Firefox\n\t\t\tvar lines = e.stack.split(\"\\n\");\n\t\t\tfor (var i = 0, len = lines.length; i < len; i++) {\n\t\t\t\tif (lines[i].match(/^\\s*[A-Za-z0-9\\-_\\$]+\\(/)) {\n\t\t\t\t\tcallstack.push(lines[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove call to getStackTrace()\n\t\t\tcallstack.shift();\n\t\t\tisCallstackPopulated = true;\n\t\t} else if (window.opera && e.message) {\n\t\t\t// Opera\n\t\t\tvar lines = e.message.split(\"\\n\");\n\t\t\tfor (var i = 0, len = lines.length; i < len; i++) {\n\t\t\t\tif (lines[i].match(/^\\s*[A-Za-z0-9\\-_\\$]+\\(/)) {\n\t\t\t\t\tvar entry = lines[i];\n\t\t\t\t\t// Append next line also since it has the file info\n\t\t\t\t\tif (lines[i + 1]) {\n\t\t\t\t\t\tentry += \" at \" + lines[i + 1];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\tcallstack.push(entry);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove call to getStackTrace()\n\t\t\tcallstack.shift();\n\t\t\tisCallstackPopulated = true;\n\t\t}\n\t}\n\tif (!isCallstackPopulated) {\n\t\t//IE and Safari\n\t\tvar currentFunction = arguments.callee.caller;\n\t\twhile (currentFunction) {\n\t\t\tvar fn = currentFunction.toString();\n\t\t\tvar fname =\n\t\t\t\tfn.substring(fn.indexOf(\"function\") + 8, fn.indexOf(\"(\")) ||\n\t\t\t\t\"anonymous\";\n\t\t\tcallstack.push(fname);\n\t\t\tcurrentFunction = currentFunction.caller;\n\t\t}\n\t}\n\treturn callstack;\n}\n\nfunction logStackTrace(len) {\n\tvar callstack = getStackTrace();\n\tvar end = callstack.length;\n\tif (len > 0) end = Math.min(len + 1, end);\n\tfor (var i = 1; i < end; i++) log(callstack[i]);\n}\n\nfunction resizeCanvas(canvas, w, h) {\n\t/* Canvas resize clears the data, so we need to save it first */\n\tvar tmpCanvas = canvas.ownerDocument.createElement(\"canvas\");\n\ttmpCanvas.width = canvas.width;\n\ttmpCanvas.height = canvas.height;\n\tvar tmpContext = tmpCanvas.getContext(\"2d\");\n\ttmpContext.globalCompositeOperation = \"copy\";\n\ttmpContext.drawImage(canvas, 0, 0, tmpCanvas.width, tmpCanvas.height);\n\n\tcanvas.width = w;\n\tcanvas.height = h;\n\n\tvar context = canvas.getContext(\"2d\");\n\n\tcontext.globalCompositeOperation = \"copy\";\n\tcontext.drawImage(tmpCanvas, 0, 0, tmpCanvas.width, tmpCanvas.height);\n}\n\nvar grab = new Object();\ngrab.window = null;\ngrab.ownerEvents = false;\ngrab.implicit = false;\nvar keyDownList = [];\nvar lastSerial = 0;\nvar lastX = 0;\nvar lastY = 0;\nvar lastState;\nvar lastTimeStamp = 0;\nvar realWindowWithMouse = 0;\nvar windowWithMouse = 0;\nvar surfaces = {};\nvar stackingOrder = [];\nvar outstandingCommands = new Array();\nexport var inputSocket = null;\nvar debugDecoding = false;\nvar fakeInput = null;\nvar showKeyboard = false;\nvar showKeyboardChanged = false;\nvar firstTouchDownId = null;\n\nvar GDK_CROSSING_NORMAL = 0;\nvar GDK_CROSSING_GRAB = 1;\nvar GDK_CROSSING_UNGRAB = 2;\n\n// GdkModifierType\nvar GDK_SHIFT_MASK = 1 << 0;\nvar GDK_LOCK_MASK = 1 << 1;\nvar GDK_CONTROL_MASK = 1 << 2;\nvar GDK_MOD1_MASK = 1 << 3;\nvar GDK_MOD2_MASK = 1 << 4;\nvar GDK_MOD3_MASK = 1 << 5;\nvar GDK_MOD4_MASK = 1 << 6;\nvar GDK_MOD5_MASK = 1 << 7;\nvar GDK_BUTTON1_MASK = 1 << 8;\nvar GDK_BUTTON2_MASK = 1 << 9;\nvar GDK_BUTTON3_MASK = 1 << 10;\nvar GDK_BUTTON4_MASK = 1 << 11;\nvar GDK_BUTTON5_MASK = 1 << 12;\nvar GDK_SUPER_MASK = 1 << 26;\nvar GDK_HYPER_MASK = 1 << 27;\nvar GDK_META_MASK = 1 << 28;\nvar GDK_RELEASE_MASK = 1 << 30;\n\nfunction getButtonMask(button) {\n\tif (button == 1) return GDK_BUTTON1_MASK;\n\tif (button == 2) return GDK_BUTTON2_MASK;\n\tif (button == 3) return GDK_BUTTON3_MASK;\n\tif (button == 4) return GDK_BUTTON4_MASK;\n\tif (button == 5) return GDK_BUTTON5_MASK;\n\treturn 0;\n}\n\nfunction sendConfigureNotify(surface) {\n\tsendInput(\"w\", [\n\t\tsurface.id,\n\t\tsurface.x,\n\t\tsurface.y,\n\t\tsurface.width,\n\t\tsurface.height,\n\t]);\n}\n\n/**\n * register web-desktop-environment window\n * @param {{ toplevelElement: HTMLElement }} surface\n */\nfunction addWindow(surface) {\n\tlet layer = 0;\n\tconst id = WindowManager.addWindow(\n\t\t\"gnome-window\",\n\t\t{ type: \"icon\", icon: \"FcLinux\" },\n\t\t{ minimized: false }\n\t);\n\tWindowManager.emitter.on(\n\t\t\"updateZIndex\",\n\t\t({ id: currentId, layer: currentLayer }) => {\n\t\t\tif (currentId === id) {\n\t\t\t\tlayer = currentLayer;\n\t\t\t}\n\t\t}\n\t);\n\tsurface.toplevelElement.addEventListener(\"mousedown\", () => {\n\t\tWindowManager.setActiveWindow(id);\n\t});\n\tWindowManager.reloadWindowsLayers();\n\tsurface.toplevelElement.focus();\n\tconst doBeforeEveryFrame = () => {\n\t\tsurface.toplevelElement.style.zIndex = String(layer);\n\t\trequestAnimationFrame(doBeforeEveryFrame);\n\t};\n\tdoBeforeEveryFrame();\n\tconst i = setInterval(() => {\n\t\tif (!rootDiv.contains(surface.toplevelElement)) {\n\t\t\tWindowManager.closeWindow(id);\n\t\t\tclearInterval(i);\n\t\t}\n\t});\n}\n\nvar positionIndex = 0;\nfunction cmdCreateSurface(id, x, y, width, height, isTemp) {\n\tvar surface = {\n\t\tid: id,\n\t\tx: x,\n\t\ty: y,\n\t\twidth: width,\n\t\theight: height,\n\t\tisTemp: isTemp,\n\t};\n\tsurface.positioned = isTemp;\n\tsurface.transientParent = 0;\n\tsurface.visible = false;\n\tsurface.imageData = null;\n\n\tvar canvas = document.createElement(\"canvas\");\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tcanvas.surface = surface;\n\tsurface.canvas = canvas;\n\tvar toplevelElement;\n\n\ttoplevelElement = canvas;\n\trootDiv.appendChild(canvas);\n\n\tsurface.toplevelElement = toplevelElement;\n\tif (!isTemp) {\n\t\taddWindow(surface);\n\t}\n\ttoplevelElement.style[\"position\"] = \"absolute\";\n\t/* This positioning isn't strictly right for apps in another topwindow,\n\t * but that will be fixed up when showing. */\n\ttoplevelElement.style[\"left\"] = surface.x + \"px\";\n\ttoplevelElement.style[\"top\"] = surface.y + \"px\";\n\ttoplevelElement.style[\"display\"] = \"inline\";\n\n\ttoplevelElement.style[\"visibility\"] = \"hidden\";\n\n\tsurfaces[id] = surface;\n\tstackingOrder.push(surface);\n\n\tsendConfigureNotify(surface);\n}\n\nfunction cmdShowSurface(id) {\n\tvar surface = surfaces[id];\n\n\tif (surface.visible) return;\n\tsurface.visible = true;\n\n\tvar xOffset = surface.x;\n\tvar yOffset = surface.y;\n\n\tsurface.toplevelElement.style[\"left\"] = xOffset + \"px\";\n\tsurface.toplevelElement.style[\"top\"] = yOffset + \"px\";\n\tsurface.toplevelElement.style[\"visibility\"] = \"visible\";\n\n\trestackWindows();\n}\n\nfunction cmdHideSurface(id) {\n\tif (grab.window == id) doUngrab();\n\n\tvar surface = surfaces[id];\n\n\tif (!surface.visible) return;\n\tsurface.visible = false;\n\n\tvar element = surface.toplevelElement;\n\n\telement.style[\"visibility\"] = \"hidden\";\n}\n\nfunction cmdSetTransientFor(id, parentId) {\n\tvar surface = surfaces[id];\n\n\tif (surface.transientParent == parentId) return;\n\n\tsurface.transientParent = parentId;\n\tif (parentId != 0 && surfaces[parentId]) {\n\t\tmoveToHelper(surface, stackingOrder.indexOf(surfaces[parentId]) + 1);\n\t}\n\n\tif (surface.visible) {\n\t\trestackWindows();\n\t}\n}\n\nfunction restackWindows() {\n\tstackingOrder = stackingOrder.filter((v) => v);\n\tfor (var i = 0; i < stackingOrder.length; i++) {\n\t\tvar surface = stackingOrder[i];\n\t\tsurface.toplevelElement.style.zIndex = i;\n\t}\n}\n\nfunction moveToHelper(surface, position) {\n\tvar i = stackingOrder.indexOf(surface);\n\tstackingOrder.splice(i, 1);\n\tif (position != undefined) stackingOrder.splice(position, 0, surface);\n\telse stackingOrder.push(surface);\n\n\tfor (var cid in surfaces) {\n\t\tvar child = surfaces[cid];\n\t\tif (child.transientParent == (surface ? surface.id : null))\n\t\t\tmoveToHelper(child, stackingOrder.indexOf(surface) + 1);\n\t}\n}\n\nfunction cmdDeleteSurface(id) {\n\tif (grab.window == id) doUngrab();\n\n\tvar surface = surfaces[id];\n\tvar i = stackingOrder.indexOf(surface);\n\tif (i >= 0) stackingOrder.splice(i, 1);\n\tvar canvas = surface.canvas;\n\tcanvas.parentNode.removeChild(canvas);\n\tdelete surfaces[id];\n}\n\nfunction cmdMoveResizeSurface(id, has_pos, x, y, has_size, w, h) {\n\tvar surface = surfaces[id];\n\tif (has_pos) {\n\t\tsurface.positioned = true;\n\t\tsurface.x = x;\n\t\tsurface.y = y;\n\t}\n\tif (has_size) {\n\t\tsurface.width = w;\n\t\tsurface.height = h;\n\t}\n\n\tif (has_size) resizeCanvas(surface.canvas, w, h);\n\n\tif (surface.visible) {\n\t\tif (has_pos) {\n\t\t\tvar xOffset = surface.x;\n\t\t\tvar yOffset = surface.y;\n\n\t\t\tvar element = surface.canvas;\n\n\t\t\telement.style[\"left\"] = xOffset + \"px\";\n\t\t\telement.style[\"top\"] = yOffset + \"px\";\n\t\t}\n\t}\n\n\tsendConfigureNotify(surface);\n}\n\nfunction cmdRaiseSurface(id) {\n\tvar surface = surfaces[id];\n\n\tmoveToHelper(surface);\n\trestackWindows();\n}\n\nfunction cmdLowerSurface(id) {\n\tvar surface = surfaces[id];\n\n\tmoveToHelper(surface, 0);\n\trestackWindows();\n}\n\nfunction copyRect(src, srcX, srcY, dest, destX, destY, width, height) {\n\t// Clip to src\n\tif (srcX + width > src.width) width = src.width - srcX;\n\tif (srcY + height > src.height) height = src.height - srcY;\n\n\t// Clip to dest\n\tif (destX + width > dest.width) width = dest.width - destX;\n\tif (destY + height > dest.height) height = dest.height - destY;\n\n\tvar srcRect = src.width * 4 * srcY + srcX * 4;\n\tvar destRect = dest.width * 4 * destY + destX * 4;\n\n\tfor (var i = 0; i < height; i++) {\n\t\tvar line = src.data.subarray(srcRect, srcRect + width * 4);\n\t\tdest.data.set(line, destRect);\n\t\tsrcRect += src.width * 4;\n\t\tdestRect += dest.width * 4;\n\t}\n}\n\nfunction markRun(dest, start, length, r, g, b) {\n\tfor (var i = start; i < start + length * 4; i += 4) {\n\t\tdest[i + 0] = (dest[i + 0] / 2) | (0 + r);\n\t\tdest[i + 1] = (dest[i + 1] / 2) | (0 + g);\n\t\tdest[i + 2] = (dest[i + 2] / 2) | (0 + b);\n\t}\n}\n\nfunction markRect(src, srcX, srcY, dest, destX, destY, width, height, r, g, b) {\n\t// Clip to src\n\tif (srcX + width > src.width) width = src.width - srcX;\n\tif (srcY + height > src.height) height = src.height - srcY;\n\n\t// Clip to dest\n\tif (destX + width > dest.width) width = dest.width - destX;\n\tif (destY + height > dest.height) height = dest.height - destY;\n\n\tvar destRect = dest.width * 4 * destY + destX * 4;\n\n\tfor (var i = 0; i < height; i++) {\n\t\tif (i == 0 || i == height - 1) markRun(dest.data, destRect, width, 0, 0, 0);\n\t\telse {\n\t\t\tmarkRun(dest.data, destRect, 1, 0, 0, 0);\n\t\t\tmarkRun(dest.data, destRect + 4, width - 2, r, g, b);\n\t\t\tmarkRun(dest.data, destRect + 4 * width - 4, 1, 0, 0, 0);\n\t\t}\n\t\tdestRect += dest.width * 4;\n\t}\n}\n\nfunction decodeBuffer(context, oldData, w, h, data, debug) {\n\tvar i, j;\n\tvar imageData = context.createImageData(w, h);\n\n\tif (oldData != null) {\n\t\t// Copy old frame into new buffer\n\t\tcopyRect(oldData, 0, 0, imageData, 0, 0, oldData.width, oldData.height);\n\t}\n\n\tvar src = 0;\n\tvar dest = 0;\n\n\twhile (src < data.length) {\n\t\tvar b = data[src++];\n\t\tvar g = data[src++];\n\t\tvar r = data[src++];\n\t\tvar alpha = data[src++];\n\t\tvar len, start;\n\n\t\tif (alpha != 0) {\n\t\t\t// Regular data is red\n\t\t\tif (debug) {\n\t\t\t\tr = (r / 2) | (0 + 128);\n\t\t\t\tg = (g / 2) | 0;\n\t\t\t\tb = (r / 2) | 0;\n\t\t\t}\n\n\t\t\timageData.data[dest++] = r;\n\t\t\timageData.data[dest++] = g;\n\t\t\timageData.data[dest++] = b;\n\t\t\timageData.data[dest++] = alpha;\n\t\t} else {\n\t\t\tvar cmd = r & 0xf0;\n\t\t\tswitch (cmd) {\n\t\t\t\tcase 0x00: // Transparent pixel\n\t\t\t\t\t//log(\"Got transparent\");\n\t\t\t\t\timageData.data[dest++] = 0;\n\t\t\t\t\timageData.data[dest++] = 0;\n\t\t\t\t\timageData.data[dest++] = 0;\n\t\t\t\t\timageData.data[dest++] = 0;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x10: // Delta 0 run\n\t\t\t\t\tlen = ((r & 0xf) << 16) | (g << 8) | b;\n\t\t\t\t\t//log(\"Got delta0, len: \" + len);\n\t\t\t\t\tdest += len * 4;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x20: // Block reference\n\t\t\t\t\tvar blockid = ((r & 0xf) << 16) | (g << 8) | b;\n\n\t\t\t\t\tvar block_stride = ((oldData.width + 32 - 1) / 32) | 0;\n\t\t\t\t\tvar srcY = ((blockid / block_stride) | 0) * 32;\n\t\t\t\t\tvar srcX = (blockid % block_stride | 0) * 32;\n\n\t\t\t\t\tb = data[src++];\n\t\t\t\t\tg = data[src++];\n\t\t\t\t\tr = data[src++];\n\t\t\t\t\talpha = data[src++];\n\n\t\t\t\t\tvar destX = (alpha << 8) | r;\n\t\t\t\t\tvar destY = (g << 8) | b;\n\n\t\t\t\t\tcopyRect(oldData, srcX, srcY, imageData, destX, destY, 32, 32);\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\t// blocks are green\n\t\t\t\t\t\tmarkRect(\n\t\t\t\t\t\t\toldData,\n\t\t\t\t\t\t\tsrcX,\n\t\t\t\t\t\t\tsrcY,\n\t\t\t\t\t\t\timageData,\n\t\t\t\t\t\t\tdestX,\n\t\t\t\t\t\t\tdestY,\n\t\t\t\t\t\t\t32,\n\t\t\t\t\t\t\t32,\n\t\t\t\t\t\t\t0x00,\n\t\t\t\t\t\t\t128,\n\t\t\t\t\t\t\t0x00\n\t\t\t\t\t\t);\n\n\t\t\t\t\t//log(\"Got block, id: \" + blockid +  \"(\" + srcX +\",\" + srcY + \") at \" + destX + \",\" + destY);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x30: // Color run\n\t\t\t\t\tlen = ((r & 0xf) << 16) | (g << 8) | b;\n\t\t\t\t\t//log(\"Got color run, len: \" + len);\n\n\t\t\t\t\tb = data[src++];\n\t\t\t\t\tg = data[src++];\n\t\t\t\t\tr = data[src++];\n\t\t\t\t\talpha = data[src++];\n\n\t\t\t\t\tstart = dest;\n\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\timageData.data[dest++] = r;\n\t\t\t\t\t\timageData.data[dest++] = g;\n\t\t\t\t\t\timageData.data[dest++] = b;\n\t\t\t\t\t\timageData.data[dest++] = alpha;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\t// Color runs are blue\n\t\t\t\t\t\tmarkRun(imageData.data, start, len, 0x00, 0x00, 128);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x40: // Delta run\n\t\t\t\t\tlen = ((r & 0xf) << 16) | (g << 8) | b;\n\t\t\t\t\t//log(\"Got delta run, len: \" + len);\n\n\t\t\t\t\tb = data[src++];\n\t\t\t\t\tg = data[src++];\n\t\t\t\t\tr = data[src++];\n\t\t\t\t\talpha = data[src++];\n\n\t\t\t\t\tstart = dest;\n\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\timageData.data[dest] = (imageData.data[dest] + r) & 0xff;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t\timageData.data[dest] = (imageData.data[dest] + g) & 0xff;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t\timageData.data[dest] = (imageData.data[dest] + b) & 0xff;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t\timageData.data[dest] = (imageData.data[dest] + alpha) & 0xff;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t}\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\t// Delta runs are violet\n\t\t\t\t\t\tmarkRun(imageData.data, start, len, 0xff, 0x00, 0xff);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error(\"Unknown buffer commend \" + cmd);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn imageData;\n}\n\nfunction cmdPutBuffer(id, w, h, compressed) {\n\tvar surface = surfaces[id];\n\tvar context = surface.canvas.getContext(\"2d\");\n\n\tinflateRaw(compressed, (e, data) => {\n\t\tvar imageData = decodeBuffer(\n\t\t\tcontext,\n\t\t\tsurface.imageData,\n\t\t\tw,\n\t\t\th,\n\t\t\tdata,\n\t\t\tdebugDecoding\n\t\t);\n\t\tcontext.putImageData(imageData, 0, 0);\n\n\t\tif (debugDecoding)\n\t\t\timageData = decodeBuffer(context, surface.imageData, w, h, data, false);\n\n\t\tsurface.imageData = imageData;\n\t});\n}\n\nfunction cmdGrabPointer(id, ownerEvents) {\n\tdoGrab(id, ownerEvents, false);\n\tsendInput(\"g\", []);\n}\n\nfunction cmdUngrabPointer() {\n\tsendInput(\"u\", []);\n\tif (grab.window) doUngrab();\n}\n\nvar active = false;\nfunction handleCommands(cmd) {\n\tif (!active) {\n\t\tstart();\n\t\tactive = true;\n\t}\n\n\twhile (cmd.pos < cmd.length) {\n\t\tvar id, x, y, w, h, q;\n\t\tvar command = cmd.get_char();\n\t\tlastSerial = cmd.get_32();\n\t\tswitch (command) {\n\t\t\tcase \"D\":\n\t\t\t\tinputSocket = null;\n\t\t\t\tGTKBridgeEmitter.call(\"status\", \"disconnected\");\n\t\t\t\trootDiv.innerHTML = \"\";\n\t\t\t\tbreak;\n\n\t\t\tcase \"s\": // create new surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tconsole.log(id);\n\t\t\t\tx = cmd.get_16s();\n\t\t\t\ty = cmd.get_16s();\n\t\t\t\tw = cmd.get_16();\n\t\t\t\th = cmd.get_16();\n\t\t\t\tvar isTemp = cmd.get_bool();\n\t\t\t\tcmdCreateSurface(id, x, y, w, h, isTemp);\n\t\t\t\tbreak;\n\n\t\t\tcase \"S\": // Show a surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tcmdShowSurface(id);\n\t\t\t\tbreak;\n\n\t\t\tcase \"H\": // Hide a surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tcmdHideSurface(id);\n\t\t\t\tbreak;\n\n\t\t\tcase \"p\": // Set transient parent\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tvar parentId = cmd.get_16();\n\t\t\t\tcmdSetTransientFor(id, parentId);\n\t\t\t\tbreak;\n\n\t\t\tcase \"d\": // Delete surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tcmdDeleteSurface(id);\n\t\t\t\tbreak;\n\n\t\t\tcase \"m\": // Move a surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tvar ops = cmd.get_flags();\n\t\t\t\tvar has_pos = ops & 1;\n\t\t\t\tif (has_pos) {\n\t\t\t\t\tx = cmd.get_16s();\n\t\t\t\t\ty = cmd.get_16s();\n\t\t\t\t}\n\t\t\t\tvar has_size = ops & 2;\n\t\t\t\tif (has_size) {\n\t\t\t\t\tw = cmd.get_16();\n\t\t\t\t\th = cmd.get_16();\n\t\t\t\t}\n\t\t\t\tcmdMoveResizeSurface(id, has_pos, x, y, has_size, w, h);\n\t\t\t\tbreak;\n\n\t\t\tcase \"r\": // Raise a surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tcmdRaiseSurface(id);\n\t\t\t\tbreak;\n\n\t\t\tcase \"R\": // Lower a surface\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tcmdLowerSurface(id);\n\t\t\t\tbreak;\n\n\t\t\tcase \"b\": // Put image buffer\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tw = cmd.get_16();\n\t\t\t\th = cmd.get_16();\n\t\t\t\tvar data = cmd.get_data();\n\t\t\t\tcmdPutBuffer(id, w, h, data);\n\t\t\t\tbreak;\n\n\t\t\tcase \"g\": // Grab\n\t\t\t\tid = cmd.get_16();\n\t\t\t\tvar ownerEvents = cmd.get_bool();\n\n\t\t\t\tcmdGrabPointer(id, ownerEvents);\n\t\t\t\tbreak;\n\n\t\t\tcase \"u\": // Ungrab\n\t\t\t\tcmdUngrabPointer();\n\t\t\t\tbreak;\n\n\t\t\tcase \"k\": // show keyboard\n\t\t\t\tshowKeyboard = cmd.get_16() != 0;\n\t\t\t\tshowKeyboardChanged = true;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"Unknown op \" + command\n\t\t\t\t);\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction handleOutstanding() {\n\twhile (outstandingCommands.length > 0) {\n\t\tvar cmd = outstandingCommands.shift();\n\t\tif (!handleCommands(cmd)) {\n\t\t\toutstandingCommands.unshift(cmd);\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nfunction BinCommands(message) {\n\tthis.arraybuffer = message;\n\tthis.u8 = new Uint8Array(message);\n\tthis.length = this.u8.length;\n\tthis.pos = 0;\n}\n\nBinCommands.prototype.get_char = function () {\n\treturn String.fromCharCode(this.u8[this.pos++]);\n};\nBinCommands.prototype.get_bool = function () {\n\treturn this.u8[this.pos++] != 0;\n};\nBinCommands.prototype.get_flags = function () {\n\treturn this.u8[this.pos++];\n};\nBinCommands.prototype.get_16 = function () {\n\tvar v = this.u8[this.pos] + (this.u8[this.pos + 1] << 8);\n\tthis.pos = this.pos + 2;\n\treturn v;\n};\nBinCommands.prototype.get_16s = function () {\n\tvar v = this.get_16();\n\tif (v > 32767) return v - 65536;\n\telse return v;\n};\nBinCommands.prototype.get_32 = function () {\n\tvar v =\n\t\tthis.u8[this.pos] +\n\t\t(this.u8[this.pos + 1] << 8) +\n\t\t(this.u8[this.pos + 2] << 16) +\n\t\t(this.u8[this.pos + 3] << 24);\n\tthis.pos = this.pos + 4;\n\treturn v;\n};\nBinCommands.prototype.get_data = function () {\n\tvar size = this.get_32();\n\tvar data = new Uint8Array(this.arraybuffer, this.pos, size);\n\tthis.pos = this.pos + size;\n\treturn data;\n};\n\nfunction handleMessage(message) {\n\tvar cmd = new BinCommands(message);\n\toutstandingCommands.push(cmd);\n\tif (outstandingCommands.length == 1) {\n\t\thandleOutstanding();\n\t}\n}\n\nfunction getSurfaceId(ev) {\n\tvar surface = ev.target.surface;\n\tif (surface != undefined) return surface.id;\n\treturn 0;\n}\n\nfunction sendInput(cmd, args) {\n\tif (inputSocket == null) return;\n\n\tvar fullArgs = [cmd.charCodeAt(0), lastSerial, lastTimeStamp].concat(args);\n\tvar buffer = new ArrayBuffer(fullArgs.length * 4);\n\tvar view = new DataView(buffer);\n\tfullArgs.forEach(function (arg, i) {\n\t\tview.setInt32(i * 4, arg, false);\n\t});\n\n\tinputSocket.send(buffer);\n}\n\nfunction getPositionsFromAbsCoord(absX, absY, relativeId) {\n\tvar res = Object();\n\n\tres.rootX = absX;\n\tres.rootY = absY;\n\tres.winX = absX;\n\tres.winY = absY;\n\tif (relativeId != 0) {\n\t\tvar surface = surfaces[relativeId];\n\t\tres.winX = res.winX - surface.x;\n\t\tres.winY = res.winY - surface.y;\n\t}\n\n\treturn res;\n}\n\nfunction getPositionsFromEvent(ev, relativeId) {\n\tvar absX, absY;\n\tabsX = ev.pageX;\n\tabsY = ev.pageY;\n\tvar res = getPositionsFromAbsCoord(absX, absY, relativeId);\n\n\tlastX = res.rootX;\n\tlastY = res.rootY;\n\n\treturn res;\n}\n\nfunction getEffectiveEventTarget(id) {\n\tif (grab.window != null) {\n\t\tif (!grab.ownerEvents) return grab.window;\n\t\tif (id == 0) return grab.window;\n\t}\n\treturn id;\n}\n\nfunction updateKeyboardStatus() {\n\tif (fakeInput != null && showKeyboardChanged) {\n\t\tshowKeyboardChanged = false;\n\t\tif (showKeyboard) fakeInput.focus();\n\t\telse fakeInput.blur();\n\t}\n}\n\nfunction updateForEvent(ev) {\n\tlastState &= ~(GDK_SHIFT_MASK | GDK_CONTROL_MASK | GDK_MOD1_MASK);\n\tif (ev.shiftKey) lastState |= GDK_SHIFT_MASK;\n\tif (ev.ctrlKey) lastState |= GDK_CONTROL_MASK;\n\tif (ev.altKey) lastState |= GDK_MOD1_MASK;\n\n\tlastTimeStamp = ev.timeStamp;\n}\n\nfunction onMouseMove(ev) {\n\tupdateForEvent(ev);\n\tvar id = getSurfaceId(ev);\n\tid = getEffectiveEventTarget(id);\n\tvar pos = getPositionsFromEvent(ev, id);\n\tsendInput(\"m\", [\n\t\trealWindowWithMouse,\n\t\tid,\n\t\tpos.rootX,\n\t\tpos.rootY,\n\t\tpos.winX,\n\t\tpos.winY,\n\t\tlastState,\n\t]);\n}\n\nfunction onMouseOver(ev) {\n\tupdateForEvent(ev);\n\n\tvar id = getSurfaceId(ev);\n\trealWindowWithMouse = id;\n\tid = getEffectiveEventTarget(id);\n\tvar pos = getPositionsFromEvent(ev, id);\n\twindowWithMouse = id;\n\tif (windowWithMouse != 0) {\n\t\tsendInput(\"e\", [\n\t\t\trealWindowWithMouse,\n\t\t\tid,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t\tGDK_CROSSING_NORMAL,\n\t\t]);\n\t}\n}\n\nfunction onMouseOut(ev) {\n\tupdateForEvent(ev);\n\tvar id = getSurfaceId(ev);\n\tvar origId = id;\n\tid = getEffectiveEventTarget(id);\n\tvar pos = getPositionsFromEvent(ev, id);\n\n\tif (id != 0) {\n\t\tsendInput(\"l\", [\n\t\t\trealWindowWithMouse,\n\t\t\tid,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t\tGDK_CROSSING_NORMAL,\n\t\t]);\n\t}\n\trealWindowWithMouse = 0;\n\twindowWithMouse = 0;\n}\n\nfunction doGrab(id, ownerEvents, implicit) {\n\tvar pos;\n\n\tif (windowWithMouse != id) {\n\t\tif (windowWithMouse != 0) {\n\t\t\tpos = getPositionsFromAbsCoord(lastX, lastY, windowWithMouse);\n\t\t\tsendInput(\"l\", [\n\t\t\t\trealWindowWithMouse,\n\t\t\t\twindowWithMouse,\n\t\t\t\tpos.rootX,\n\t\t\t\tpos.rootY,\n\t\t\t\tpos.winX,\n\t\t\t\tpos.winY,\n\t\t\t\tlastState,\n\t\t\t\tGDK_CROSSING_GRAB,\n\t\t\t]);\n\t\t}\n\t\tpos = getPositionsFromAbsCoord(lastX, lastY, id);\n\t\tsendInput(\"e\", [\n\t\t\trealWindowWithMouse,\n\t\t\tid,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t\tGDK_CROSSING_GRAB,\n\t\t]);\n\t\twindowWithMouse = id;\n\t}\n\n\tgrab.window = id;\n\tgrab.ownerEvents = ownerEvents;\n\tgrab.implicit = implicit;\n}\n\nfunction doUngrab() {\n\tvar pos;\n\tif (realWindowWithMouse != windowWithMouse) {\n\t\tif (windowWithMouse != 0) {\n\t\t\tpos = getPositionsFromAbsCoord(lastX, lastY, windowWithMouse);\n\t\t\tsendInput(\"l\", [\n\t\t\t\trealWindowWithMouse,\n\t\t\t\twindowWithMouse,\n\t\t\t\tpos.rootX,\n\t\t\t\tpos.rootY,\n\t\t\t\tpos.winX,\n\t\t\t\tpos.winY,\n\t\t\t\tlastState,\n\t\t\t\tGDK_CROSSING_UNGRAB,\n\t\t\t]);\n\t\t}\n\t\tif (realWindowWithMouse != 0) {\n\t\t\tpos = getPositionsFromAbsCoord(lastX, lastY, realWindowWithMouse);\n\t\t\tsendInput(\"e\", [\n\t\t\t\trealWindowWithMouse,\n\t\t\t\trealWindowWithMouse,\n\t\t\t\tpos.rootX,\n\t\t\t\tpos.rootY,\n\t\t\t\tpos.winX,\n\t\t\t\tpos.winY,\n\t\t\t\tlastState,\n\t\t\t\tGDK_CROSSING_UNGRAB,\n\t\t\t]);\n\t\t}\n\t\twindowWithMouse = realWindowWithMouse;\n\t}\n\tgrab.window = null;\n}\n\nfunction onMouseDown(ev) {\n\tupdateForEvent(ev);\n\tvar button = ev.button + 1;\n\tlastState = lastState | getButtonMask(button);\n\tvar id = getSurfaceId(ev);\n\tid = getEffectiveEventTarget(id);\n\n\tvar pos = getPositionsFromEvent(ev, id);\n\tif (grab.window == null) doGrab(id, false, true);\n\tsendInput(\"b\", [\n\t\trealWindowWithMouse,\n\t\tid,\n\t\tpos.rootX,\n\t\tpos.rootY,\n\t\tpos.winX,\n\t\tpos.winY,\n\t\tlastState,\n\t\tbutton,\n\t]);\n\treturn false;\n}\n\nfunction onMouseUp(ev) {\n\tupdateForEvent(ev);\n\tvar button = ev.button + 1;\n\tlastState = lastState & ~getButtonMask(button);\n\tvar evId = getSurfaceId(ev);\n\tlet id = getEffectiveEventTarget(evId);\n\tvar pos = getPositionsFromEvent(ev, id);\n\n\tsendInput(\"B\", [\n\t\trealWindowWithMouse,\n\t\tid,\n\t\tpos.rootX,\n\t\tpos.rootY,\n\t\tpos.winX,\n\t\tpos.winY,\n\t\tlastState,\n\t\tbutton,\n\t]);\n\n\tif (grab.window != null && grab.implicit) doUngrab();\n\n\treturn false;\n}\n\n/* Some of the keyboard handling code is from noVNC and\n * (c) Joel Martin (github@martintribe.org), used with permission\n *  Original code at:\n * https://github.com/kanaka/noVNC/blob/master/include/input.js\n */\n\nvar unicodeTable = {\n\t0x0104: 0x01a1,\n\t0x02d8: 0x01a2,\n\t0x0141: 0x01a3,\n\t0x013d: 0x01a5,\n\t0x015a: 0x01a6,\n\t0x0160: 0x01a9,\n\t0x015e: 0x01aa,\n\t0x0164: 0x01ab,\n\t0x0179: 0x01ac,\n\t0x017d: 0x01ae,\n\t0x017b: 0x01af,\n\t0x0105: 0x01b1,\n\t0x02db: 0x01b2,\n\t0x0142: 0x01b3,\n\t0x013e: 0x01b5,\n\t0x015b: 0x01b6,\n\t0x02c7: 0x01b7,\n\t0x0161: 0x01b9,\n\t0x015f: 0x01ba,\n\t0x0165: 0x01bb,\n\t0x017a: 0x01bc,\n\t0x02dd: 0x01bd,\n\t0x017e: 0x01be,\n\t0x017c: 0x01bf,\n\t0x0154: 0x01c0,\n\t0x0102: 0x01c3,\n\t0x0139: 0x01c5,\n\t0x0106: 0x01c6,\n\t0x010c: 0x01c8,\n\t0x0118: 0x01ca,\n\t0x011a: 0x01cc,\n\t0x010e: 0x01cf,\n\t0x0110: 0x01d0,\n\t0x0143: 0x01d1,\n\t0x0147: 0x01d2,\n\t0x0150: 0x01d5,\n\t0x0158: 0x01d8,\n\t0x016e: 0x01d9,\n\t0x0170: 0x01db,\n\t0x0162: 0x01de,\n\t0x0155: 0x01e0,\n\t0x0103: 0x01e3,\n\t0x013a: 0x01e5,\n\t0x0107: 0x01e6,\n\t0x010d: 0x01e8,\n\t0x0119: 0x01ea,\n\t0x011b: 0x01ec,\n\t0x010f: 0x01ef,\n\t0x0111: 0x01f0,\n\t0x0144: 0x01f1,\n\t0x0148: 0x01f2,\n\t0x0151: 0x01f5,\n\t0x0171: 0x01fb,\n\t0x0159: 0x01f8,\n\t0x016f: 0x01f9,\n\t0x0163: 0x01fe,\n\t0x02d9: 0x01ff,\n\t0x0126: 0x02a1,\n\t0x0124: 0x02a6,\n\t0x0130: 0x02a9,\n\t0x011e: 0x02ab,\n\t0x0134: 0x02ac,\n\t0x0127: 0x02b1,\n\t0x0125: 0x02b6,\n\t0x0131: 0x02b9,\n\t0x011f: 0x02bb,\n\t0x0135: 0x02bc,\n\t0x010a: 0x02c5,\n\t0x0108: 0x02c6,\n\t0x0120: 0x02d5,\n\t0x011c: 0x02d8,\n\t0x016c: 0x02dd,\n\t0x015c: 0x02de,\n\t0x010b: 0x02e5,\n\t0x0109: 0x02e6,\n\t0x0121: 0x02f5,\n\t0x011d: 0x02f8,\n\t0x016d: 0x02fd,\n\t0x015d: 0x02fe,\n\t0x0138: 0x03a2,\n\t0x0156: 0x03a3,\n\t0x0128: 0x03a5,\n\t0x013b: 0x03a6,\n\t0x0112: 0x03aa,\n\t0x0122: 0x03ab,\n\t0x0166: 0x03ac,\n\t0x0157: 0x03b3,\n\t0x0129: 0x03b5,\n\t0x013c: 0x03b6,\n\t0x0113: 0x03ba,\n\t0x0123: 0x03bb,\n\t0x0167: 0x03bc,\n\t0x014a: 0x03bd,\n\t0x014b: 0x03bf,\n\t0x0100: 0x03c0,\n\t0x012e: 0x03c7,\n\t0x0116: 0x03cc,\n\t0x012a: 0x03cf,\n\t0x0145: 0x03d1,\n\t0x014c: 0x03d2,\n\t0x0136: 0x03d3,\n\t0x0172: 0x03d9,\n\t0x0168: 0x03dd,\n\t0x016a: 0x03de,\n\t0x0101: 0x03e0,\n\t0x012f: 0x03e7,\n\t0x0117: 0x03ec,\n\t0x012b: 0x03ef,\n\t0x0146: 0x03f1,\n\t0x014d: 0x03f2,\n\t0x0137: 0x03f3,\n\t0x0173: 0x03f9,\n\t0x0169: 0x03fd,\n\t0x016b: 0x03fe,\n\t0x1e02: 0x1001e02,\n\t0x1e03: 0x1001e03,\n\t0x1e0a: 0x1001e0a,\n\t0x1e80: 0x1001e80,\n\t0x1e82: 0x1001e82,\n\t0x1e0b: 0x1001e0b,\n\t0x1ef2: 0x1001ef2,\n\t0x1e1e: 0x1001e1e,\n\t0x1e1f: 0x1001e1f,\n\t0x1e40: 0x1001e40,\n\t0x1e41: 0x1001e41,\n\t0x1e56: 0x1001e56,\n\t0x1e81: 0x1001e81,\n\t0x1e57: 0x1001e57,\n\t0x1e83: 0x1001e83,\n\t0x1e60: 0x1001e60,\n\t0x1ef3: 0x1001ef3,\n\t0x1e84: 0x1001e84,\n\t0x1e85: 0x1001e85,\n\t0x1e61: 0x1001e61,\n\t0x0174: 0x1000174,\n\t0x1e6a: 0x1001e6a,\n\t0x0176: 0x1000176,\n\t0x0175: 0x1000175,\n\t0x1e6b: 0x1001e6b,\n\t0x0177: 0x1000177,\n\t0x0152: 0x13bc,\n\t0x0153: 0x13bd,\n\t0x0178: 0x13be,\n\t0x203e: 0x047e,\n\t0x3002: 0x04a1,\n\t0x300c: 0x04a2,\n\t0x300d: 0x04a3,\n\t0x3001: 0x04a4,\n\t0x30fb: 0x04a5,\n\t0x30f2: 0x04a6,\n\t0x30a1: 0x04a7,\n\t0x30a3: 0x04a8,\n\t0x30a5: 0x04a9,\n\t0x30a7: 0x04aa,\n\t0x30a9: 0x04ab,\n\t0x30e3: 0x04ac,\n\t0x30e5: 0x04ad,\n\t0x30e7: 0x04ae,\n\t0x30c3: 0x04af,\n\t0x30fc: 0x04b0,\n\t0x30a2: 0x04b1,\n\t0x30a4: 0x04b2,\n\t0x30a6: 0x04b3,\n\t0x30a8: 0x04b4,\n\t0x30aa: 0x04b5,\n\t0x30ab: 0x04b6,\n\t0x30ad: 0x04b7,\n\t0x30af: 0x04b8,\n\t0x30b1: 0x04b9,\n\t0x30b3: 0x04ba,\n\t0x30b5: 0x04bb,\n\t0x30b7: 0x04bc,\n\t0x30b9: 0x04bd,\n\t0x30bb: 0x04be,\n\t0x30bd: 0x04bf,\n\t0x30bf: 0x04c0,\n\t0x30c1: 0x04c1,\n\t0x30c4: 0x04c2,\n\t0x30c6: 0x04c3,\n\t0x30c8: 0x04c4,\n\t0x30ca: 0x04c5,\n\t0x30cb: 0x04c6,\n\t0x30cc: 0x04c7,\n\t0x30cd: 0x04c8,\n\t0x30ce: 0x04c9,\n\t0x30cf: 0x04ca,\n\t0x30d2: 0x04cb,\n\t0x30d5: 0x04cc,\n\t0x30d8: 0x04cd,\n\t0x30db: 0x04ce,\n\t0x30de: 0x04cf,\n\t0x30df: 0x04d0,\n\t0x30e0: 0x04d1,\n\t0x30e1: 0x04d2,\n\t0x30e2: 0x04d3,\n\t0x30e4: 0x04d4,\n\t0x30e6: 0x04d5,\n\t0x30e8: 0x04d6,\n\t0x30e9: 0x04d7,\n\t0x30ea: 0x04d8,\n\t0x30eb: 0x04d9,\n\t0x30ec: 0x04da,\n\t0x30ed: 0x04db,\n\t0x30ef: 0x04dc,\n\t0x30f3: 0x04dd,\n\t0x309b: 0x04de,\n\t0x309c: 0x04df,\n\t0x06f0: 0x10006f0,\n\t0x06f1: 0x10006f1,\n\t0x06f2: 0x10006f2,\n\t0x06f3: 0x10006f3,\n\t0x06f4: 0x10006f4,\n\t0x06f5: 0x10006f5,\n\t0x06f6: 0x10006f6,\n\t0x06f7: 0x10006f7,\n\t0x06f8: 0x10006f8,\n\t0x06f9: 0x10006f9,\n\t0x066a: 0x100066a,\n\t0x0670: 0x1000670,\n\t0x0679: 0x1000679,\n\t0x067e: 0x100067e,\n\t0x0686: 0x1000686,\n\t0x0688: 0x1000688,\n\t0x0691: 0x1000691,\n\t0x060c: 0x05ac,\n\t0x06d4: 0x10006d4,\n\t0x0660: 0x1000660,\n\t0x0661: 0x1000661,\n\t0x0662: 0x1000662,\n\t0x0663: 0x1000663,\n\t0x0664: 0x1000664,\n\t0x0665: 0x1000665,\n\t0x0666: 0x1000666,\n\t0x0667: 0x1000667,\n\t0x0668: 0x1000668,\n\t0x0669: 0x1000669,\n\t0x061b: 0x05bb,\n\t0x061f: 0x05bf,\n\t0x0621: 0x05c1,\n\t0x0622: 0x05c2,\n\t0x0623: 0x05c3,\n\t0x0624: 0x05c4,\n\t0x0625: 0x05c5,\n\t0x0626: 0x05c6,\n\t0x0627: 0x05c7,\n\t0x0628: 0x05c8,\n\t0x0629: 0x05c9,\n\t0x062a: 0x05ca,\n\t0x062b: 0x05cb,\n\t0x062c: 0x05cc,\n\t0x062d: 0x05cd,\n\t0x062e: 0x05ce,\n\t0x062f: 0x05cf,\n\t0x0630: 0x05d0,\n\t0x0631: 0x05d1,\n\t0x0632: 0x05d2,\n\t0x0633: 0x05d3,\n\t0x0634: 0x05d4,\n\t0x0635: 0x05d5,\n\t0x0636: 0x05d6,\n\t0x0637: 0x05d7,\n\t0x0638: 0x05d8,\n\t0x0639: 0x05d9,\n\t0x063a: 0x05da,\n\t0x0640: 0x05e0,\n\t0x0641: 0x05e1,\n\t0x0642: 0x05e2,\n\t0x0643: 0x05e3,\n\t0x0644: 0x05e4,\n\t0x0645: 0x05e5,\n\t0x0646: 0x05e6,\n\t0x0647: 0x05e7,\n\t0x0648: 0x05e8,\n\t0x0649: 0x05e9,\n\t0x064a: 0x05ea,\n\t0x064b: 0x05eb,\n\t0x064c: 0x05ec,\n\t0x064d: 0x05ed,\n\t0x064e: 0x05ee,\n\t0x064f: 0x05ef,\n\t0x0650: 0x05f0,\n\t0x0651: 0x05f1,\n\t0x0652: 0x05f2,\n\t0x0653: 0x1000653,\n\t0x0654: 0x1000654,\n\t0x0655: 0x1000655,\n\t0x0698: 0x1000698,\n\t0x06a4: 0x10006a4,\n\t0x06a9: 0x10006a9,\n\t0x06af: 0x10006af,\n\t0x06ba: 0x10006ba,\n\t0x06be: 0x10006be,\n\t0x06cc: 0x10006cc,\n\t0x06d2: 0x10006d2,\n\t0x06c1: 0x10006c1,\n\t0x0492: 0x1000492,\n\t0x0493: 0x1000493,\n\t0x0496: 0x1000496,\n\t0x0497: 0x1000497,\n\t0x049a: 0x100049a,\n\t0x049b: 0x100049b,\n\t0x049c: 0x100049c,\n\t0x049d: 0x100049d,\n\t0x04a2: 0x10004a2,\n\t0x04a3: 0x10004a3,\n\t0x04ae: 0x10004ae,\n\t0x04af: 0x10004af,\n\t0x04b0: 0x10004b0,\n\t0x04b1: 0x10004b1,\n\t0x04b2: 0x10004b2,\n\t0x04b3: 0x10004b3,\n\t0x04b6: 0x10004b6,\n\t0x04b7: 0x10004b7,\n\t0x04b8: 0x10004b8,\n\t0x04b9: 0x10004b9,\n\t0x04ba: 0x10004ba,\n\t0x04bb: 0x10004bb,\n\t0x04d8: 0x10004d8,\n\t0x04d9: 0x10004d9,\n\t0x04e2: 0x10004e2,\n\t0x04e3: 0x10004e3,\n\t0x04e8: 0x10004e8,\n\t0x04e9: 0x10004e9,\n\t0x04ee: 0x10004ee,\n\t0x04ef: 0x10004ef,\n\t0x0452: 0x06a1,\n\t0x0453: 0x06a2,\n\t0x0451: 0x06a3,\n\t0x0454: 0x06a4,\n\t0x0455: 0x06a5,\n\t0x0456: 0x06a6,\n\t0x0457: 0x06a7,\n\t0x0458: 0x06a8,\n\t0x0459: 0x06a9,\n\t0x045a: 0x06aa,\n\t0x045b: 0x06ab,\n\t0x045c: 0x06ac,\n\t0x0491: 0x06ad,\n\t0x045e: 0x06ae,\n\t0x045f: 0x06af,\n\t0x2116: 0x06b0,\n\t0x0402: 0x06b1,\n\t0x0403: 0x06b2,\n\t0x0401: 0x06b3,\n\t0x0404: 0x06b4,\n\t0x0405: 0x06b5,\n\t0x0406: 0x06b6,\n\t0x0407: 0x06b7,\n\t0x0408: 0x06b8,\n\t0x0409: 0x06b9,\n\t0x040a: 0x06ba,\n\t0x040b: 0x06bb,\n\t0x040c: 0x06bc,\n\t0x0490: 0x06bd,\n\t0x040e: 0x06be,\n\t0x040f: 0x06bf,\n\t0x044e: 0x06c0,\n\t0x0430: 0x06c1,\n\t0x0431: 0x06c2,\n\t0x0446: 0x06c3,\n\t0x0434: 0x06c4,\n\t0x0435: 0x06c5,\n\t0x0444: 0x06c6,\n\t0x0433: 0x06c7,\n\t0x0445: 0x06c8,\n\t0x0438: 0x06c9,\n\t0x0439: 0x06ca,\n\t0x043a: 0x06cb,\n\t0x043b: 0x06cc,\n\t0x043c: 0x06cd,\n\t0x043d: 0x06ce,\n\t0x043e: 0x06cf,\n\t0x043f: 0x06d0,\n\t0x044f: 0x06d1,\n\t0x0440: 0x06d2,\n\t0x0441: 0x06d3,\n\t0x0442: 0x06d4,\n\t0x0443: 0x06d5,\n\t0x0436: 0x06d6,\n\t0x0432: 0x06d7,\n\t0x044c: 0x06d8,\n\t0x044b: 0x06d9,\n\t0x0437: 0x06da,\n\t0x0448: 0x06db,\n\t0x044d: 0x06dc,\n\t0x0449: 0x06dd,\n\t0x0447: 0x06de,\n\t0x044a: 0x06df,\n\t0x042e: 0x06e0,\n\t0x0410: 0x06e1,\n\t0x0411: 0x06e2,\n\t0x0426: 0x06e3,\n\t0x0414: 0x06e4,\n\t0x0415: 0x06e5,\n\t0x0424: 0x06e6,\n\t0x0413: 0x06e7,\n\t0x0425: 0x06e8,\n\t0x0418: 0x06e9,\n\t0x0419: 0x06ea,\n\t0x041a: 0x06eb,\n\t0x041b: 0x06ec,\n\t0x041c: 0x06ed,\n\t0x041d: 0x06ee,\n\t0x041e: 0x06ef,\n\t0x041f: 0x06f0,\n\t0x042f: 0x06f1,\n\t0x0420: 0x06f2,\n\t0x0421: 0x06f3,\n\t0x0422: 0x06f4,\n\t0x0423: 0x06f5,\n\t0x0416: 0x06f6,\n\t0x0412: 0x06f7,\n\t0x042c: 0x06f8,\n\t0x042b: 0x06f9,\n\t0x0417: 0x06fa,\n\t0x0428: 0x06fb,\n\t0x042d: 0x06fc,\n\t0x0429: 0x06fd,\n\t0x0427: 0x06fe,\n\t0x042a: 0x06ff,\n\t0x0386: 0x07a1,\n\t0x0388: 0x07a2,\n\t0x0389: 0x07a3,\n\t0x038a: 0x07a4,\n\t0x03aa: 0x07a5,\n\t0x038c: 0x07a7,\n\t0x038e: 0x07a8,\n\t0x03ab: 0x07a9,\n\t0x038f: 0x07ab,\n\t0x0385: 0x07ae,\n\t0x2015: 0x07af,\n\t0x03ac: 0x07b1,\n\t0x03ad: 0x07b2,\n\t0x03ae: 0x07b3,\n\t0x03af: 0x07b4,\n\t0x03ca: 0x07b5,\n\t0x0390: 0x07b6,\n\t0x03cc: 0x07b7,\n\t0x03cd: 0x07b8,\n\t0x03cb: 0x07b9,\n\t0x03b0: 0x07ba,\n\t0x03ce: 0x07bb,\n\t0x0391: 0x07c1,\n\t0x0392: 0x07c2,\n\t0x0393: 0x07c3,\n\t0x0394: 0x07c4,\n\t0x0395: 0x07c5,\n\t0x0396: 0x07c6,\n\t0x0397: 0x07c7,\n\t0x0398: 0x07c8,\n\t0x0399: 0x07c9,\n\t0x039a: 0x07ca,\n\t0x039b: 0x07cb,\n\t0x039c: 0x07cc,\n\t0x039d: 0x07cd,\n\t0x039e: 0x07ce,\n\t0x039f: 0x07cf,\n\t0x03a0: 0x07d0,\n\t0x03a1: 0x07d1,\n\t0x03a3: 0x07d2,\n\t0x03a4: 0x07d4,\n\t0x03a5: 0x07d5,\n\t0x03a6: 0x07d6,\n\t0x03a7: 0x07d7,\n\t0x03a8: 0x07d8,\n\t0x03a9: 0x07d9,\n\t0x03b1: 0x07e1,\n\t0x03b2: 0x07e2,\n\t0x03b3: 0x07e3,\n\t0x03b4: 0x07e4,\n\t0x03b5: 0x07e5,\n\t0x03b6: 0x07e6,\n\t0x03b7: 0x07e7,\n\t0x03b8: 0x07e8,\n\t0x03b9: 0x07e9,\n\t0x03ba: 0x07ea,\n\t0x03bb: 0x07eb,\n\t0x03bc: 0x07ec,\n\t0x03bd: 0x07ed,\n\t0x03be: 0x07ee,\n\t0x03bf: 0x07ef,\n\t0x03c0: 0x07f0,\n\t0x03c1: 0x07f1,\n\t0x03c3: 0x07f2,\n\t0x03c2: 0x07f3,\n\t0x03c4: 0x07f4,\n\t0x03c5: 0x07f5,\n\t0x03c6: 0x07f6,\n\t0x03c7: 0x07f7,\n\t0x03c8: 0x07f8,\n\t0x03c9: 0x07f9,\n\t0x23b7: 0x08a1,\n\t0x2320: 0x08a4,\n\t0x2321: 0x08a5,\n\t0x23a1: 0x08a7,\n\t0x23a3: 0x08a8,\n\t0x23a4: 0x08a9,\n\t0x23a6: 0x08aa,\n\t0x239b: 0x08ab,\n\t0x239d: 0x08ac,\n\t0x239e: 0x08ad,\n\t0x23a0: 0x08ae,\n\t0x23a8: 0x08af,\n\t0x23ac: 0x08b0,\n\t0x2264: 0x08bc,\n\t0x2260: 0x08bd,\n\t0x2265: 0x08be,\n\t0x222b: 0x08bf,\n\t0x2234: 0x08c0,\n\t0x221d: 0x08c1,\n\t0x221e: 0x08c2,\n\t0x2207: 0x08c5,\n\t0x223c: 0x08c8,\n\t0x2243: 0x08c9,\n\t0x21d4: 0x08cd,\n\t0x21d2: 0x08ce,\n\t0x2261: 0x08cf,\n\t0x221a: 0x08d6,\n\t0x2282: 0x08da,\n\t0x2283: 0x08db,\n\t0x2229: 0x08dc,\n\t0x222a: 0x08dd,\n\t0x2227: 0x08de,\n\t0x2228: 0x08df,\n\t0x2202: 0x08ef,\n\t0x0192: 0x08f6,\n\t0x2190: 0x08fb,\n\t0x2191: 0x08fc,\n\t0x2192: 0x08fd,\n\t0x2193: 0x08fe,\n\t0x25c6: 0x09e0,\n\t0x2592: 0x09e1,\n\t0x2409: 0x09e2,\n\t0x240c: 0x09e3,\n\t0x240d: 0x09e4,\n\t0x240a: 0x09e5,\n\t0x2424: 0x09e8,\n\t0x240b: 0x09e9,\n\t0x2518: 0x09ea,\n\t0x2510: 0x09eb,\n\t0x250c: 0x09ec,\n\t0x2514: 0x09ed,\n\t0x253c: 0x09ee,\n\t0x23ba: 0x09ef,\n\t0x23bb: 0x09f0,\n\t0x2500: 0x09f1,\n\t0x23bc: 0x09f2,\n\t0x23bd: 0x09f3,\n\t0x251c: 0x09f4,\n\t0x2524: 0x09f5,\n\t0x2534: 0x09f6,\n\t0x252c: 0x09f7,\n\t0x2502: 0x09f8,\n\t0x2003: 0x0aa1,\n\t0x2002: 0x0aa2,\n\t0x2004: 0x0aa3,\n\t0x2005: 0x0aa4,\n\t0x2007: 0x0aa5,\n\t0x2008: 0x0aa6,\n\t0x2009: 0x0aa7,\n\t0x200a: 0x0aa8,\n\t0x2014: 0x0aa9,\n\t0x2013: 0x0aaa,\n\t0x2026: 0x0aae,\n\t0x2025: 0x0aaf,\n\t0x2153: 0x0ab0,\n\t0x2154: 0x0ab1,\n\t0x2155: 0x0ab2,\n\t0x2156: 0x0ab3,\n\t0x2157: 0x0ab4,\n\t0x2158: 0x0ab5,\n\t0x2159: 0x0ab6,\n\t0x215a: 0x0ab7,\n\t0x2105: 0x0ab8,\n\t0x2012: 0x0abb,\n\t0x215b: 0x0ac3,\n\t0x215c: 0x0ac4,\n\t0x215d: 0x0ac5,\n\t0x215e: 0x0ac6,\n\t0x2122: 0x0ac9,\n\t0x2018: 0x0ad0,\n\t0x2019: 0x0ad1,\n\t0x201c: 0x0ad2,\n\t0x201d: 0x0ad3,\n\t0x211e: 0x0ad4,\n\t0x2032: 0x0ad6,\n\t0x2033: 0x0ad7,\n\t0x271d: 0x0ad9,\n\t0x2663: 0x0aec,\n\t0x2666: 0x0aed,\n\t0x2665: 0x0aee,\n\t0x2720: 0x0af0,\n\t0x2020: 0x0af1,\n\t0x2021: 0x0af2,\n\t0x2713: 0x0af3,\n\t0x2717: 0x0af4,\n\t0x266f: 0x0af5,\n\t0x266d: 0x0af6,\n\t0x2642: 0x0af7,\n\t0x2640: 0x0af8,\n\t0x260e: 0x0af9,\n\t0x2315: 0x0afa,\n\t0x2117: 0x0afb,\n\t0x2038: 0x0afc,\n\t0x201a: 0x0afd,\n\t0x201e: 0x0afe,\n\t0x22a4: 0x0bc2,\n\t0x230a: 0x0bc4,\n\t0x2218: 0x0bca,\n\t0x2395: 0x0bcc,\n\t0x22a5: 0x0bce,\n\t0x25cb: 0x0bcf,\n\t0x2308: 0x0bd3,\n\t0x22a3: 0x0bdc,\n\t0x22a2: 0x0bfc,\n\t0x2017: 0x0cdf,\n\t0x05d0: 0x0ce0,\n\t0x05d1: 0x0ce1,\n\t0x05d2: 0x0ce2,\n\t0x05d3: 0x0ce3,\n\t0x05d4: 0x0ce4,\n\t0x05d5: 0x0ce5,\n\t0x05d6: 0x0ce6,\n\t0x05d7: 0x0ce7,\n\t0x05d8: 0x0ce8,\n\t0x05d9: 0x0ce9,\n\t0x05da: 0x0cea,\n\t0x05db: 0x0ceb,\n\t0x05dc: 0x0cec,\n\t0x05dd: 0x0ced,\n\t0x05de: 0x0cee,\n\t0x05df: 0x0cef,\n\t0x05e0: 0x0cf0,\n\t0x05e1: 0x0cf1,\n\t0x05e2: 0x0cf2,\n\t0x05e3: 0x0cf3,\n\t0x05e4: 0x0cf4,\n\t0x05e5: 0x0cf5,\n\t0x05e6: 0x0cf6,\n\t0x05e7: 0x0cf7,\n\t0x05e8: 0x0cf8,\n\t0x05e9: 0x0cf9,\n\t0x05ea: 0x0cfa,\n\t0x0e01: 0x0da1,\n\t0x0e02: 0x0da2,\n\t0x0e03: 0x0da3,\n\t0x0e04: 0x0da4,\n\t0x0e05: 0x0da5,\n\t0x0e06: 0x0da6,\n\t0x0e07: 0x0da7,\n\t0x0e08: 0x0da8,\n\t0x0e09: 0x0da9,\n\t0x0e0a: 0x0daa,\n\t0x0e0b: 0x0dab,\n\t0x0e0c: 0x0dac,\n\t0x0e0d: 0x0dad,\n\t0x0e0e: 0x0dae,\n\t0x0e0f: 0x0daf,\n\t0x0e10: 0x0db0,\n\t0x0e11: 0x0db1,\n\t0x0e12: 0x0db2,\n\t0x0e13: 0x0db3,\n\t0x0e14: 0x0db4,\n\t0x0e15: 0x0db5,\n\t0x0e16: 0x0db6,\n\t0x0e17: 0x0db7,\n\t0x0e18: 0x0db8,\n\t0x0e19: 0x0db9,\n\t0x0e1a: 0x0dba,\n\t0x0e1b: 0x0dbb,\n\t0x0e1c: 0x0dbc,\n\t0x0e1d: 0x0dbd,\n\t0x0e1e: 0x0dbe,\n\t0x0e1f: 0x0dbf,\n\t0x0e20: 0x0dc0,\n\t0x0e21: 0x0dc1,\n\t0x0e22: 0x0dc2,\n\t0x0e23: 0x0dc3,\n\t0x0e24: 0x0dc4,\n\t0x0e25: 0x0dc5,\n\t0x0e26: 0x0dc6,\n\t0x0e27: 0x0dc7,\n\t0x0e28: 0x0dc8,\n\t0x0e29: 0x0dc9,\n\t0x0e2a: 0x0dca,\n\t0x0e2b: 0x0dcb,\n\t0x0e2c: 0x0dcc,\n\t0x0e2d: 0x0dcd,\n\t0x0e2e: 0x0dce,\n\t0x0e2f: 0x0dcf,\n\t0x0e30: 0x0dd0,\n\t0x0e31: 0x0dd1,\n\t0x0e32: 0x0dd2,\n\t0x0e33: 0x0dd3,\n\t0x0e34: 0x0dd4,\n\t0x0e35: 0x0dd5,\n\t0x0e36: 0x0dd6,\n\t0x0e37: 0x0dd7,\n\t0x0e38: 0x0dd8,\n\t0x0e39: 0x0dd9,\n\t0x0e3a: 0x0dda,\n\t0x0e3f: 0x0ddf,\n\t0x0e40: 0x0de0,\n\t0x0e41: 0x0de1,\n\t0x0e42: 0x0de2,\n\t0x0e43: 0x0de3,\n\t0x0e44: 0x0de4,\n\t0x0e45: 0x0de5,\n\t0x0e46: 0x0de6,\n\t0x0e47: 0x0de7,\n\t0x0e48: 0x0de8,\n\t0x0e49: 0x0de9,\n\t0x0e4a: 0x0dea,\n\t0x0e4b: 0x0deb,\n\t0x0e4c: 0x0dec,\n\t0x0e4d: 0x0ded,\n\t0x0e50: 0x0df0,\n\t0x0e51: 0x0df1,\n\t0x0e52: 0x0df2,\n\t0x0e53: 0x0df3,\n\t0x0e54: 0x0df4,\n\t0x0e55: 0x0df5,\n\t0x0e56: 0x0df6,\n\t0x0e57: 0x0df7,\n\t0x0e58: 0x0df8,\n\t0x0e59: 0x0df9,\n\t0x0587: 0x1000587,\n\t0x0589: 0x1000589,\n\t0x055d: 0x100055d,\n\t0x058a: 0x100058a,\n\t0x055c: 0x100055c,\n\t0x055b: 0x100055b,\n\t0x055e: 0x100055e,\n\t0x0531: 0x1000531,\n\t0x0561: 0x1000561,\n\t0x0532: 0x1000532,\n\t0x0562: 0x1000562,\n\t0x0533: 0x1000533,\n\t0x0563: 0x1000563,\n\t0x0534: 0x1000534,\n\t0x0564: 0x1000564,\n\t0x0535: 0x1000535,\n\t0x0565: 0x1000565,\n\t0x0536: 0x1000536,\n\t0x0566: 0x1000566,\n\t0x0537: 0x1000537,\n\t0x0567: 0x1000567,\n\t0x0538: 0x1000538,\n\t0x0568: 0x1000568,\n\t0x0539: 0x1000539,\n\t0x0569: 0x1000569,\n\t0x053a: 0x100053a,\n\t0x056a: 0x100056a,\n\t0x053b: 0x100053b,\n\t0x056b: 0x100056b,\n\t0x053c: 0x100053c,\n\t0x056c: 0x100056c,\n\t0x053d: 0x100053d,\n\t0x056d: 0x100056d,\n\t0x053e: 0x100053e,\n\t0x056e: 0x100056e,\n\t0x053f: 0x100053f,\n\t0x056f: 0x100056f,\n\t0x0540: 0x1000540,\n\t0x0570: 0x1000570,\n\t0x0541: 0x1000541,\n\t0x0571: 0x1000571,\n\t0x0542: 0x1000542,\n\t0x0572: 0x1000572,\n\t0x0543: 0x1000543,\n\t0x0573: 0x1000573,\n\t0x0544: 0x1000544,\n\t0x0574: 0x1000574,\n\t0x0545: 0x1000545,\n\t0x0575: 0x1000575,\n\t0x0546: 0x1000546,\n\t0x0576: 0x1000576,\n\t0x0547: 0x1000547,\n\t0x0577: 0x1000577,\n\t0x0548: 0x1000548,\n\t0x0578: 0x1000578,\n\t0x0549: 0x1000549,\n\t0x0579: 0x1000579,\n\t0x054a: 0x100054a,\n\t0x057a: 0x100057a,\n\t0x054b: 0x100054b,\n\t0x057b: 0x100057b,\n\t0x054c: 0x100054c,\n\t0x057c: 0x100057c,\n\t0x054d: 0x100054d,\n\t0x057d: 0x100057d,\n\t0x054e: 0x100054e,\n\t0x057e: 0x100057e,\n\t0x054f: 0x100054f,\n\t0x057f: 0x100057f,\n\t0x0550: 0x1000550,\n\t0x0580: 0x1000580,\n\t0x0551: 0x1000551,\n\t0x0581: 0x1000581,\n\t0x0552: 0x1000552,\n\t0x0582: 0x1000582,\n\t0x0553: 0x1000553,\n\t0x0583: 0x1000583,\n\t0x0554: 0x1000554,\n\t0x0584: 0x1000584,\n\t0x0555: 0x1000555,\n\t0x0585: 0x1000585,\n\t0x0556: 0x1000556,\n\t0x0586: 0x1000586,\n\t0x055a: 0x100055a,\n\t0x10d0: 0x10010d0,\n\t0x10d1: 0x10010d1,\n\t0x10d2: 0x10010d2,\n\t0x10d3: 0x10010d3,\n\t0x10d4: 0x10010d4,\n\t0x10d5: 0x10010d5,\n\t0x10d6: 0x10010d6,\n\t0x10d7: 0x10010d7,\n\t0x10d8: 0x10010d8,\n\t0x10d9: 0x10010d9,\n\t0x10da: 0x10010da,\n\t0x10db: 0x10010db,\n\t0x10dc: 0x10010dc,\n\t0x10dd: 0x10010dd,\n\t0x10de: 0x10010de,\n\t0x10df: 0x10010df,\n\t0x10e0: 0x10010e0,\n\t0x10e1: 0x10010e1,\n\t0x10e2: 0x10010e2,\n\t0x10e3: 0x10010e3,\n\t0x10e4: 0x10010e4,\n\t0x10e5: 0x10010e5,\n\t0x10e6: 0x10010e6,\n\t0x10e7: 0x10010e7,\n\t0x10e8: 0x10010e8,\n\t0x10e9: 0x10010e9,\n\t0x10ea: 0x10010ea,\n\t0x10eb: 0x10010eb,\n\t0x10ec: 0x10010ec,\n\t0x10ed: 0x10010ed,\n\t0x10ee: 0x10010ee,\n\t0x10ef: 0x10010ef,\n\t0x10f0: 0x10010f0,\n\t0x10f1: 0x10010f1,\n\t0x10f2: 0x10010f2,\n\t0x10f3: 0x10010f3,\n\t0x10f4: 0x10010f4,\n\t0x10f5: 0x10010f5,\n\t0x10f6: 0x10010f6,\n\t0x1e8a: 0x1001e8a,\n\t0x012c: 0x100012c,\n\t0x01b5: 0x10001b5,\n\t0x01e6: 0x10001e6,\n\t0x01d2: 0x10001d1,\n\t0x019f: 0x100019f,\n\t0x1e8b: 0x1001e8b,\n\t0x012d: 0x100012d,\n\t0x01b6: 0x10001b6,\n\t0x01e7: 0x10001e7,\n\t0x01d2: 0x10001d2,\n\t0x0275: 0x1000275,\n\t0x018f: 0x100018f,\n\t0x0259: 0x1000259,\n\t0x1e36: 0x1001e36,\n\t0x1e37: 0x1001e37,\n\t0x1ea0: 0x1001ea0,\n\t0x1ea1: 0x1001ea1,\n\t0x1ea2: 0x1001ea2,\n\t0x1ea3: 0x1001ea3,\n\t0x1ea4: 0x1001ea4,\n\t0x1ea5: 0x1001ea5,\n\t0x1ea6: 0x1001ea6,\n\t0x1ea7: 0x1001ea7,\n\t0x1ea8: 0x1001ea8,\n\t0x1ea9: 0x1001ea9,\n\t0x1eaa: 0x1001eaa,\n\t0x1eab: 0x1001eab,\n\t0x1eac: 0x1001eac,\n\t0x1ead: 0x1001ead,\n\t0x1eae: 0x1001eae,\n\t0x1eaf: 0x1001eaf,\n\t0x1eb0: 0x1001eb0,\n\t0x1eb1: 0x1001eb1,\n\t0x1eb2: 0x1001eb2,\n\t0x1eb3: 0x1001eb3,\n\t0x1eb4: 0x1001eb4,\n\t0x1eb5: 0x1001eb5,\n\t0x1eb6: 0x1001eb6,\n\t0x1eb7: 0x1001eb7,\n\t0x1eb8: 0x1001eb8,\n\t0x1eb9: 0x1001eb9,\n\t0x1eba: 0x1001eba,\n\t0x1ebb: 0x1001ebb,\n\t0x1ebc: 0x1001ebc,\n\t0x1ebd: 0x1001ebd,\n\t0x1ebe: 0x1001ebe,\n\t0x1ebf: 0x1001ebf,\n\t0x1ec0: 0x1001ec0,\n\t0x1ec1: 0x1001ec1,\n\t0x1ec2: 0x1001ec2,\n\t0x1ec3: 0x1001ec3,\n\t0x1ec4: 0x1001ec4,\n\t0x1ec5: 0x1001ec5,\n\t0x1ec6: 0x1001ec6,\n\t0x1ec7: 0x1001ec7,\n\t0x1ec8: 0x1001ec8,\n\t0x1ec9: 0x1001ec9,\n\t0x1eca: 0x1001eca,\n\t0x1ecb: 0x1001ecb,\n\t0x1ecc: 0x1001ecc,\n\t0x1ecd: 0x1001ecd,\n\t0x1ece: 0x1001ece,\n\t0x1ecf: 0x1001ecf,\n\t0x1ed0: 0x1001ed0,\n\t0x1ed1: 0x1001ed1,\n\t0x1ed2: 0x1001ed2,\n\t0x1ed3: 0x1001ed3,\n\t0x1ed4: 0x1001ed4,\n\t0x1ed5: 0x1001ed5,\n\t0x1ed6: 0x1001ed6,\n\t0x1ed7: 0x1001ed7,\n\t0x1ed8: 0x1001ed8,\n\t0x1ed9: 0x1001ed9,\n\t0x1eda: 0x1001eda,\n\t0x1edb: 0x1001edb,\n\t0x1edc: 0x1001edc,\n\t0x1edd: 0x1001edd,\n\t0x1ede: 0x1001ede,\n\t0x1edf: 0x1001edf,\n\t0x1ee0: 0x1001ee0,\n\t0x1ee1: 0x1001ee1,\n\t0x1ee2: 0x1001ee2,\n\t0x1ee3: 0x1001ee3,\n\t0x1ee4: 0x1001ee4,\n\t0x1ee5: 0x1001ee5,\n\t0x1ee6: 0x1001ee6,\n\t0x1ee7: 0x1001ee7,\n\t0x1ee8: 0x1001ee8,\n\t0x1ee9: 0x1001ee9,\n\t0x1eea: 0x1001eea,\n\t0x1eeb: 0x1001eeb,\n\t0x1eec: 0x1001eec,\n\t0x1eed: 0x1001eed,\n\t0x1eee: 0x1001eee,\n\t0x1eef: 0x1001eef,\n\t0x1ef0: 0x1001ef0,\n\t0x1ef1: 0x1001ef1,\n\t0x1ef4: 0x1001ef4,\n\t0x1ef5: 0x1001ef5,\n\t0x1ef6: 0x1001ef6,\n\t0x1ef7: 0x1001ef7,\n\t0x1ef8: 0x1001ef8,\n\t0x1ef9: 0x1001ef9,\n\t0x01a0: 0x10001a0,\n\t0x01a1: 0x10001a1,\n\t0x01af: 0x10001af,\n\t0x01b0: 0x10001b0,\n\t0x20a0: 0x10020a0,\n\t0x20a1: 0x10020a1,\n\t0x20a2: 0x10020a2,\n\t0x20a3: 0x10020a3,\n\t0x20a4: 0x10020a4,\n\t0x20a5: 0x10020a5,\n\t0x20a6: 0x10020a6,\n\t0x20a7: 0x10020a7,\n\t0x20a8: 0x10020a8,\n\t0x20a9: 0x10020a9,\n\t0x20aa: 0x10020aa,\n\t0x20ab: 0x10020ab,\n\t0x20ac: 0x20ac,\n\t0x2070: 0x1002070,\n\t0x2074: 0x1002074,\n\t0x2075: 0x1002075,\n\t0x2076: 0x1002076,\n\t0x2077: 0x1002077,\n\t0x2078: 0x1002078,\n\t0x2079: 0x1002079,\n\t0x2080: 0x1002080,\n\t0x2081: 0x1002081,\n\t0x2082: 0x1002082,\n\t0x2083: 0x1002083,\n\t0x2084: 0x1002084,\n\t0x2085: 0x1002085,\n\t0x2086: 0x1002086,\n\t0x2087: 0x1002087,\n\t0x2088: 0x1002088,\n\t0x2089: 0x1002089,\n\t0x2202: 0x1002202,\n\t0x2205: 0x1002205,\n\t0x2208: 0x1002208,\n\t0x2209: 0x1002209,\n\t0x220b: 0x100220b,\n\t0x221a: 0x100221a,\n\t0x221b: 0x100221b,\n\t0x221c: 0x100221c,\n\t0x222c: 0x100222c,\n\t0x222d: 0x100222d,\n\t0x2235: 0x1002235,\n\t0x2245: 0x1002248,\n\t0x2247: 0x1002247,\n\t0x2262: 0x1002262,\n\t0x2263: 0x1002263,\n\t0x2800: 0x1002800,\n\t0x2801: 0x1002801,\n\t0x2802: 0x1002802,\n\t0x2803: 0x1002803,\n\t0x2804: 0x1002804,\n\t0x2805: 0x1002805,\n\t0x2806: 0x1002806,\n\t0x2807: 0x1002807,\n\t0x2808: 0x1002808,\n\t0x2809: 0x1002809,\n\t0x280a: 0x100280a,\n\t0x280b: 0x100280b,\n\t0x280c: 0x100280c,\n\t0x280d: 0x100280d,\n\t0x280e: 0x100280e,\n\t0x280f: 0x100280f,\n\t0x2810: 0x1002810,\n\t0x2811: 0x1002811,\n\t0x2812: 0x1002812,\n\t0x2813: 0x1002813,\n\t0x2814: 0x1002814,\n\t0x2815: 0x1002815,\n\t0x2816: 0x1002816,\n\t0x2817: 0x1002817,\n\t0x2818: 0x1002818,\n\t0x2819: 0x1002819,\n\t0x281a: 0x100281a,\n\t0x281b: 0x100281b,\n\t0x281c: 0x100281c,\n\t0x281d: 0x100281d,\n\t0x281e: 0x100281e,\n\t0x281f: 0x100281f,\n\t0x2820: 0x1002820,\n\t0x2821: 0x1002821,\n\t0x2822: 0x1002822,\n\t0x2823: 0x1002823,\n\t0x2824: 0x1002824,\n\t0x2825: 0x1002825,\n\t0x2826: 0x1002826,\n\t0x2827: 0x1002827,\n\t0x2828: 0x1002828,\n\t0x2829: 0x1002829,\n\t0x282a: 0x100282a,\n\t0x282b: 0x100282b,\n\t0x282c: 0x100282c,\n\t0x282d: 0x100282d,\n\t0x282e: 0x100282e,\n\t0x282f: 0x100282f,\n\t0x2830: 0x1002830,\n\t0x2831: 0x1002831,\n\t0x2832: 0x1002832,\n\t0x2833: 0x1002833,\n\t0x2834: 0x1002834,\n\t0x2835: 0x1002835,\n\t0x2836: 0x1002836,\n\t0x2837: 0x1002837,\n\t0x2838: 0x1002838,\n\t0x2839: 0x1002839,\n\t0x283a: 0x100283a,\n\t0x283b: 0x100283b,\n\t0x283c: 0x100283c,\n\t0x283d: 0x100283d,\n\t0x283e: 0x100283e,\n\t0x283f: 0x100283f,\n\t0x2840: 0x1002840,\n\t0x2841: 0x1002841,\n\t0x2842: 0x1002842,\n\t0x2843: 0x1002843,\n\t0x2844: 0x1002844,\n\t0x2845: 0x1002845,\n\t0x2846: 0x1002846,\n\t0x2847: 0x1002847,\n\t0x2848: 0x1002848,\n\t0x2849: 0x1002849,\n\t0x284a: 0x100284a,\n\t0x284b: 0x100284b,\n\t0x284c: 0x100284c,\n\t0x284d: 0x100284d,\n\t0x284e: 0x100284e,\n\t0x284f: 0x100284f,\n\t0x2850: 0x1002850,\n\t0x2851: 0x1002851,\n\t0x2852: 0x1002852,\n\t0x2853: 0x1002853,\n\t0x2854: 0x1002854,\n\t0x2855: 0x1002855,\n\t0x2856: 0x1002856,\n\t0x2857: 0x1002857,\n\t0x2858: 0x1002858,\n\t0x2859: 0x1002859,\n\t0x285a: 0x100285a,\n\t0x285b: 0x100285b,\n\t0x285c: 0x100285c,\n\t0x285d: 0x100285d,\n\t0x285e: 0x100285e,\n\t0x285f: 0x100285f,\n\t0x2860: 0x1002860,\n\t0x2861: 0x1002861,\n\t0x2862: 0x1002862,\n\t0x2863: 0x1002863,\n\t0x2864: 0x1002864,\n\t0x2865: 0x1002865,\n\t0x2866: 0x1002866,\n\t0x2867: 0x1002867,\n\t0x2868: 0x1002868,\n\t0x2869: 0x1002869,\n\t0x286a: 0x100286a,\n\t0x286b: 0x100286b,\n\t0x286c: 0x100286c,\n\t0x286d: 0x100286d,\n\t0x286e: 0x100286e,\n\t0x286f: 0x100286f,\n\t0x2870: 0x1002870,\n\t0x2871: 0x1002871,\n\t0x2872: 0x1002872,\n\t0x2873: 0x1002873,\n\t0x2874: 0x1002874,\n\t0x2875: 0x1002875,\n\t0x2876: 0x1002876,\n\t0x2877: 0x1002877,\n\t0x2878: 0x1002878,\n\t0x2879: 0x1002879,\n\t0x287a: 0x100287a,\n\t0x287b: 0x100287b,\n\t0x287c: 0x100287c,\n\t0x287d: 0x100287d,\n\t0x287e: 0x100287e,\n\t0x287f: 0x100287f,\n\t0x2880: 0x1002880,\n\t0x2881: 0x1002881,\n\t0x2882: 0x1002882,\n\t0x2883: 0x1002883,\n\t0x2884: 0x1002884,\n\t0x2885: 0x1002885,\n\t0x2886: 0x1002886,\n\t0x2887: 0x1002887,\n\t0x2888: 0x1002888,\n\t0x2889: 0x1002889,\n\t0x288a: 0x100288a,\n\t0x288b: 0x100288b,\n\t0x288c: 0x100288c,\n\t0x288d: 0x100288d,\n\t0x288e: 0x100288e,\n\t0x288f: 0x100288f,\n\t0x2890: 0x1002890,\n\t0x2891: 0x1002891,\n\t0x2892: 0x1002892,\n\t0x2893: 0x1002893,\n\t0x2894: 0x1002894,\n\t0x2895: 0x1002895,\n\t0x2896: 0x1002896,\n\t0x2897: 0x1002897,\n\t0x2898: 0x1002898,\n\t0x2899: 0x1002899,\n\t0x289a: 0x100289a,\n\t0x289b: 0x100289b,\n\t0x289c: 0x100289c,\n\t0x289d: 0x100289d,\n\t0x289e: 0x100289e,\n\t0x289f: 0x100289f,\n\t0x28a0: 0x10028a0,\n\t0x28a1: 0x10028a1,\n\t0x28a2: 0x10028a2,\n\t0x28a3: 0x10028a3,\n\t0x28a4: 0x10028a4,\n\t0x28a5: 0x10028a5,\n\t0x28a6: 0x10028a6,\n\t0x28a7: 0x10028a7,\n\t0x28a8: 0x10028a8,\n\t0x28a9: 0x10028a9,\n\t0x28aa: 0x10028aa,\n\t0x28ab: 0x10028ab,\n\t0x28ac: 0x10028ac,\n\t0x28ad: 0x10028ad,\n\t0x28ae: 0x10028ae,\n\t0x28af: 0x10028af,\n\t0x28b0: 0x10028b0,\n\t0x28b1: 0x10028b1,\n\t0x28b2: 0x10028b2,\n\t0x28b3: 0x10028b3,\n\t0x28b4: 0x10028b4,\n\t0x28b5: 0x10028b5,\n\t0x28b6: 0x10028b6,\n\t0x28b7: 0x10028b7,\n\t0x28b8: 0x10028b8,\n\t0x28b9: 0x10028b9,\n\t0x28ba: 0x10028ba,\n\t0x28bb: 0x10028bb,\n\t0x28bc: 0x10028bc,\n\t0x28bd: 0x10028bd,\n\t0x28be: 0x10028be,\n\t0x28bf: 0x10028bf,\n\t0x28c0: 0x10028c0,\n\t0x28c1: 0x10028c1,\n\t0x28c2: 0x10028c2,\n\t0x28c3: 0x10028c3,\n\t0x28c4: 0x10028c4,\n\t0x28c5: 0x10028c5,\n\t0x28c6: 0x10028c6,\n\t0x28c7: 0x10028c7,\n\t0x28c8: 0x10028c8,\n\t0x28c9: 0x10028c9,\n\t0x28ca: 0x10028ca,\n\t0x28cb: 0x10028cb,\n\t0x28cc: 0x10028cc,\n\t0x28cd: 0x10028cd,\n\t0x28ce: 0x10028ce,\n\t0x28cf: 0x10028cf,\n\t0x28d0: 0x10028d0,\n\t0x28d1: 0x10028d1,\n\t0x28d2: 0x10028d2,\n\t0x28d3: 0x10028d3,\n\t0x28d4: 0x10028d4,\n\t0x28d5: 0x10028d5,\n\t0x28d6: 0x10028d6,\n\t0x28d7: 0x10028d7,\n\t0x28d8: 0x10028d8,\n\t0x28d9: 0x10028d9,\n\t0x28da: 0x10028da,\n\t0x28db: 0x10028db,\n\t0x28dc: 0x10028dc,\n\t0x28dd: 0x10028dd,\n\t0x28de: 0x10028de,\n\t0x28df: 0x10028df,\n\t0x28e0: 0x10028e0,\n\t0x28e1: 0x10028e1,\n\t0x28e2: 0x10028e2,\n\t0x28e3: 0x10028e3,\n\t0x28e4: 0x10028e4,\n\t0x28e5: 0x10028e5,\n\t0x28e6: 0x10028e6,\n\t0x28e7: 0x10028e7,\n\t0x28e8: 0x10028e8,\n\t0x28e9: 0x10028e9,\n\t0x28ea: 0x10028ea,\n\t0x28eb: 0x10028eb,\n\t0x28ec: 0x10028ec,\n\t0x28ed: 0x10028ed,\n\t0x28ee: 0x10028ee,\n\t0x28ef: 0x10028ef,\n\t0x28f0: 0x10028f0,\n\t0x28f1: 0x10028f1,\n\t0x28f2: 0x10028f2,\n\t0x28f3: 0x10028f3,\n\t0x28f4: 0x10028f4,\n\t0x28f5: 0x10028f5,\n\t0x28f6: 0x10028f6,\n\t0x28f7: 0x10028f7,\n\t0x28f8: 0x10028f8,\n\t0x28f9: 0x10028f9,\n\t0x28fa: 0x10028fa,\n\t0x28fb: 0x10028fb,\n\t0x28fc: 0x10028fc,\n\t0x28fd: 0x10028fd,\n\t0x28fe: 0x10028fe,\n\t0x28ff: 0x10028ff,\n};\n\nvar ON_KEYDOWN = 1 << 0; /* Report on keydown, otherwise wait until keypress  */\n\nvar specialKeyTable = {\n\t// These generate a keyDown and keyPress in Firefox and Opera\n\t8: [0xff08, ON_KEYDOWN], // BACKSPACE\n\t13: [0xff0d, ON_KEYDOWN], // ENTER\n\n\t// This generates a keyDown and keyPress in Opera\n\t9: [0xff09, ON_KEYDOWN], // TAB\n\n\t27: 0xff1b, // ESCAPE\n\t46: 0xffff, // DELETE\n\t36: 0xff50, // HOME\n\t35: 0xff57, // END\n\t33: 0xff55, // PAGE_UP\n\t34: 0xff56, // PAGE_DOWN\n\t45: 0xff63, // INSERT\n\t37: 0xff51, // LEFT\n\t38: 0xff52, // UP\n\t39: 0xff53, // RIGHT\n\t40: 0xff54, // DOWN\n\t16: 0xffe1, // SHIFT\n\t17: 0xffe3, // CONTROL\n\t18: 0xffe9, // Left ALT (Mac Command)\n\t112: 0xffbe, // F1\n\t113: 0xffbf, // F2\n\t114: 0xffc0, // F3\n\t115: 0xffc1, // F4\n\t116: 0xffc2, // F5\n\t117: 0xffc3, // F6\n\t118: 0xffc4, // F7\n\t119: 0xffc5, // F8\n\t120: 0xffc6, // F9\n\t121: 0xffc7, // F10\n\t122: 0xffc8, // F11\n\t123: 0xffc9, // F12\n};\n\nfunction getEventKeySym(ev) {\n\tif (typeof ev.which !== \"undefined\" && ev.which > 0) return ev.which;\n\treturn ev.keyCode;\n}\n\n// This is based on the approach from noVNC. We handle\n// everything in keydown that we have all info for, and that\n// are not safe to pass on to the browser (as it may do something\n// with the key. The rest we pass on to keypress so we can get the\n// translated keysym.\nfunction getKeysymSpecial(ev) {\n\tif (ev.keyCode in specialKeyTable) {\n\t\tvar r = specialKeyTable[ev.keyCode];\n\t\tvar flags = 0;\n\t\tif (typeof r != \"number\") {\n\t\t\tflags = r[1];\n\t\t\tr = r[0];\n\t\t}\n\t\tif (ev.type === \"keydown\" || flags & ON_KEYDOWN) return r;\n\t}\n\t// If we don't hold alt or ctrl, then we should be safe to pass\n\t// on to keypressed and look at the translated data\n\tif (!ev.ctrlKey && !ev.altKey) return null;\n\n\tvar keysym = getEventKeySym(ev);\n\n\t/* Remap symbols */\n\tswitch (keysym) {\n\t\tcase 186:\n\t\t\tkeysym = 59;\n\t\t\tbreak; // ; (IE)\n\t\tcase 187:\n\t\t\tkeysym = 61;\n\t\t\tbreak; // = (IE)\n\t\tcase 188:\n\t\t\tkeysym = 44;\n\t\t\tbreak; // , (Mozilla, IE)\n\t\tcase 109: // - (Mozilla, Opera)\n\t\t\tif (true /* TODO: check if browser is firefox or opera */) keysym = 45;\n\t\t\tbreak;\n\t\tcase 189:\n\t\t\tkeysym = 45;\n\t\t\tbreak; // - (IE)\n\t\tcase 190:\n\t\t\tkeysym = 46;\n\t\t\tbreak; // . (Mozilla, IE)\n\t\tcase 191:\n\t\t\tkeysym = 47;\n\t\t\tbreak; // / (Mozilla, IE)\n\t\tcase 192:\n\t\t\tkeysym = 96;\n\t\t\tbreak; // ` (Mozilla, IE)\n\t\tcase 219:\n\t\t\tkeysym = 91;\n\t\t\tbreak; // [ (Mozilla, IE)\n\t\tcase 220:\n\t\t\tkeysym = 92;\n\t\t\tbreak; // \\ (Mozilla, IE)\n\t\tcase 221:\n\t\t\tkeysym = 93;\n\t\t\tbreak; // ] (Mozilla, IE)\n\t\tcase 222:\n\t\t\tkeysym = 39;\n\t\t\tbreak; // ' (Mozilla, IE)\n\t}\n\n\t/* Remap shifted and unshifted keys */\n\tif (!!ev.shiftKey) {\n\t\tswitch (keysym) {\n\t\t\tcase 48:\n\t\t\t\tkeysym = 41;\n\t\t\t\tbreak; // ) (shifted 0)\n\t\t\tcase 49:\n\t\t\t\tkeysym = 33;\n\t\t\t\tbreak; // ! (shifted 1)\n\t\t\tcase 50:\n\t\t\t\tkeysym = 64;\n\t\t\t\tbreak; // @ (shifted 2)\n\t\t\tcase 51:\n\t\t\t\tkeysym = 35;\n\t\t\t\tbreak; // # (shifted 3)\n\t\t\tcase 52:\n\t\t\t\tkeysym = 36;\n\t\t\t\tbreak; // $ (shifted 4)\n\t\t\tcase 53:\n\t\t\t\tkeysym = 37;\n\t\t\t\tbreak; // % (shifted 5)\n\t\t\tcase 54:\n\t\t\t\tkeysym = 94;\n\t\t\t\tbreak; // ^ (shifted 6)\n\t\t\tcase 55:\n\t\t\t\tkeysym = 38;\n\t\t\t\tbreak; // & (shifted 7)\n\t\t\tcase 56:\n\t\t\t\tkeysym = 42;\n\t\t\t\tbreak; // * (shifted 8)\n\t\t\tcase 57:\n\t\t\t\tkeysym = 40;\n\t\t\t\tbreak; // ( (shifted 9)\n\t\t\tcase 59:\n\t\t\t\tkeysym = 58;\n\t\t\t\tbreak; // : (shifted `)\n\t\t\tcase 61:\n\t\t\t\tkeysym = 43;\n\t\t\t\tbreak; // + (shifted ;)\n\t\t\tcase 44:\n\t\t\t\tkeysym = 60;\n\t\t\t\tbreak; // < (shifted ,)\n\t\t\tcase 45:\n\t\t\t\tkeysym = 95;\n\t\t\t\tbreak; // _ (shifted -)\n\t\t\tcase 46:\n\t\t\t\tkeysym = 62;\n\t\t\t\tbreak; // > (shifted .)\n\t\t\tcase 47:\n\t\t\t\tkeysym = 63;\n\t\t\t\tbreak; // ? (shifted /)\n\t\t\tcase 96:\n\t\t\t\tkeysym = 126;\n\t\t\t\tbreak; // ~ (shifted `)\n\t\t\tcase 91:\n\t\t\t\tkeysym = 123;\n\t\t\t\tbreak; // { (shifted [)\n\t\t\tcase 92:\n\t\t\t\tkeysym = 124;\n\t\t\t\tbreak; // | (shifted \\)\n\t\t\tcase 93:\n\t\t\t\tkeysym = 125;\n\t\t\t\tbreak; // } (shifted ])\n\t\t\tcase 39:\n\t\t\t\tkeysym = 34;\n\t\t\t\tbreak; // \" (shifted ')\n\t\t}\n\t} else if (keysym >= 65 && keysym <= 90) {\n\t\t/* Remap unshifted A-Z */\n\t\tkeysym += 32;\n\t} else if (ev.keyLocation === 3) {\n\t\t// numpad keys\n\t\tswitch (keysym) {\n\t\t\tcase 96:\n\t\t\t\tkeysym = 48;\n\t\t\t\tbreak; // 0\n\t\t\tcase 97:\n\t\t\t\tkeysym = 49;\n\t\t\t\tbreak; // 1\n\t\t\tcase 98:\n\t\t\t\tkeysym = 50;\n\t\t\t\tbreak; // 2\n\t\t\tcase 99:\n\t\t\t\tkeysym = 51;\n\t\t\t\tbreak; // 3\n\t\t\tcase 100:\n\t\t\t\tkeysym = 52;\n\t\t\t\tbreak; // 4\n\t\t\tcase 101:\n\t\t\t\tkeysym = 53;\n\t\t\t\tbreak; // 5\n\t\t\tcase 102:\n\t\t\t\tkeysym = 54;\n\t\t\t\tbreak; // 6\n\t\t\tcase 103:\n\t\t\t\tkeysym = 55;\n\t\t\t\tbreak; // 7\n\t\t\tcase 104:\n\t\t\t\tkeysym = 56;\n\t\t\t\tbreak; // 8\n\t\t\tcase 105:\n\t\t\t\tkeysym = 57;\n\t\t\t\tbreak; // 9\n\t\t\tcase 109:\n\t\t\t\tkeysym = 45;\n\t\t\t\tbreak; // -\n\t\t\tcase 110:\n\t\t\t\tkeysym = 46;\n\t\t\t\tbreak; // .\n\t\t\tcase 111:\n\t\t\t\tkeysym = 47;\n\t\t\t\tbreak; // /\n\t\t}\n\t}\n\n\treturn keysym;\n}\n\n/* Translate DOM keyPress event to keysym value */\nfunction getKeysym(ev) {\n\tvar keysym, msg;\n\n\tkeysym = getEventKeySym(ev);\n\n\tif (keysym > 255 && keysym < 0xff00) {\n\t\t// Map Unicode outside Latin 1 to gdk keysyms\n\t\tkeysym = unicodeTable[keysym];\n\t\tif (typeof keysym === \"undefined\") keysym = 0;\n\t}\n\n\treturn keysym;\n}\n\nfunction copyKeyEvent(ev) {\n\tvar members = [\n\t\t\t\"type\",\n\t\t\t\"keyCode\",\n\t\t\t\"charCode\",\n\t\t\t\"which\",\n\t\t\t\"altKey\",\n\t\t\t\"ctrlKey\",\n\t\t\t\"shiftKey\",\n\t\t\t\"keyLocation\",\n\t\t\t\"keyIdentifier\",\n\t\t],\n\t\ti,\n\t\tobj = {};\n\tfor (i = 0; i < members.length; i++) {\n\t\tif (typeof ev[members[i]] !== \"undefined\") obj[members[i]] = ev[members[i]];\n\t}\n\treturn obj;\n}\n\nfunction pushKeyEvent(fev) {\n\tkeyDownList.push(fev);\n}\n\nfunction getKeyEvent(keyCode, pop) {\n\tvar i,\n\t\tfev = null;\n\tfor (i = keyDownList.length - 1; i >= 0; i--) {\n\t\tif (keyDownList[i].keyCode === keyCode) {\n\t\t\tif (typeof pop !== \"undefined\" && pop) fev = keyDownList.splice(i, 1)[0];\n\t\t\telse fev = keyDownList[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn fev;\n}\n\nfunction ignoreKeyEvent(ev) {\n\t// Blarg. Some keys have a different keyCode on keyDown vs keyUp\n\tif (ev.keyCode === 229) {\n\t\t// French AZERTY keyboard dead key.\n\t\t// Lame thing is that the respective keyUp is 219 so we can't\n\t\t// properly ignore the keyUp event\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction handleKeyDown(e) {\n\tvar fev = null,\n\t\tev = e ? e : window.event,\n\t\tkeysym = null,\n\t\tsuppress = false;\n\n\tfev = copyKeyEvent(ev);\n\n\tkeysym = getKeysymSpecial(ev);\n\t// Save keysym decoding for use in keyUp\n\tfev.keysym = keysym;\n\tif (keysym) {\n\t\t// If it is a key or key combination that might trigger\n\t\t// browser behaviors or it has no corresponding keyPress\n\t\t// event, then send it immediately\n\t\tif (!ignoreKeyEvent(ev)) sendInput(\"k\", [keysym, lastState]);\n\t\tsuppress = true;\n\t}\n\n\tif (!ignoreKeyEvent(ev)) {\n\t\t// Add it to the list of depressed keys\n\t\tpushKeyEvent(fev);\n\t}\n\n\tif (suppress) {\n\t\t// Suppress bubbling/default actions\n\t\treturn cancelEvent(ev);\n\t}\n\n\t// Allow the event to bubble and become a keyPress event which\n\t// will have the character code translated\n\treturn true;\n}\n\nfunction handleKeyPress(e) {\n\tvar ev = e ? e : window.event,\n\t\tkdlen = keyDownList.length,\n\t\tkeysym = null;\n\n\tif ((ev.which !== \"undefined\" && ev.which === 0) || getKeysymSpecial(ev)) {\n\t\t// Firefox and Opera generate a keyPress event even if keyDown\n\t\t// is suppressed. But the keys we want to suppress will have\n\t\t// either:\n\t\t// - the which attribute set to 0\n\t\t// - getKeysymSpecial() will identify it\n\t\treturn cancelEvent(ev);\n\t}\n\n\tkeysym = getKeysym(ev);\n\n\t// Modify the which attribute in the depressed keys list so\n\t// that the keyUp event will be able to have the character code\n\t// translation available.\n\tif (kdlen > 0) {\n\t\tkeyDownList[kdlen - 1].keysym = keysym;\n\t} else {\n\t\t//log(\"keyDownList empty when keyPress triggered\");\n\t}\n\n\t// Send the translated keysym\n\tif (keysym > 0) sendInput(\"k\", [keysym, lastState]);\n\n\t// Stop keypress events just in case\n\treturn cancelEvent(ev);\n}\n\nfunction handleKeyUp(e) {\n\tvar fev = null,\n\t\tev = e ? e : window.event,\n\t\ti,\n\t\tkeysym;\n\n\tfev = getKeyEvent(ev.keyCode, true);\n\n\tif (fev) keysym = fev.keysym;\n\telse {\n\t\t//log(\"Key event (keyCode = \" + ev.keyCode + \") not found on keyDownList\");\n\t\tkeysym = 0;\n\t}\n\n\tif (keysym > 0) sendInput(\"K\", [keysym, lastState]);\n\treturn cancelEvent(ev);\n}\n\nfunction onKeyDown(ev) {\n\tupdateForEvent(ev);\n\treturn handleKeyDown(ev);\n}\n\nfunction onKeyPress(ev) {\n\tupdateForEvent(ev);\n\treturn handleKeyPress(ev);\n}\n\nfunction onKeyUp(ev) {\n\tupdateForEvent(ev);\n\treturn handleKeyUp(ev);\n}\n\nfunction cancelEvent(ev) {\n\tev = ev ? ev : window.event;\n\t// we dont want to disable event in web-desktop-environment\n\t// if (ev.stopPropagation) ev.stopPropagation();\n\t// if (ev.preventDefault) ev.preventDefault();\n\t// ev.cancelBubble = true;\n\t// ev.cancel = true;\n\t// ev.returnValue = false;\n\t// return false;\n}\n\nfunction onMouseWheel(ev) {\n\tupdateForEvent(ev);\n\tev = ev ? ev : window.event;\n\n\tvar id = getSurfaceId(ev);\n\tvar pos = getPositionsFromEvent(ev, id);\n\n\tvar offset = ev.detail ? ev.detail : -ev.wheelDelta;\n\tvar dir = 0;\n\tif (offset > 0) dir = 1;\n\tsendInput(\"s\", [\n\t\trealWindowWithMouse,\n\t\tid,\n\t\tpos.rootX,\n\t\tpos.rootY,\n\t\tpos.winX,\n\t\tpos.winY,\n\t\tlastState,\n\t\tdir,\n\t]);\n\n\treturn cancelEvent(ev);\n}\n\nfunction onTouchStart(ev) {\n\n\tupdateKeyboardStatus();\n\tupdateForEvent(ev);\n\n\tfor (var i = 0; i < ev.changedTouches.length; i++) {\n\t\tvar touch = ev.changedTouches.item(i);\n\n\t\tvar origId = getSurfaceId(touch);\n\t\tvar id = getEffectiveEventTarget(origId);\n\t\tvar pos = getPositionsFromEvent(touch, id);\n\t\tvar isEmulated = 0;\n\n\t\tif (firstTouchDownId == null) {\n\t\t\tfirstTouchDownId = touch.identifier;\n\t\t\tisEmulated = 1;\n\n\t\t\tif (realWindowWithMouse != origId || id != windowWithMouse) {\n\t\t\t\tif (id != 0) {\n\t\t\t\t\tsendInput(\"l\", [\n\t\t\t\t\t\trealWindowWithMouse,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tpos.rootX,\n\t\t\t\t\t\tpos.rootY,\n\t\t\t\t\t\tpos.winX,\n\t\t\t\t\t\tpos.winY,\n\t\t\t\t\t\tlastState,\n\t\t\t\t\t\tGDK_CROSSING_NORMAL,\n\t\t\t\t\t]);\n\t\t\t\t}\n\n\t\t\t\twindowWithMouse = id;\n\t\t\t\trealWindowWithMouse = origId;\n\n\t\t\t\tsendInput(\"e\", [\n\t\t\t\t\torigId,\n\t\t\t\t\tid,\n\t\t\t\t\tpos.rootX,\n\t\t\t\t\tpos.rootY,\n\t\t\t\t\tpos.winX,\n\t\t\t\t\tpos.winY,\n\t\t\t\t\tlastState,\n\t\t\t\t\tGDK_CROSSING_NORMAL,\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\tsendInput(\"t\", [\n\t\t\t0,\n\t\t\tid,\n\t\t\ttouch.identifier,\n\t\t\tisEmulated,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t]);\n\t}\n}\n\nfunction onTouchMove(ev) {\n\n\tupdateKeyboardStatus();\n\tupdateForEvent(ev);\n\n\tfor (var i = 0; i < ev.changedTouches.length; i++) {\n\t\tvar touch = ev.changedTouches.item(i);\n\n\t\tvar origId = getSurfaceId(touch);\n\t\tvar id = getEffectiveEventTarget(origId);\n\t\tvar pos = getPositionsFromEvent(touch, id);\n\n\t\tvar isEmulated = 0;\n\t\tif (firstTouchDownId == touch.identifier) {\n\t\t\tisEmulated = 1;\n\t\t}\n\n\t\tsendInput(\"t\", [\n\t\t\t1,\n\t\t\tid,\n\t\t\ttouch.identifier,\n\t\t\tisEmulated,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t]);\n\t}\n}\n\nfunction onTouchEnd(ev) {\n\n\tupdateKeyboardStatus();\n\tupdateForEvent(ev);\n\n\tfor (var i = 0; i < ev.changedTouches.length; i++) {\n\t\tvar touch = ev.changedTouches.item(i);\n\n\t\tvar origId = getSurfaceId(touch);\n\t\tvar id = getEffectiveEventTarget(origId);\n\t\tvar pos = getPositionsFromEvent(touch, id);\n\n\t\tvar isEmulated = 0;\n\t\tif (firstTouchDownId == touch.identifier) {\n\t\t\tisEmulated = 1;\n\t\t\tfirstTouchDownId = null;\n\t\t}\n\n\t\tsendInput(\"t\", [\n\t\t\t2,\n\t\t\tid,\n\t\t\ttouch.identifier,\n\t\t\tisEmulated,\n\t\t\tpos.rootX,\n\t\t\tpos.rootY,\n\t\t\tpos.winX,\n\t\t\tpos.winY,\n\t\t\tlastState,\n\t\t]);\n\t}\n}\n\nfunction setupDocument(document) {\n\tdocument.oncontextmenu = function () {\n\t\treturn false;\n\t};\n\t// document.onmousemove = onMouseMove;\n\t// document.onmouseover = onMouseOver;\n\t// document.onmouseout = onMouseOut;\n\t// document.onmousedown = onMouseDown;\n\t// document.onmouseup = onMouseUp;\n\t// document.onkeydown = onKeyDown;\n\t// document.onkeypress = onKeyPress;\n\t// document.onkeyup = onKeyUp;\n\n\tif (document.addEventListener) {\n\t\tdocument.addEventListener(\"mousemove\", onMouseMove, false);\n\t\tdocument.addEventListener(\"mouseover\", onMouseOver, false);\n\t\tdocument.addEventListener(\"mousedown\", onMouseDown, false);\n\t\tdocument.addEventListener(\"mouseup\", onMouseUp, false);\n\t\tdocument.addEventListener(\"keydown\", onKeyDown, false);\n\t\tdocument.addEventListener(\"keypress\", onKeyPress, false);\n\t\tdocument.addEventListener(\"keyup\", onKeyUp, false);\n\n\t\tdocument.addEventListener(\"DOMMouseScroll\", onMouseWheel, false);\n\t\tdocument.addEventListener(\"mousewheel\", onMouseWheel, false);\n\t\tdocument.addEventListener(\"touchstart\", onTouchStart, false);\n\t\tdocument.addEventListener(\"touchmove\", onTouchMove, false);\n\t\tdocument.addEventListener(\"touchend\", onTouchEnd, false);\n\t} else if (document.attachEvent) {\n\t\telement.attachEvent(\"onmousewheel\", onMouseWheel);\n\t}\n}\n\nfunction start() {\n\tsetupDocument(document);\n\n\tvar w, h;\n\tw = window.innerWidth;\n\th = window.innerHeight;\n\twindow.onresize = function (ev) {\n\t\tvar w, h;\n\t\tw = window.innerWidth;\n\t\th = window.innerHeight;\n\t\tsendInput(\"d\", [w, h]);\n\t};\n\tsendInput(\"d\", [w, h]);\n}\n\n\nexport function connect(host, https, port) {\n\tconst ws = new WebSocket(\n\t\t`${https ? \"wss\" : \"ws\"}://${host}:${port}/socket`,\n\t\t\"broadway\"\n\t);\n\tGTKBridgeEmitter.call(\"status\", \"connecting\");\n\tws.binaryType = \"arraybuffer\";\n\n\tws.onopen = function () {\n\t\tGTKBridgeEmitter.call(\"status\", \"connected\");\n\t\tinputSocket = ws;\n\t};\n\tws.onclose = function () {\n\t\tif (inputSocket != null) {\n\t\t\tGTKBridgeEmitter.call(\"status\", \"disconnected\");\n\t\t\trootDiv.innerHTML = \"\";\n\t\t}\n\t\tinputSocket = null;\n\t};\n\tws.onmessage = function (event) {\n\t\thandleMessage(event.data);\n\t};\n\n\tvar iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n\tif (iOS) {\n\t\tfakeInput = document.createElement(\"input\");\n\t\tfakeInput.type = \"text\";\n\t\tfakeInput.style.position = \"absolute\";\n\t\tfakeInput.style.left = \"-1000px\";\n\t\tfakeInput.style.top = \"-1000px\";\n\t\trootDiv.appendChild(fakeInput);\n\t}\n}\n\nwindow.stopGDK = () => (active = false);\n","export const isMobile = () => {\n\tconst toMatch = [\n\t\t/Android/i,\n\t\t/webOS/i,\n\t\t/iPhone/i,\n\t\t/iPad/i,\n\t\t/iPod/i,\n\t\t/BlackBerry/i,\n\t\t/Windows Phone/i,\n\t];\n\n\treturn toMatch.some((toMatchItem) => {\n\t\treturn navigator.userAgent.match(toMatchItem);\n\t});\n};\n","import DesktopInterface, {\n\tApp,\n} from \"@web-desktop-environment/interfaces/lib/views/Desktop\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport React, { useState, useEffect } from \"react\";\nimport {\n\twithStyles,\n\tcreateStyles,\n\tWithStyles,\n\tmakeStyles,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\nimport TextField from \"@components/textField\";\nimport Icon from \"@components/icon\";\nimport windowManager from \"@state/WindowManager\";\nimport MountUnmountAnimation from \"@components/mountUnmountAnimation\";\nimport { Link } from \"react-router-dom\";\nimport { Client } from \"@react-fullstack/fullstack-socket-client\";\nimport { ConnectionContext } from \"@root/contexts\";\nimport StateComponent from \"@components/stateComponent\";\nimport { transparent } from \"@utils/colors\";\nimport { connect as connectToBroadway } from \"@root/gtk-broadway-display/index\";\nimport {\n\tGTKBridgeEmitter,\n\tstatus as GTKConnectionStatus,\n} from \"@root/gtk-broadway-display/state\";\nimport { isMobile } from \"@utils/environment\";\n\nexport const windowsBarHeight = 55;\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tright: 0,\n\t\t\tleft: 0,\n\t\t},\n\t\tswitchToNativeButton: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 10 - windowsBarHeight,\n\t\t\ttransition: \"top 300ms\",\n\t\t\tright: 45,\n\t\t\theight: windowsBarHeight,\n\t\t\tcursor: \"pointer\",\n\t\t\twidth: 80,\n\t\t\tborderRadius: \"0 0 15px 15px\",\n\t\t\tfontSize: 40,\n\t\t\tpaddingTop: 5,\n\t\t\tborderBottom: \"none\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcolor: theme.background.text,\n\t\t\tboxShadow: `0 0px 3px 0px ${theme.shadowColor}`,\n\t\t\tborder: `1px solid ${theme.transparentBorder || \"#eee2\"}`,\n\t\t\tbackdropFilter: \"blur(10px)\",\n\t\t\tbackground: transparent(\n\t\t\t\ttheme.background.transparent || theme.background.main,\n\t\t\t\ttheme.type === \"transparent\" ? 0.15 : 0.6\n\t\t\t),\n\t\t\t\"&:hover\": {\n\t\t\t\ttop: 0,\n\t\t\t\tbackground: theme.background.transparent,\n\t\t\t},\n\t\t\tzIndex: windowManager.windowsMinMaxLayer.max + 1,\n\t\t},\n\t\t\"@keyframes slideIn\": {\n\t\t\t\"0%\": {\n\t\t\t\ttransform: \"translateX(-100%)\",\n\t\t\t},\n\t\t\t\"100%\": {\n\t\t\t\ttransform: \"translateX(0%)\",\n\t\t\t},\n\t\t},\n\t\t\"@keyframes slideOut\": {\n\t\t\t\"0%\": {\n\t\t\t\ttransform: \"translateX(0%)\",\n\t\t\t},\n\t\t\t\"100%\": {\n\t\t\t\ttransform: \"translateX(-100%)\",\n\t\t\t},\n\t\t},\n\t\tslideIn: {\n\t\t\tanimation: \"$slideIn 200ms\",\n\t\t},\n\t\tslideOut: {\n\t\t\tanimation: \"$slideOut 200ms\",\n\t\t},\n\t\tstartMenu: {\n\t\t\tposition: \"absolute\",\n\t\t\tzIndex: windowManager.windowsMinMaxLayer.max + 1,\n\t\t\tbottom: 105,\n\t\t\tleft: 15,\n\t\t\twidth: 500,\n\t\t\theight: 500,\n\t\t\tmaxHeight: \"calc(100% - 105px - 5px)\",\n\t\t\tmaxWidth: \"calc(100% - 15px - 5px)\",\n\t\t\toverflowY: \"auto\",\n\t\t\tpadding: 5,\n\t\t\tborderRadius: 10,\n\t\t\tborder: `1px solid ${theme.transparentBorder || \"#eee2\"}`,\n\t\t\tbackdropFilter: \"blur(10px)\",\n\t\t\tbackground: transparent(\n\t\t\t\ttheme.background.transparent || theme.background.main,\n\t\t\t\ttheme.type === \"transparent\" ? 0.15 : 0.6\n\t\t\t),\n\t\t\tboxShadow: \"-5px 6px 10px -1px #0007\",\n\t\t\ttransition: \"width 400ms, left 400ms, bottom 400ms, height 400ms\",\n\t\t},\n\t\t\"@media (max-width: 768px)\": {\n\t\t\tstartMenu: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tleft: 0,\n\t\t\t\tmaxWidth: \"calc(100% - 5px)\",\n\t\t\t\tmaxHeight: \"calc(100% - 60px - 5px)\",\n\t\t\t\tbottom: 60,\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tstartMenuBody: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tmarginTop: 20,\n\t\t},\n\t\tappList: {\n\t\t\tmargin: 7,\n\t\t},\n\t\tappCell: {\n\t\t\tminHeight: 54,\n\t\t\tpadding: 10,\n\t\t\tmarginTop: 15,\n\t\t\tboxSizing: \"border-box\",\n\t\t\tborderBottom: `1px solid ${theme.windowBorderColor}`,\n\t\t\tdisplay: \"flex\",\n\t\t\tborderRadius: 7,\n\t\t\tcolor: theme.background.text,\n\t\t\tcursor: \"pointer\",\n\t\t\tboxShadow: `-1px 2px 20px 2px ${theme.shadowColor}`,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.background.transparentDark || theme.background.dark,\n\t\t\t},\n\t\t},\n\t\tappIcon: {\n\t\t\tflexShrink: 0,\n\t\t\twidth: 50,\n\t\t\theight: 50,\n\t\t\tfontSize: 50,\n\t\t},\n\t\tappContent: {\n\t\t\ttextAlign: \"left\",\n\t\t\tmarginLeft: 10,\n\t\t\toverflow: \"hidden\",\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tappName: {\n\t\t\tfontSize: \"x-large\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t},\n\t\tstartMenuSearch: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t});\n\nconst useWindowBarStyles = makeStyles(\n\t(theme: Theme) => ({\n\t\twindowsBar: {\n\t\t\tposition: \"absolute\",\n\t\t\tanimation: \"$slideUp 1s\",\n\t\t\tleft: 120,\n\t\t\tright: 120,\n\t\t\tborderRadius: 13,\n\t\t\tbottom: 5,\n\t\t\theight: windowsBarHeight,\n\t\t\tdisplay: \"flex\",\n\t\t\tborder: `1px solid ${theme.transparentBorder || \"#eee2\"}`,\n\t\t\tbackdropFilter: \"blur(10px)\",\n\t\t\tbackground: transparent(\n\t\t\t\ttheme.background.transparent || theme.background.main,\n\t\t\t\ttheme.type === \"transparent\" ? 0.15 : 0.6\n\t\t\t),\n\t\t\tpaddingLeft: 10,\n\t\t\tboxShadow: \"0 0px 3px 0px\",\n\t\t\tzIndex: windowManager.windowsMinMaxLayer.max + 1,\n\t\t\toverflowX: \"auto\",\n\t\t\toverflowY: \"hidden\",\n\t\t\ttransition: \"left 600ms, right 600ms, border-radius 600ms\",\n\t\t},\n\t\t\"@keyframes slideUp\": {\n\t\t\tfrom: {\n\t\t\t\tbottom: -windowsBarHeight - 5,\n\t\t\t},\n\t\t\tto: {\n\t\t\t\tbottom: 5,\n\t\t\t},\n\t\t},\n\t\twindowsBarButton: {\n\t\t\tuserSelect: \"none\",\n\t\t\tfontSize: 40,\n\t\t\tboxShadow: \"0px 0px 10px 4px #0007\",\n\t\t\ttransition: \"border-bottom 100ms\",\n\t\t\tpadding: 5,\n\t\t\tmargin: 2,\n\t\t\tborderRadius: 6,\n\t\t\tmarginRight: 5,\n\t\t\tmarginLeft: 5,\n\t\t\tcursor: \"pointer\",\n\t\t\tcolor: theme.background.text,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.background.transparentDark || theme.background.dark,\n\t\t\t},\n\t\t},\n\t\twindowsBarButtonHover: {\n\t\t\tposition: \"absolute\",\n\t\t\ttransform: \"translateY(-150%) translateX(-33%)\",\n\t\t\twidth: 200,\n\t\t\theight: 150,\n\t\t\tborderRadius: 6,\n\t\t\tfontSize: 20,\n\t\t\tbackground: `${theme.background.main} !important`,\n\t\t\tborder: `solid 1px ${theme.windowBorderColor}`,\n\t\t\ttextAlign: \"center\",\n\t\t\tanimation: \"$scaleUp 300ms\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\t\"@keyframes scaleUp\": {\n\t\t\tfrom: {\n\t\t\t\topacity: 0,\n\t\t\t\twidth: 150,\n\t\t\t\theight: 130,\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tto: {\n\t\t\t\topacity: 1,\n\t\t\t\twidth: 200,\n\t\t\t\theight: 150,\n\t\t\t\tborderRadius: 8,\n\t\t\t},\n\t\t},\n\t\twindowsBarButtonActive: {\n\t\t\tbackdropFilter: \"blur(15px)\",\n\t\t\tborderBottom: `${\n\t\t\t\ttheme.type === \"transparent\" ? theme.success.main : theme.secondary.main\n\t\t\t} solid 6px !important`,\n\t\t},\n\t\twindowsBarButtonOpen: {\n\t\t\tborderBottom: `${\n\t\t\t\ttheme.type === \"transparent\" ? theme.success.main : theme.secondary.main\n\t\t\t} solid 3px`,\n\t\t},\n\t\twindowsBarButtonCloseMinimized: {\n\t\t\tborderBottom: `${theme.secondary.dark} solid 3px`,\n\t\t},\n\t\t\"@media (min-width: 768px) and (max-width: 1024px)\": {\n\t\t\twindowsBar: {\n\t\t\t\tleft: 50,\n\t\t\t\tright: 50,\n\t\t\t},\n\t\t},\n\t\t\"@media (max-width: 768px)\": {\n\t\t\twindowsBar: {\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\theight: windowsBarHeight + 5,\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\twindowsBarButton: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tboxShadow: \"none\",\n\t\t\t\tbackdropFilter: \"blur(9px)\",\n\t\t\t},\n\t\t},\n\t}),\n\t{ name: \"WindowBar\" }\n);\n\nclass Desktop extends Component<\n\tDesktopInterface,\n\t{},\n\tWithStyles<typeof styles>\n> {\n\trenderAppListCell = (app: App, index: number, closeMenu: () => void) => {\n\t\tconst { classes, onLaunchApp } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={classes.appCell}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (app) {\n\t\t\t\t\t\tcloseMenu();\n\t\t\t\t\t\tonLaunchApp({ name: app.appName, params: {} });\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{app.icon.type === \"img\" ? (\n\t\t\t\t\t<img alt={`${app.displayName} icon`} src={app.icon.icon} />\n\t\t\t\t) : (\n\t\t\t\t\t<Icon className={classes.appIcon} name={app.icon.icon}></Icon>\n\t\t\t\t)}\n\t\t\t\t<div className={classes.appContent}>\n\t\t\t\t\t<div className={classes.appName}>{app.displayName}</div>\n\t\t\t\t\t<div>{app.description}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\twillUnmount = false;\n\n\tcomponentWillUnmount = () => {\n\t\tthis.willUnmount = true;\n\t};\n\n\tcomponentDidMount = () => {\n\t\tGTKBridgeEmitter.on(\"status\", () => {\n\t\t\tthis.forceUpdate();\n\t\t});\n\n\t\twindow.addEventListener(\n\t\t\t\"resize\",\n\t\t\t() => !this.willUnmount && this.forceUpdate()\n\t\t);\n\n\t\tthis.tryToStartGtkServer();\n\t};\n\n\tcomponentDidUpdate = () => {\n\t\tthis.tryToStartGtkServer();\n\t};\n\n\ttryToStartGtkServer = () => {\n\t\tif (!isMobile()) {\n\t\t\tconst { gtkBridge } = this.props;\n\t\t\tif (GTKConnectionStatus === \"disconnected\" && gtkBridge) {\n\t\t\t\ttry {\n\t\t\t\t\tconnectToBroadway(\n\t\t\t\t\t\treactFullstackConnectionManager.host,\n\t\t\t\t\t\treactFullstackConnectionManager.https,\n\t\t\t\t\t\tgtkBridge.port\n\t\t\t\t\t);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t/* no handle */\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { background, openApps, classes, apps } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.root} style={{ background }}>\n\t\t\t\t{openApps.map((app) => (\n\t\t\t\t\t<ConnectionContext.Provider\n\t\t\t\t\t\tkey={app.id}\n\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\thost: reactFullstackConnectionManager.host,\n\t\t\t\t\t\t\tport: app.port,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\tkey={app.id}\n\t\t\t\t\t\t\t{...reactFullstackConnectionManager.connect(\n\t\t\t\t\t\t\t\tapp.port,\n\t\t\t\t\t\t\t\t\"webWindow\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t))}\n\t\t\t\t{!isMobile() && (\n\t\t\t\t\t<Link to=\"/native\">\n\t\t\t\t\t\t<div className={classes.switchToNativeButton}>\n\t\t\t\t\t\t\t<Icon width={40} height={40} name=\"VscWindow\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\t<StateComponent\n\t\t\t\t\tdefaultState={{ isStartMenuOpen: false, startMenuQuery: \"\" }}\n\t\t\t\t>\n\t\t\t\t\t{({ isStartMenuOpen, startMenuQuery }, setState) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<WindowBar\n\t\t\t\t\t\t\t\t\tisStartMenuOpen={isStartMenuOpen}\n\t\t\t\t\t\t\t\t\ttoggleStartMenu={() =>\n\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\tisStartMenuOpen: !isStartMenuOpen,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<MountUnmountAnimation\n\t\t\t\t\t\t\t\t\tmount={isStartMenuOpen}\n\t\t\t\t\t\t\t\t\tclassName={`${classes.startMenu} ${\n\t\t\t\t\t\t\t\t\t\tisStartMenuOpen ? classes.slideIn : classes.slideOut\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className={classes.startMenuBody}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.startMenuSearch}\n\t\t\t\t\t\t\t\t\t\t\tborderBottom={false}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"search app\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={startMenuQuery}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(startMenuQuery) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({ startMenuQuery })\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t></TextField>\n\t\t\t\t\t\t\t\t\t\t{apps\n\t\t\t\t\t\t\t\t\t\t\t.filter((app) =>\n\t\t\t\t\t\t\t\t\t\t\t\tstartMenuQuery\n\t\t\t\t\t\t\t\t\t\t\t\t\t? app.displayName.includes(startMenuQuery) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t  app.description.includes(startMenuQuery) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t  app.appName.includes(startMenuQuery)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t.map((app, index) =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.renderAppListCell(app, index, () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({ isStartMenuOpen: false })\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</MountUnmountAnimation>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</StateComponent>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport const WindowBar = ({\n\ttoggleStartMenu,\n\tisStartMenuOpen,\n}: {\n\ttoggleStartMenu: () => void;\n\tisStartMenuOpen: boolean;\n}) => {\n\tconst classes = useWindowBarStyles();\n\tconst [openWindows, setOpenWindows] = useState(windowManager.windows);\n\tconst [selectedButton, setSelectedButton] = useState<number | undefined>(\n\t\tundefined\n\t);\n\tuseEffect(() => {\n\t\tconst updateWindow = () => setOpenWindows([...windowManager.windows]);\n\t\tupdateWindow();\n\t\twindowManager.emitter.on(\"addWindow\", updateWindow);\n\t\twindowManager.emitter.on(\"closeWindow\", updateWindow);\n\t\twindowManager.emitter.on(\"maximizeWindow\", updateWindow);\n\t\twindowManager.emitter.on(\"minimizeWindow\", updateWindow);\n\t\twindowManager.emitter.on(\"setActiveWindow\", updateWindow);\n\t}, []);\n\treturn (\n\t\t<div className={classes.windowsBar}>\n\t\t\t<div\n\t\t\t\tclassName={`${classes.windowsBarButton} ${\n\t\t\t\t\t!isStartMenuOpen\n\t\t\t\t\t\t? classes.windowsBarButtonCloseMinimized\n\t\t\t\t\t\t: classes.windowsBarButtonOpen\n\t\t\t\t} ${isStartMenuOpen ? classes.windowsBarButtonActive : \"\"}`}\n\t\t\t\tonClick={() => toggleStartMenu()}\n\t\t\t>\n\t\t\t\t<Icon width={40} height={40} name=\"FcList\" />\n\t\t\t</div>\n\t\t\t{openWindows.map((openWindow, index) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={index}\n\t\t\t\t\tonContextMenu={() =>\n\t\t\t\t\t\tindex === selectedButton\n\t\t\t\t\t\t\t? setSelectedButton(undefined)\n\t\t\t\t\t\t\t: setSelectedButton(index)\n\t\t\t\t\t}\n\t\t\t\t\tclassName={`${classes.windowsBarButton} ${\n\t\t\t\t\t\topenWindow.state.minimized\n\t\t\t\t\t\t\t? classes.windowsBarButtonCloseMinimized\n\t\t\t\t\t\t\t: classes.windowsBarButtonOpen\n\t\t\t\t\t} ${\n\t\t\t\t\t\topenWindow.id === windowManager.activeWindowId &&\n\t\t\t\t\t\t!openWindow.state.minimized\n\t\t\t\t\t\t\t? classes.windowsBarButtonActive\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (windowManager.activeWindowId === openWindow.id) {\n\t\t\t\t\t\t\twindowManager.updateState(openWindow.id, {\n\t\t\t\t\t\t\t\tminimized: !openWindow.state.minimized,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindowManager.updateState(openWindow.id, {\n\t\t\t\t\t\t\t\tminimized: false,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{openWindow.icon.type === \"img\" ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={`${openWindow.name} icon`}\n\t\t\t\t\t\t\tsrc={openWindow.icon.icon}\n\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Icon name={openWindow.icon.icon} />\n\t\t\t\t\t)}\n\t\t\t\t\t{selectedButton === index && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => setSelectedButton(undefined)}\n\t\t\t\t\t\t\tclassName={`${classes.windowsBarButton} ${\n\t\t\t\t\t\t\t\topenWindow.state.minimized\n\t\t\t\t\t\t\t\t\t? classes.windowsBarButtonCloseMinimized\n\t\t\t\t\t\t\t\t\t: classes.windowsBarButtonOpen\n\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\topenWindow.id === windowManager.activeWindowId\n\t\t\t\t\t\t\t\t\t? classes.windowsBarButtonActive\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t} ${classes.windowsBarButtonHover}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{openWindow.icon.type === \"img\" ? (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\talt={`${openWindow.name} icon`}\n\t\t\t\t\t\t\t\t\tsrc={openWindow.icon.icon}\n\t\t\t\t\t\t\t\t\twidth={100}\n\t\t\t\t\t\t\t\t\theight={100}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Icon size={100} name={openWindow.icon.icon} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div>{openWindow.name}</div>{\" \"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default withStyles(styles, { name: \"Desktop\" })(Desktop);\n","import { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\n\nexport type ColorVariants =\n\t| \"main\"\n\t| \"dark\"\n\t| \"light\"\n\t| \"transparent\"\n\t| \"transparentDark\"\n\t| \"transparentLight\";\n\nexport type Colors =\n\t| \"background\"\n\t| \"primary\"\n\t| \"secondary\"\n\t| \"success\"\n\t| \"warning\"\n\t| \"error\";\n\nconst transparentTheme: Theme = {\n\ttype: \"transparent\",\n\tname: \"transparent\",\n\twindowBarColor: \"#BFBFBF57\",\n\tshadowColor: \"#0007\",\n\twindowBorderColor: \"#000\",\n\tbackground: {\n\t\tmain: \"#BFBFBF27\",\n\t\tlight: \"#EFEFEF67\",\n\t\tdark: \"#8F8F8F67\",\n\t\ttransparent: \"#BFBFBF37\",\n\t\ttransparentDark: \"#BFBFBF44\",\n\t\ttext: \"#fff\",\n\t},\n\tprimary: {\n\t\tmain: \"#fff9\",\n\t\tlight: \"#fffe\",\n\t\tdark: \"#eee7\",\n\t\ttransparent: \"#fff2\",\n\t\ttransparentDark: \"#fff4\",\n\t\ttext: \"#000\",\n\t},\n\tsecondary: {\n\t\tmain: \"#0004\",\n\t\tlight: \"#0003\",\n\t\tdark: \"#0005\",\n\t\ttext: \"#fff\",\n\t},\n\terror: {\n\t\tmain: \"#db5049ee\",\n\t\tlight: \"#ff354c88\",\n\t\tdark: \"#f00\",\n\t\ttext: \"#fff\",\n\t},\n\tsuccess: {\n\t\tmain: \"#21c62f88\",\n\t\ttransparent: \"#21c62f48\",\n\t\tdark: \"#21c62fb8\",\n\t\tlight: \"#21c62fee\",\n\t\ttext: \"#fff\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t},\n\twindowBorder: false,\n};\n\nconst transparentDarkTheme: Theme = {\n\ttype: \"transparent\",\n\tname: \"transparent dark\",\n\twindowBarColor: \"#33333377\",\n\tshadowColor: \"#0007\",\n\twindowBorderColor: \"#eee4\",\n\tbackground: {\n\t\tmain: \"#33333357\",\n\t\tlight: \"#44444477\",\n\t\tdark: \"#24242477\",\n\t\ttransparent: \"#37373747\",\n\t\ttransparentDark: \"#24242444\",\n\t\ttext: \"#d9d9da\",\n\t},\n\tprimary: {\n\t\tmain: \"#eee9\",\n\t\tlight: \"#fffe\",\n\t\tdark: \"#bbb7\",\n\t\ttransparent: \"#bebebe22\",\n\t\ttransparentDark: \"#bebebe44\",\n\t\ttext: \"#000\",\n\t},\n\tsecondary: {\n\t\tmain: \"#315bef44\",\n\t\tlight: \"#214b9f33\",\n\t\ttransparent: \"#315bef22\",\n\t\tdark: \"#214b9f55\",\n\t\ttext: \"#fff\",\n\t},\n\terror: {\n\t\tmain: \"#db5049ee\",\n\t\tlight: \"#ff354c88\",\n\t\tdark: \"#f00\",\n\t\ttext: \"#fff\",\n\t},\n\tsuccess: {\n\t\tmain: \"#21c62f88\",\n\t\ttransparent: \"#21c62f48\",\n\t\tdark: \"#21c62fb8\",\n\t\tlight: \"#21c62fee\",\n\t\ttext: \"#fff\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t},\n\twindowBorder: true,\n};\n\nconst lightTheme: Theme = {\n\ttype: \"light\",\n\tname: \"light\",\n\tbackground: {\n\t\tmain: \"#f5f5f4\",\n\t\tdark: \"#e4e9f2\",\n\t\tlight: \"#fff\",\n\t\ttext: \"#222\",\n\t\tdarkText: \"#000\",\n\t\ttransparentLight: \"#fff\",\n\t\ttransparent: \"#fff9\",\n\t\ttransparentDark: \"#e4e9f299\",\n\t},\n\tprimary: {\n\t\tmain: \"#333333\",\n\t\tdark: \"#242424\",\n\t\tlight: \"#444444\",\n\t\ttext: \"#d9d9da\",\n\t\tdarkText: \"#de2cb7\",\n\t\ttransparentLight: \"#444\",\n\t\ttransparent: \"#373737e9\",\n\t\ttransparentDark: \"#24242499\",\n\t},\n\tsecondary: {\n\t\tmain: \"#4585b2\",\n\t\tdark: \"#357592\",\n\t\tlight: \"#abcbe2\",\n\t\ttext: \"#222\",\n\t\tdarkText: \"#29d436\",\n\t\ttransparentLight: \"#fff\",\n\t\ttransparent: \"#4585b288\",\n\t\ttransparentDark: \"#35759299\",\n\t},\n\twindowBorderColor: \"#000\",\n\tshadowColor: \"#33333377\",\n\tsuccess: {\n\t\tmain: \"#21c62f88\",\n\t\tdark: \"#21c62fb8\",\n\t\tlight: \"#21c62fee\",\n\t\ttext: \"#fff\",\n\t\tdarkText: \"#c73898\",\n\t\ttransparentLight: \"#444\",\n\t\ttransparent: \"#37c56676\",\n\t\ttransparentDark: \"#37c5666a\",\n\t},\n\twindowBarColor: \"#fff\",\n\terror: {\n\t\tmain: \"#db5049ee\",\n\t\tlight: \"#ff354c88\",\n\t\tdark: \"#f00\",\n\t\ttext: \"#fff\",\n\t\tdarkText: \"#24adb4\",\n\t\ttransparentLight: \"#fff\",\n\t\ttransparent: \"#db50498f\",\n\t\ttransparentDark: \"#db504981\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t\tdarkText: \"#0025ab\",\n\t\ttransparentLight: \"#444\",\n\t\ttransparent: \"#ffd95199\",\n\t\ttransparentDark: \"#ffd9518a\",\n\t},\n\twindowBorder: true,\n};\n\nconst darkTheme: Theme = {\n\ttype: \"dark\",\n\tname: \"dark\",\n\tshadowColor: \"#0007\",\n\twindowBorderColor: \"#000\",\n\twindowBarColor: \"#333333\",\n\tbackground: {\n\t\tmain: \"#333333\",\n\t\tlight: \"#444444\",\n\t\ttransparent: \"#373737e9\",\n\t\tdark: \"#242424\",\n\t\ttransparentDark: \"#24242499\",\n\t\ttext: \"#d9d9da\",\n\t},\n\tprimary: {\n\t\tmain: \"#eee\",\n\t\ttransparent: \"#e8e8e869\",\n\t\tlight: \"#fff\",\n\t\tdark: \"#bbb\",\n\t\ttransparentDark: \"#bebebe99\",\n\t\ttext: \"#000\",\n\t},\n\tsecondary: {\n\t\tmain: \"#315bef\",\n\t\tdark: \"#214b9f\",\n\t\tlight: \"#416bef\",\n\t\ttransparent: \"#315bef97\",\n\t\ttext: \"#fff\",\n\t},\n\terror: {\n\t\tmain: \"#db5049ee\",\n\t\tlight: \"#ff354c88\",\n\t\tdark: \"#f00\",\n\t\ttext: \"#fff\",\n\t},\n\tsuccess: {\n\t\tmain: \"#21c62f88\",\n\t\tdark: \"#21c62fb8\",\n\t\tlight: \"#21c62fee\",\n\t\ttext: \"#fff\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t},\n\twindowBorder: true,\n};\n\nconst mintTheme: Theme = {\n\ttype: \"dark\",\n\tname: \"flat mint\",\n\tshadowColor: \"#0000\",\n\twindowBorderColor: \"#000\",\n\twindowBarColor: \"#2e2e2e\",\n\tbackground: {\n\t\tmain: \"#2e2e2e\",\n\t\tlight: \"#404040\",\n\t\ttransparent: \"#2e2e2ee9\",\n\t\tdark: \"#242424\",\n\t\ttransparentDark: \"#24242499\",\n\t\ttext: \"#d6d6d6\",\n\t},\n\tprimary: {\n\t\tmain: \"#e3e3e3\",\n\t\ttransparent: \"#e3e3e369\",\n\t\tlight: \"#fff\",\n\t\tdark: \"#d6d6d6\",\n\t\ttransparentDark: \"#d6d6d699\",\n\t\ttext: \"#000\",\n\t},\n\tsecondary: {\n\t\tmain: \"#90b376\",\n\t\tdark: \"#5da541\",\n\t\tlight: \"#9ad96c\",\n\t\ttransparent: \"#90b37697\",\n\t\ttext: \"#fafcfb\",\n\t},\n\terror: {\n\t\tmain: \"#db5049ee\",\n\t\tlight: \"#ff354c88\",\n\t\tdark: \"#f00\",\n\t\ttext: \"#fff\",\n\t},\n\tsuccess: {\n\t\tmain: \"#90b376\",\n\t\tdark: \"#5da541\",\n\t\tlight: \"#9ad96c\",\n\t\ttransparent: \"#90b37697\",\n\t\ttext: \"#fafcfb\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t},\n\twindowBorder: true,\n\toverrides: {\n\t\tWindowBar: {\n\t\t\twindowsBar: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tbackground: \"#2e2e2e\",\n\t\t\t\tjustifyContent: \"center\",\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"@media (min-width: 768px)\": {\n\t\t\t\twindowsBar: {\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\twidth: \"max-content\",\n\t\t\t\t\ttransform: \"translateX(50%)\",\n\t\t\t\t\tright: \"50%\",\n\t\t\t\t\tleft: \"auto\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"@keyframes slideUp\": {\n\t\t\t\tfrom: {\n\t\t\t\t\tbottom: -55,\n\t\t\t\t},\n\t\t\t\tto: {\n\t\t\t\t\tbottom: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\twindowsBarButton: {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tmarginRight: 0,\n\t\t\t\tboxShadow: \"none\",\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\twindowsBarButtonCloseMinimized: {\n\t\t\t\tborderBottom: \"#5da541 solid 1px\",\n\t\t\t},\n\t\t\twindowsBarButtonOpen: {\n\t\t\t\tborderBottom: \"#5da541 solid 1px\",\n\t\t\t},\n\t\t},\n\t\tDesktop: {\n\t\t\tstartMenu: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tboxShadow: \"none\",\n\t\t\t\tbackground: \"#2e2e2e\",\n\t\t\t},\n\t\t\t\"@media (min-width: 768px)\": {\n\t\t\t\tstartMenu: {\n\t\t\t\t\ttransform: \"translateX(50%)\",\n\t\t\t\t\tright: \"50%\",\n\t\t\t\t\tleft: \"auto\",\n\t\t\t\t\tbottom: 60,\n\t\t\t\t},\n\t\t\t},\n\t\t\tappCell: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderBottom: \"none\",\n\t\t\t},\n\t\t\tslideIn: {\n\t\t\t\tanimation: \"none\",\n\t\t\t},\n\t\t\tslideOut: {\n\t\t\t\tanimation: \"none\",\n\t\t\t},\n\t\t},\n\t\tWindow: {\n\t\t\tbar: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbarCollapse: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbarButton: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbarButtonInactive: {\n\t\t\t\tborder: \"none\",\n\t\t\t},\n\t\t\tbody: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tTerminal: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tLoadingScreen: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tIframe: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tNotepad: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\theadline: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbackButton: {\n\t\t\t\tborderRadius: \"0  !important\",\n\t\t\t},\n\t\t},\n\t\tExplorer: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tactionBar: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tfile: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbreadcrumbButtonItemFirst: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tbreadcrumbButtonItemLast: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tSettings: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tcategorySelection: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tsettingsBlock: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\tthemeButton: {\n\t\t\t\tborderRadius: \"0 !important\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nconst nordTheme: Theme = {\n\ttype: \"dark\",\n\tname: \"nord\",\n\tshadowColor: \"#0006\",\n\twindowBorderColor: \"#292f3c\",\n\twindowBarColor: \"#3d4455\",\n\tbackground: {\n\t\tmain: \"#3d4455\",\n\t\tlight: \"#434c5e\",\n\t\ttransparent: \"#3d4455e9\",\n\t\tdark: \"#2e3440\",\n\t\ttransparentDark: \"#2e344099\",\n\t\ttext: \"#eee\",\n\t},\n\tprimary: {\n\t\tmain: \"#2e343f\",\n\t\ttransparent: \"#2e343f69\",\n\t\tlight: \"#3b4251\",\n\t\tdark: \"#262b34\",\n\t\ttransparentDark: \"#262b3499\",\n\t\ttext: \"#fff\",\n\t},\n\tsecondary: {\n\t\tmain: \"#8fbcbb\",\n\t\tdark: \"#6f8a91\",\n\t\tlight: \"#8abbb9\",\n\t\ttransparent: \"#8fbcbb97\",\n\t\ttext: \"#fff\",\n\t},\n\terror: {\n\t\tmain: \"#c6616c\",\n\t\tlight: \"#c6616c88\",\n\t\tdark: \"#b65e5c\",\n\t\ttext: \"#fff\",\n\t},\n\tsuccess: {\n\t\tmain: \"#9dbd90\",\n\t\tdark: \"#9dbd90b8\",\n\t\tlight: \"#9dbd90ee\",\n\t\ttext: \"#fff\",\n\t},\n\twarning: {\n\t\tmain: \"#ffd951\",\n\t\tlight: \"#ffeb51\",\n\t\tdark: \"#ae9941\",\n\t\ttext: \"#fff\",\n\t},\n\twindowBorder: true,\n};\n\nexport const defaultTheme = darkTheme;\n\nexport const Themes = {\n\tdark: darkTheme,\n\tnord: nordTheme,\n\tlight: lightTheme,\n\ttransparent: transparentTheme,\n\ttransparentDark: transparentDarkTheme,\n\tmint: mintTheme,\n};\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport ThemeProviderInterface from \"@web-desktop-environment/interfaces/lib/views/ThemeProvider\";\nimport { ThemeProvider as TP } from \"@material-ui/styles\";\nimport { Themes } from \"@root/theme\";\n\nclass ThemeProvider extends Component<ThemeProviderInterface> {\n\trender() {\n\t\tif (this.props.theme === \"custom\" && this.props.customTheme) {\n\t\t\treturn <TP theme={this.props.customTheme}>{this.props.children}</TP>;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<TP theme={Themes[this.props.theme as keyof typeof Themes]}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</TP>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport class EmptyThemeProvider extends Component<ThemeProviderInterface> {\n\trender() {\n\t\treturn this.props.children || <></>;\n\t}\n}\n\nexport default ThemeProvider;\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport WindowInterface, {\n\tWindowState as LocalWindowState,\n} from \"@web-desktop-environment/interfaces/lib/views/Window\";\nimport { withStyles, createStyles, WithStyles } from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport ReactDOM from \"react-dom\";\nimport windowManager from \"@state/WindowManager\";\nimport { windowsBarHeight as desktopWindowsBarHeight } from \"@views/Desktop\";\nimport Icon from \"@components/icon\";\nimport { Rnd, RndDragCallback, RndResizeCallback } from \"react-rnd\";\nimport { ConnectionContext } from \"@root/contexts\";\nimport { lastTaskQueuer } from \"@utils/tasks\";\nimport { isMobile } from \"@utils/environment\";\n\nexport const defaultWindowSize = {\n\theight: 600,\n\twidth: 700,\n\tmaxHeight: 700,\n\tmaxWidth: 1000,\n\tminHeight: 300,\n\tminWidth: 400,\n};\n\n// for now windows will not support hot reloading from mobile mode to regular mode\nconst constantIsMobile = isMobile();\n\nexport const windowBarHeight = constantIsMobile ? 35 : 25;\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\tbar: {\n\t\t\tbackground: theme.windowBarColor,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(15px)\" : \"none\",\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\tborderBottom: \"none\",\n\t\t\tborderRadius: \"7px 7px 0 0\",\n\t\t\tcursor: \"move\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row-reverse\",\n\t\t\theight: windowBarHeight,\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tsmoothMove: {\n\t\t\ttransition: \"top 305ms, left 305ms\",\n\t\t},\n\t\tbarCollapse: {\n\t\t\tborderRadius: \"7px 7px 7px 7px\",\n\t\t\tborderBottom: `1px solid ${theme.windowBorderColor}`,\n\t\t},\n\t\tbody: {\n\t\t\tborderRadius: \"0 0 3px 3px\",\n\t\t\twidth: \"100%\",\n\t\t\theight: `calc(100% - ${windowBarHeight}px)`,\n\t\t},\n\t\tbarButtonsContainer: {\n\t\t\tposition: \"relative\",\n\t\t\ttop: constantIsMobile ? (windowBarHeight - 20) / 2 : 4,\n\t\t\tright: constantIsMobile ? 10 : 5,\n\t\t\twidth: constantIsMobile ? 25 : 40,\n\t\t\theight: 20,\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tbarButton: {\n\t\t\twidth: constantIsMobile ? 20 : 15,\n\t\t\theight: constantIsMobile ? 20 : 15,\n\t\t\tborderRadius: \"50%\",\n\t\t\tzIndex: 2,\n\t\t\tborder: \"1px solid #0004\",\n\t\t},\n\t\tbarButtonExit: {\n\t\t\tcursor: \"pointer\",\n\t\t\tbackground: theme.error.main,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.error.dark,\n\t\t\t},\n\t\t},\n\t\tbarButtonCollapse: {\n\t\t\tcursor: \"pointer\",\n\t\t\tbackground: theme.success.main,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.success.dark,\n\t\t\t},\n\t\t},\n\t\tbarButtonInactive: {\n\t\t\tbackground: theme.primary.transparent,\n\t\t},\n\t\tbarTitle: {\n\t\t\tposition: \"relative\",\n\t\t\ttop: constantIsMobile ? 6 : 2,\n\t\t\tfontSize: constantIsMobile ? 17 : 14,\n\t\t\tleft: 45,\n\t\t\twidth: \"100%\",\n\t\t\ttextAlign: \"center\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\tmaxWidth: constantIsMobile ? \"calc(100% - 75px)\" : \"calc(100% - 90px)\",\n\t\t\tuserSelect: \"none\",\n\t\t\tcolor: theme.background.text,\n\t\t},\n\t\tbarTitleIcon: {\n\t\t\tposition: \"relative\",\n\t\t\ttop: 3,\n\t\t},\n\t});\n\ntype WindowSnap = \"fullscreen\" | \"right\" | \"left\";\n\ninterface WindowState {\n\tcanDrag: boolean;\n\tcollapse: boolean;\n\tisActive?: boolean;\n\tlocalWindowState?: LocalWindowState;\n\tuseLocalWindowState: boolean;\n\tisResizing: boolean;\n\tzIndex?: number;\n\tsnap?: WindowSnap;\n}\n\nclass Window extends Component<\n\tWindowInterface,\n\tWindowState,\n\tWithStyles<typeof styles>\n> {\n\tdomContainer: Element;\n\tid!: number;\n\twrapperRef?: HTMLDivElement;\n\n\tconstructor(props: Window[\"props\"]) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcanDrag: false,\n\t\t\tcollapse: props.window.minimized || false,\n\t\t\tuseLocalWindowState: false,\n\t\t\tisResizing: false,\n\t\t};\n\n\t\tthis.domContainer = document.createElement(\"div\");\n\t\tdocument.getElementById(\"app\")?.appendChild(this.domContainer);\n\t}\n\n\tstatic contextType = ConnectionContext;\n\n\tcontext!: React.ContextType<typeof ConnectionContext>;\n\n\tpercentageToNumber = (size: number | string, from: number) => {\n\t\tif (typeof size === \"number\") {\n\t\t\treturn size;\n\t\t}\n\t\treturn (100 / Number(size.replace(\"%\", \"\"))) * from;\n\t};\n\n\tscreenSizesToNumbers = () => {\n\t\tconst { maxHeight, maxWidth, minHeight, minWidth } = this.props.window;\n\t\treturn {\n\t\t\tmaxHeight: this.percentageToNumber(\n\t\t\t\tmaxHeight || defaultWindowSize.maxHeight,\n\t\t\t\twindow.innerHeight\n\t\t\t),\n\t\t\tminHeight: this.percentageToNumber(\n\t\t\t\tminHeight || defaultWindowSize.minHeight,\n\t\t\t\twindow.innerHeight\n\t\t\t),\n\t\t\tmaxWidth: this.percentageToNumber(\n\t\t\t\tmaxWidth || defaultWindowSize.maxWidth,\n\t\t\t\twindow.innerWidth\n\t\t\t),\n\t\t\tminWidth: this.percentageToNumber(\n\t\t\t\tminWidth || defaultWindowSize.minWidth,\n\t\t\t\twindow.innerWidth\n\t\t\t),\n\t\t};\n\t};\n\n\tgetSize = () => {\n\t\tconst size = { ...(this.windowProperties.size || {}) };\n\t\tconst { collapse } = this.state;\n\t\tconst {\n\t\t\tmaxHeight,\n\t\t\tmaxWidth,\n\t\t\tminHeight,\n\t\t\tminWidth,\n\t\t} = this.screenSizesToNumbers();\n\t\tif (size.height && size.width) {\n\t\t\tif (maxHeight < size.height) {\n\t\t\t\tsize.height = maxHeight;\n\t\t\t}\n\t\t\tif (minHeight > size.height) {\n\t\t\t\tsize.height = minHeight;\n\t\t\t}\n\t\t\tif (maxWidth < size.width) {\n\t\t\t\tsize.width = maxWidth;\n\t\t\t}\n\t\t\tif (minWidth > size.width) {\n\t\t\t\tsize.width = minWidth;\n\t\t\t}\n\t\t\tif (collapse) {\n\t\t\t\tsize.height = windowBarHeight;\n\t\t\t}\n\t\t\treturn size as { width: number; height: number };\n\t\t} else {\n\t\t\treturn {\n\t\t\t\twidth: defaultWindowSize.width,\n\t\t\t\theight: collapse ? windowBarHeight : defaultWindowSize.height,\n\t\t\t};\n\t\t}\n\t};\n\n\tgetPosition = () => {\n\t\tconst size = this.getSize();\n\t\tconst { position } = this.windowProperties;\n\t\tconst { useLocalWindowState } = this.state;\n\t\tif (position && size) {\n\t\t\tif (position.x < 0) {\n\t\t\t\tif (!useLocalWindowState) {\n\t\t\t\t\tposition.x = -position.x;\n\t\t\t\t} else {\n\t\t\t\t\tposition.x = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (position.x > window.innerWidth - size.width) {\n\t\t\t\tif (!useLocalWindowState) {\n\t\t\t\t\tposition.x =\n\t\t\t\t\t\twindow.innerWidth -\n\t\t\t\t\t\tsize.width -\n\t\t\t\t\t\t((window.innerWidth - size.width) % position.x);\n\t\t\t\t} else {\n\t\t\t\t\tposition.x = window.innerWidth - size.width;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (\n\t\t\t\tposition.y >\n\t\t\t\twindow.innerHeight - desktopWindowsBarHeight - windowBarHeight\n\t\t\t) {\n\t\t\t\tposition.y =\n\t\t\t\t\twindow.innerHeight - desktopWindowsBarHeight - windowBarHeight;\n\t\t\t}\n\t\t\tif (position.y < 0) {\n\t\t\t\tposition.y = 0;\n\t\t\t}\n\t\t\treturn position;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tx: window.screen.availWidth / 3,\n\t\t\t\ty: window.screen.availHeight / 3,\n\t\t\t};\n\t\t}\n\t};\n\n\tprivate willUnmount = false;\n\n\tcomponentDidMount() {\n\t\tthis.updateWindowPositionORSizeQueuer.start();\n\t\twindowManager.emitter.on(\"minimizeWindow\", ({ id }) => {\n\t\t\tthis.props.setWindowState({\n\t\t\t\tminimized: true,\n\t\t\t});\n\t\t\tif (id === this.id) {\n\t\t\t\tthis.setState({ collapse: true, isActive: true });\n\t\t\t} else this.setState({ isActive: false });\n\t\t});\n\n\t\twindowManager.emitter.on(\"maximizeWindow\", ({ id }) => {\n\t\t\tthis.props.setWindowState({\n\t\t\t\tminimized: false,\n\t\t\t});\n\t\t\tif (id === this.id) {\n\t\t\t\tthis.setState({ collapse: false, isActive: true });\n\t\t\t} else this.setState({ isActive: false });\n\t\t});\n\t\twindowManager.emitter.on(\"setActiveWindow\", ({ id }) => {\n\t\t\tif (id === this.id) {\n\t\t\t\tthis.setState({ isActive: true });\n\t\t\t} else {\n\t\t\t\tthis.setState({ isActive: false });\n\t\t\t}\n\t\t});\n\t\twindowManager.emitter.on(\"updateZIndex\", ({ id, layer }) => {\n\t\t\tif (id === this.id) {\n\t\t\t\tthis.setState({ zIndex: layer });\n\t\t\t}\n\t\t});\n\t\tdocument.addEventListener(\"mousedown\", (e) => {\n\t\t\tif (this.wrapperRef && e.target) {\n\t\t\t\tif (\n\t\t\t\t\tthis.wrapperRef &&\n\t\t\t\t\t!this.wrapperRef.contains(e.target as HTMLElement)\n\t\t\t\t) {\n\t\t\t\t\tthis.handleClickOutside();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.id = windowManager.addWindow(this.props.name, this.props.icon, {\n\t\t\tminimized: this.props.window.minimized || false,\n\t\t});\n\t\twindowManager.reloadWindowsLayers();\n\n\t\tconst switchPosition = () => {\n\t\t\tif (!this.willUnmount) {\n\t\t\t\tthis.switchToAbsolutePosition();\n\t\t\t\twindow.requestAnimationFrame(switchPosition);\n\t\t\t}\n\t\t};\n\t\tswitchPosition();\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tthis.willUnmount = true;\n\t\twindowManager.closeWindow(this.id);\n\t};\n\n\thandleClickOutside = () => {\n\t\tthis.setState({ isActive: false });\n\t};\n\n\tsetActive = () => {\n\t\tif (windowManager.activeWindowId === this.id) {\n\t\t\tthis.setState({ isActive: true });\n\t\t} else {\n\t\t\twindowManager.setActiveWindow(this.id);\n\t\t}\n\t};\n\n\tget serverWindowProperties() {\n\t\treturn {\n\t\t\tsize:\n\t\t\t\tthis.props.window.width && this.props.window.height\n\t\t\t\t\t? {\n\t\t\t\t\t\t\twidth: this.props.window.width,\n\t\t\t\t\t\t\theight: this.props.window.height,\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined,\n\t\t\tposition: this.props.window.position,\n\t\t};\n\t}\n\n\tget windowProperties() {\n\t\tif (this.state.useLocalWindowState) {\n\t\t\treturn this.state.localWindowState || this.serverWindowProperties;\n\t\t} else {\n\t\t\treturn this.serverWindowProperties;\n\t\t}\n\t}\n\n\tupdateWindowPositionORSizeQueuer = lastTaskQueuer();\n\n\t/**\n\t * update window size or position locally on remotely\n\t */\n\tsetWindowState(state: LocalWindowState) {\n\t\tthis.setState({\n\t\t\tlocalWindowState: { ...this.state.localWindowState, ...state },\n\t\t});\n\n\t\tthis.updateWindowPositionORSizeQueuer.queueTask(() =>\n\t\t\tthis.props.setWindowState(state)\n\t\t);\n\t}\n\n\tsnapWindow = (snap?: WindowSnap | undefined, forceState?: boolean) => {\n\t\tconst {\n\t\t\tprops: {\n\t\t\t\twindow: { allowLocalScreenSnapping },\n\t\t\t},\n\t\t\tstate: { snap: currentSnap, collapse },\n\t\t} = this;\n\t\tif (!collapse) {\n\t\t\tif (allowLocalScreenSnapping) {\n\t\t\t\tconst snapNow = forceState !== undefined ? forceState : !currentSnap;\n\t\t\t\tthis.setState({ snap: snapNow ? snap : undefined });\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * static constance window properties to use when we are in fullscreen mode\n\t */\n\tstatic fullscreenWindowPosition = { x: 0, y: 0 };\n\n\t/*\n\t *\twe are removing the translation base position and replace it with an absolute position using top and left\n\t *\tcss properties in the render we need to avoid using translation base position since it is causing blurriness in iframes\n\t */\n\tswitchToAbsolutePosition = () => {\n\t\tconst rndElement = document.getElementsByClassName(\n\t\t\tthis.randomClassNameForRndContainer\n\t\t)[0] as HTMLDivElement;\n\t\trndElement.style.transform = \"\";\n\n\t\tconst newStyles = this.getWindowTransformStyles();\n\n\t\tObject.keys(newStyles).map((keyNameAsString) => {\n\t\t\tconst key = keyNameAsString as keyof typeof newStyles;\n\t\t\tconst value = newStyles[key];\n\t\t\tif (typeof value === \"number\") {\n\t\t\t\trndElement.style[key] = `${value}px`;\n\t\t\t} else if (typeof value === \"string\") {\n\t\t\t\trndElement.style[key] = value;\n\t\t\t}\n\t\t});\n\t};\n\n\trandomClassNameForRndContainer = `rndElement${Math.random()}`;\n\n\tgetWindowTransformStyles = () => {\n\t\tconst position = this.getWindowPosition();\n\t\tconst size = this.getWindowSize();\n\t\treturn {\n\t\t\ttop: position?.y || 0,\n\t\t\tleft: position?.x || 0,\n\t\t\theight: size?.height,\n\t\t\twidth: size?.width,\n\t\t};\n\t};\n\n\tonDrag: RndDragCallback = (e, newPosition) => {\n\t\tthis.setActive();\n\t\tconst { isResizing } = this.state;\n\t\tif (isResizing) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst position = this.getPosition();\n\t\tconst size = this.getSize();\n\t\tconst { clientX, clientY } = e as MouseEvent;\n\n\t\tconst updatedPosition = {\n\t\t\tx: position.x + newPosition.deltaX,\n\t\t\ty: position.y + newPosition.deltaY,\n\t\t};\n\n\t\t// snap window drag to mouse\n\t\tif (updatedPosition.x > clientX) {\n\t\t\tupdatedPosition.x = clientX;\n\t\t}\n\t\tif (updatedPosition.x < clientX - size.width) {\n\t\t\tupdatedPosition.x = clientX - size.width;\n\t\t}\n\t\tif (updatedPosition.y > clientY - windowBarHeight) {\n\t\t\tupdatedPosition.y = clientY - windowBarHeight;\n\t\t}\n\t\tif (updatedPosition.y < clientY) {\n\t\t\tupdatedPosition.y = clientY - windowBarHeight / 2;\n\t\t}\n\n\t\t// calculate if the window is touching one of the screen borders\n\t\tconst touchTop = clientY < 2; // need to go a bit over the edge to go fullscreen\n\t\tconst farFromTop = clientY > 50;\n\t\tconst touchMinimumLeft = clientX < 25;\n\t\tconst farFromMinimumLeft = clientX > 50;\n\t\tconst touchMinimumRight = clientX > window.innerWidth - 25;\n\t\tconst farFromMinimumRight = clientX < window.innerWidth - 50;\n\n\t\t// in case the window touches one of the screen edges snap to it\n\t\tif (touchTop) {\n\t\t\tthis.snapWindow(\"fullscreen\", true);\n\t\t\treturn;\n\t\t}\n\t\tif (touchMinimumLeft) {\n\t\t\tthis.snapWindow(\"left\", true);\n\t\t\treturn;\n\t\t}\n\t\tif (touchMinimumRight) {\n\t\t\tthis.snapWindow(\"right\", true);\n\t\t\treturn;\n\t\t}\n\n\t\tif (farFromMinimumLeft && farFromMinimumRight && farFromTop) {\n\t\t\tthis.snapWindow(undefined, false);\n\t\t}\n\t\tthis.setWindowState({\n\t\t\tposition: updatedPosition,\n\t\t});\n\t};\n\tonResize: RndResizeCallback = (e, dir, ele, delta) => {\n\t\tconst position = this.getPosition();\n\t\tconst { localWindowState, collapse } = this.state;\n\t\tif (localWindowState?.size) {\n\t\t\tconst { size } = localWindowState;\n\t\t\tconst {\n\t\t\t\tmaxHeight,\n\t\t\t\tmaxWidth,\n\t\t\t\tminHeight,\n\t\t\t\tminWidth,\n\t\t\t} = this.screenSizesToNumbers();\n\t\t\tconst newSize = {\n\t\t\t\twidth: size.width + delta.width - this.lastResizeDelta.width,\n\t\t\t\theight: size.height + delta.height - this.lastResizeDelta.height,\n\t\t\t};\n\t\t\tif (collapse) {\n\t\t\t\tnewSize.height -= delta.height - this.lastResizeDelta.height;\n\t\t\t}\n\t\t\tswitch (dir) {\n\t\t\t\tcase \"topRight\":\n\t\t\t\tcase \"top\": {\n\t\t\t\t\tif (newSize.height < maxHeight && newSize.height > minHeight) {\n\t\t\t\t\t\tposition.y -= delta.height - this.lastResizeDelta.height;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"bottomLeft\":\n\t\t\t\tcase \"left\": {\n\t\t\t\t\tif (newSize.width < maxWidth && newSize.width > minWidth) {\n\t\t\t\t\t\tposition.x -= delta.width - this.lastResizeDelta.width;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"topLeft\": {\n\t\t\t\t\tif (newSize.height < maxHeight && newSize.height > minHeight) {\n\t\t\t\t\t\tposition.y -= delta.height - this.lastResizeDelta.height;\n\t\t\t\t\t}\n\t\t\t\t\tif (newSize.width < maxWidth && newSize.width > minWidth) {\n\t\t\t\t\t\tposition.x -= delta.width - this.lastResizeDelta.width;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setWindowState({\n\t\t\t\tsize: newSize,\n\t\t\t\tposition: {\n\t\t\t\t\t...position,\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.lastResizeDelta = delta;\n\t\t}\n\t};\n\n\tgetWindowSize = () => {\n\t\tconst size = this.getSize();\n\t\tconst { snap, collapse } = this.state;\n\t\tif (!snap && !isMobile()) {\n\t\t\treturn size;\n\t\t\t// mobile is always fullscreen\n\t\t} else if (collapse && isMobile()) {\n\t\t\treturn {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: `${windowBarHeight}px`,\n\t\t\t};\n\t\t} else if (snap === \"fullscreen\" || isMobile()) {\n\t\t\treturn {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: `calc(100% - ${\n\t\t\t\t\tdesktopWindowsBarHeight + 10 /* add 5 to account for margin */\n\t\t\t\t}px)`,\n\t\t\t};\n\t\t} else if (snap === \"left\" || snap === \"right\") {\n\t\t\treturn {\n\t\t\t\twidth: \"50%\",\n\t\t\t\theight: `calc(100% - ${\n\t\t\t\t\tdesktopWindowsBarHeight + 10 /* add 5 to account for margin */\n\t\t\t\t}px)`,\n\t\t\t};\n\t\t}\n\t};\n\n\tgetWindowPosition = () => {\n\t\tconst position = this.getPosition();\n\t\tconst { snap } = this.state;\n\t\tif (!snap && !isMobile()) {\n\t\t\treturn position;\n\t\t\t// mobile is always fullscreen\n\t\t} else if (snap === \"fullscreen\" || snap === \"left\" || isMobile()) {\n\t\t\treturn {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t};\n\t\t} else if (snap === \"right\") {\n\t\t\treturn {\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: 0,\n\t\t\t};\n\t\t}\n\t};\n\n\tshouldCollapse = () => {\n\t\tconst { collapse, snap, useLocalWindowState, isResizing } = this.state;\n\t\treturn collapse || (useLocalWindowState && !snap && !isResizing);\n\t};\n\n\tlastResizeDelta = { width: 0, height: 0 };\n\n\trender() {\n\t\tconst {\n\t\t\tcanDrag,\n\t\t\tcollapse,\n\t\t\tisActive,\n\t\t\tzIndex,\n\t\t\tsnap,\n\t\t\tuseLocalWindowState,\n\t\t} = this.state;\n\t\tconst { children, classes, title, icon, onClose } = this.props;\n\t\tconst size = this.getSize();\n\t\tconst position = this.getPosition();\n\t\tconst onMobile = isMobile();\n\t\treturn ReactDOM.createPortal(\n\t\t\t<div\n\t\t\t\tref={(element) => {\n\t\t\t\t\tif (element) this.wrapperRef = element;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Rnd\n\t\t\t\t\tclassName={`${this.randomClassNameForRndContainer} ${\n\t\t\t\t\t\tuseLocalWindowState ? \"\" : classes.smoothMove\n\t\t\t\t\t}`}\n\t\t\t\t\tdisableDragging={!canDrag}\n\t\t\t\t\tsize={this.getWindowSize()}\n\t\t\t\t\tposition={this.getWindowPosition()}\n\t\t\t\t\tonDrag={!onMobile ? this.onDrag : undefined}\n\t\t\t\t\tonDragStart={(e) => {\n\t\t\t\t\t\tif (onMobile) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (snap) {\n\t\t\t\t\t\t\tconst { clientX, clientY } = e as MouseEvent;\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuseLocalWindowState: true,\n\t\t\t\t\t\t\t\tlocalWindowState: {\n\t\t\t\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t\t\t\tx: clientX - size.width / 2,\n\t\t\t\t\t\t\t\t\t\ty: clientY + windowBarHeight / 2,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsnap: undefined,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuseLocalWindowState: true,\n\t\t\t\t\t\t\t\tlocalWindowState: {\n\t\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonDragStop={() => {\n\t\t\t\t\t\tif (onMobile) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.updateWindowPositionORSizeQueuer.idle().then(() =>\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuseLocalWindowState: false,\n\t\t\t\t\t\t\t\tlocalWindowState: undefined,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\tdefaultSize={size}\n\t\t\t\t\tonResizeStart={() => {\n\t\t\t\t\t\tif (onMobile) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tuseLocalWindowState: true,\n\t\t\t\t\t\t\tlocalWindowState: {\n\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t\tsize: size,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsnap: undefined,\n\t\t\t\t\t\t\tisResizing: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tonResizeStop={() => {\n\t\t\t\t\t\tif (onMobile) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.lastResizeDelta = { height: 0, width: 0 };\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisResizing: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\tthis.updateWindowPositionORSizeQueuer.idle().then(() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tuseLocalWindowState: false,\n\t\t\t\t\t\t\t\t\t\tlocalWindowState: undefined,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\tonResize={this.onResize}\n\t\t\t\t\tstyle={{ zIndex, ...this.getWindowTransformStyles() }}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={collapse && onMobile ? { display: \"none\" } : {}}\n\t\t\t\t\t\tclassName={classes.root}\n\t\t\t\t\t\tonClick={() => this.setActive()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonMouseEnter={() => this.setState({ canDrag: true })}\n\t\t\t\t\t\t\tonMouseLeave={() => this.setState({ canDrag: false })}\n\t\t\t\t\t\t\tonDoubleClick={() => this.snapWindow(\"fullscreen\")}\n\t\t\t\t\t\t\tclassName={`${classes.bar} ${\n\t\t\t\t\t\t\t\tthis.shouldCollapse() ? classes.barCollapse : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className={classes.barButtonsContainer}>\n\t\t\t\t\t\t\t\t{!onMobile && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\twindowManager.updateState(this.id, {\n\t\t\t\t\t\t\t\t\t\t\t\tminimized: !collapse,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.barButton} ${\n\t\t\t\t\t\t\t\t\t\t\tisActive\n\t\t\t\t\t\t\t\t\t\t\t\t? classes.barButtonCollapse\n\t\t\t\t\t\t\t\t\t\t\t\t: classes.barButtonInactive\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`${classes.barButton} ${\n\t\t\t\t\t\t\t\t\t\tisActive ? classes.barButtonExit : classes.barButtonInactive\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={classes.barTitle}>\n\t\t\t\t\t\t\t\t{title} -{\" \"}\n\t\t\t\t\t\t\t\t{icon.type === \"icon\" ? (\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\tcontainerClassName={classes.barTitleIcon}\n\t\t\t\t\t\t\t\t\t\tname={icon.icon}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclassName={classes.barTitleIcon}\n\t\t\t\t\t\t\t\t\t\talt=\"windows icon\"\n\t\t\t\t\t\t\t\t\t\twidth={14}\n\t\t\t\t\t\t\t\t\t\theight={14}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.body}\n\t\t\t\t\t\t\tstyle={this.shouldCollapse() ? { display: \"none\" } : {}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Rnd>\n\t\t\t</div>,\n\t\t\tthis.domContainer\n\t\t);\n\t}\n}\n\nexport default withStyles(styles, { withTheme: true, name: \"Window\" })(Window);\n","import Emitter from \"./Emitter\";\n\nexport const lastTaskQueuer = () => {\n\tlet stop = false;\n\tlet isIdle = true;\n\tlet lastTask: undefined | (() => Promise<void>);\n\n\tconst continueEmitter = new Emitter<{ continue: void; idle: void }>();\n\n\treturn {\n\t\tqueueTask(newTask: () => Promise<void>) {\n\t\t\tlastTask = newTask;\n\t\t\tcontinueEmitter.call(\"continue\", (null as unknown) as void);\n\t\t},\n\t\tstop() {\n\t\t\tstop = true;\n\t\t},\n\t\tidle() {\n\t\t\treturn new Promise<void>((res) => {\n\t\t\t\tif (isIdle) {\n\t\t\t\t\tres();\n\t\t\t\t}\n\t\t\t\tcontinueEmitter.on(\"idle\", res);\n\t\t\t});\n\t\t},\n\t\tasync start() {\n\t\t\twhile (!stop) {\n\t\t\t\tif (lastTask) {\n\t\t\t\t\tisIdle = false;\n\t\t\t\t\tconst currentTask = lastTask;\n\t\t\t\t\tlastTask = undefined;\n\t\t\t\t\tawait currentTask();\n\t\t\t\t\tisIdle = true;\n\t\t\t\t}\n\t\t\t\tif (!lastTask) {\n\t\t\t\t\tcontinueEmitter.call(\"idle\", (null as unknown) as void);\n\t\t\t\t\tawait new Promise((res) => continueEmitter.on(\"continue\", res));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n};\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport TerminalInterface from \"@web-desktop-environment/interfaces/lib/views/apps/utils/Terminal\";\nimport {\n\twithStyles,\n\tcreateStyles,\n\tWithStyles,\n\twithTheme,\n\tWithTheme,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport io from \"socket.io-client\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\nimport { Terminal as XTerm } from \"xterm\";\nimport { FitAddon } from \"xterm-addon-fit\";\nimport ResizeDetector from \"react-resize-detector\";\nimport \"xterm/css/xterm.css\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\tborderTop: \"none\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tbackground: theme.background.main,\n\t\t\tbackdropFilter: \"blur(15px)\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t},\n\t\tbody: {\n\t\t\theight: \"calc(100% - 8px)\",\n\t\t\twidth: \"100%\",\n\t\t\t\"& .xterm-viewport\": {\n\t\t\t\tbackground: \"#fff0\",\n\t\t\t},\n\t\t},\n\t});\n\nclass Terminal extends Component<\n\tTerminalInterface,\n\t{},\n\tWithStyles<typeof styles> & WithTheme<Theme>\n> {\n\tsocket: SocketIOClient.Socket;\n\tterm: XTerm;\n\ttermFit: FitAddon;\n\tcontainerElement?: HTMLElement;\n\tconstructor(props: Terminal[\"props\"]) {\n\t\tsuper(props);\n\t\tthis.socket = io(\n\t\t\t`${reactFullstackConnectionManager.https ? \"https\" : \"http\"}://${\n\t\t\t\treactFullstackConnectionManager.host\n\t\t\t}:${props.port}`,\n\t\t\t{\n\t\t\t\ttransports: [\"websocket\"],\n\t\t\t}\n\t\t);\n\t\tthis.term = new XTerm({\n\t\t\ttheme: this.getTermTheme(),\n\t\t\tfontFamily: \"JetBrains Mono\",\n\t\t\tallowTransparency: true,\n\t\t});\n\t\tthis.termFit = new FitAddon();\n\t\tthis.term.loadAddon(this.termFit);\n\t\tthis.socket.on(\"output\", (data: string) => {\n\t\t\tthis.term.write(data);\n\t\t});\n\t\tthis.term.onData((data) => {\n\t\t\tthis.socket.emit(\"input\", data);\n\t\t});\n\t}\n\n\tgetTermTheme = () => ({\n\t\tbackground: \"#fff0\",\n\t\tforeground: this.props.theme.background.text,\n\t\tcursor: this.props.theme.background.text,\n\t});\n\n\tcomponentDidMount = () => {\n\t\tif (this.containerElement) {\n\t\t\tthis.term.open(this.containerElement);\n\t\t\tthis.termFit.fit();\n\t\t}\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tthis.socket.close();\n\t};\n\n\tonResize = () => {\n\t\tif (this.containerElement?.clientWidth) {\n\t\t\t// do not resize is container is in display: none mode\n\t\t\tthis.termFit.fit();\n\t\t\tthis.socket.emit(\"setColumns\", this.term.cols);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\tthis.term.setOption(\"theme\", this.getTermTheme());\n\t\tthis.onResize();\n\t\treturn (\n\t\t\t<ResizeDetector onResize={this.onResize}>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classes.body}\n\t\t\t\t\t\tref={(div) => {\n\t\t\t\t\t\t\tif (div) {\n\t\t\t\t\t\t\t\tthis.containerElement = div;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t></div>\n\t\t\t\t</div>\n\t\t\t</ResizeDetector>\n\t\t);\n\t}\n}\n\nexport default withTheme(\n\twithStyles(styles, { withTheme: true, name: \"Terminal\" })(Terminal)\n);\n","import ExplorerInterface, {\n\tFile,\n} from \"@web-desktop-environment/interfaces/lib/views/apps/utils/Explorer\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport React from \"react\";\nimport { withStyles, createStyles, WithStyles } from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport Button from \"@components/button\";\nimport Icon from \"@components/icon\";\nimport TextField from \"@components/textField\";\nimport Emitter from \"@utils/Emitter\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\nimport { transparent } from \"@utils/colors\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tbackground: theme.background.main,\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\tborderTop: \"none\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(15px)\" : \"none\",\n\t\t\tdisplay: \"grid\",\n\t\t\tgridTemplateRows: \"44px calc(100% - 44px)\",\n\t\t},\n\t\tactionBarContainer: {\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\tactionBar: {\n\t\t\tborderBottom: `1px solid ${theme.windowBorderColor}`,\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tbackground: theme.background.dark,\n\t\t\tborderRight: `solid 1px ${theme.windowBorderColor}`,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(16px)\" : \"none\",\n\t\t\tborderRadius: \"0 0 0 10px\",\n\t\t\talignItems: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\tactionButton: {\n\t\t\ttextDecoration: \"none\",\n\t\t\twidth: \"100%\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\theight: 20,\n\t\t\tpaddingTop: 10,\n\t\t\tpaddingBottom: 10,\n\t\t\ttextAlign: \"center\",\n\t\t\tuserSelect: \"none\",\n\t\t\tanimation: \"$opacityUp 150ms\",\n\t\t\tcolor: theme.secondary.text,\n\t\t\tfontSize: 18,\n\t\t\tcursor: \"pointer\",\n\t\t\tborderBottom: `solid 1px ${theme.windowBorderColor}`,\n\t\t\ttransition: \"background 100ms, transform 100ms\",\n\t\t\t...(theme.type === \"transparent\"\n\t\t\t\t? {\n\t\t\t\t\t\tbackdropFilter: \"blur(7px)\",\n\t\t\t\t\t\tboxShadow: `-1px 2px 20px 1px ${theme.shadowColor}`,\n\t\t\t\t\t\tbackground: theme.background.transparent,\n\t\t\t\t\t\tborderBottom: `1px solid ${theme.windowBorderColor}`,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t\t\"&:hover\": {\n\t\t\t\t...(theme.type === \"transparent\"\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tbackdropFilter: \"blur(13px)\",\n\t\t\t\t\t\t\tbackground: theme.secondary.light,\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tbackground: theme.secondary.light,\n\t\t\t\t\t  }),\n\t\t\t},\n\t\t},\n\t\t\"@keyframes opacityUp\": {\n\t\t\tfrom: {\n\t\t\t\topacity: 0,\n\t\t\t},\n\t\t\tto: {\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t},\n\t\tlocationBarContainer: {\n\t\t\twidth: \"100%\",\n\t\t\toverflow: \"auto\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\tborderRight: \"none\",\n\t\t\tborderLeft: \"none\",\n\t\t},\n\t\tlocationBar: {\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(10px)\" : \"none\",\n\t\t\twidth: \"95%\",\n\t\t\tmaxHeight: \"100%\",\n\t\t\toverflowX: \"auto\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\tbreadcrumbFilesContainer: {\n\t\t\tmaxHeight: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t},\n\t\tfileBoxContainer: {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdisplay: \"grid\",\n\t\t\tgridTemplateColumns: \"175px calc(100% - 175px)\",\n\t\t},\n\t\tfileBox: {\n\t\t\tboxShadow: `${theme.shadowColor} 0px 7px 20px 1px inset`,\n\t\t\tbackground: theme.background.transparent || theme.background.main,\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\toverflowY: \"auto\",\n\t\t\tborderBottomRightRadius: 9,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tfileContainer: {\n\t\t\tdisplay: \"grid\",\n\t\t\tgridTemplateColumns: \"repeat(auto-fit, minmax(80px, 120px))\",\n\t\t\tmargin: 15,\n\t\t\tjustifyContent: \"center\",\n\t\t\tgridGap: 15,\n\t\t\tgap: \"15px\",\n\t\t\tgridAutoRows: 100,\n\t\t},\n\t\tfile: {\n\t\t\tborderRadius: 7,\n\t\t\tpadding: 2,\n\t\t\tcolor: theme.secondary.text,\n\t\t\tcursor: \"pointer\",\n\t\t\tboxShadow: `-1px 2px 10px 1px ${theme.shadowColor}`,\n\t\t\ttransition: \"background 100ms, transform 200ms\",\n\t\t\t\"&:hover\": {\n\t\t\t\ttransform: \"scale(1.1)\",\n\t\t\t\tbackground: theme.secondary.dark,\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t},\n\t\t\theight: 90,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column-reverse\",\n\t\t},\n\t\ttransparent: {\n\t\t\tbackground: \"transparent !important\",\n\t\t},\n\t\tfileActive: {\n\t\t\tbackground: theme.secondary.transparent || theme.secondary.main,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t\tbackground: theme.secondary.transparent || theme.secondary.main,\n\t\t\t},\n\t\t},\n\t\tfileName: {\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\tmaxWidth: \"100%\",\n\t\t\ttextAlign: \"center\",\n\t\t\tuserSelect: \"none\",\n\t\t},\n\t\tfileIcon: {\n\t\t\tuserSelect: \"none\",\n\t\t\ttextAlign: \"center\",\n\t\t\tmaxWidth: 100,\n\t\t\tfontSize: 50,\n\t\t},\n\t\tfileBreadcrumb: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tbreadcrumbButtonItem: {\n\t\t\tminWidth: 20,\n\t\t\ttextAlign: \"center\",\n\t\t\tuserSelect: \"none\",\n\t\t\tcolor: theme.primary.text,\n\t\t\tfontSize: 25,\n\t\t\tbackground: theme.primary.transparent,\n\t\t\tborder: \"solid 1px transparent\",\n\t\t\tmaxWidth: 380,\n\t\t\toverflow: \"hidden\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\ttransition: \"background 100ms\",\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.primary.main,\n\t\t\t},\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t\tbreadcrumbButtonItemFirst: {\n\t\t\tborderRadius: \"8px 0 0 8px\",\n\t\t\tpaddingLeft: 10,\n\t\t},\n\t\tbreadcrumbButtonItemLast: {\n\t\t\tcursor: \"auto\",\n\t\t\tborderRadius: \"0 8px 8px 0\",\n\t\t\tbackground:\n\t\t\t\ttheme.type === \"light\"\n\t\t\t\t\t? theme.primary.main\n\t\t\t\t\t: transparent(theme.primary.main, 0.6),\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.primary.main,\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t},\n\t\t\tpaddingRight: 10,\n\t\t},\n\t\tdialog: {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\tdialogMessage: {\n\t\t\tmaxWidth: \"80%\",\n\t\t\ttextAlign: \"center\",\n\t\t\tcolor: theme.background.text,\n\t\t\tfontSize: 25,\n\t\t},\n\t\tdialogButtons: {\n\t\t\tmargin: 20,\n\t\t\twidth: \"50%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t},\n\t\t\"@media (max-width: 700px)\": {\n\t\t\tdialogButtons: {\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\talignItems: \"center\",\n\t\t\t},\n\t\t\tfileContainer: {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\tmargin: 0,\n\t\t\t\tgap: 0,\n\t\t\t},\n\t\t\tfileBoxContainer: {\n\t\t\t\tgridTemplateColumns: \"145px calc(100% - 145px)\",\n\t\t\t},\n\t\t\tfile: {\n\t\t\t\tflexDirection: \"row\",\n\t\t\t\theight: 70,\n\t\t\t\talignItems: \"center\",\n\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\tmargin: 5,\n\t\t\t\tboxShadow: \"none\",\n\t\t\t\tborderRadius: 0,\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\ttransform: \"scale(1)\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfileContainerMini: {\n\t\t\tgridTemplateColumns: \"100%\",\n\t\t},\n\t\tdialogButton: {\n\t\t\tmargin: 10,\n\t\t\twidth: \"100%\",\n\t\t\tfontSize: 50,\n\t\t\theight: \"fit-content\",\n\t\t\tborderRadius: 7,\n\t\t\tbackground: theme.primary.main,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.primary.dark,\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t},\n\t\t},\n\t\tdialogButtonPrimary: {\n\t\t\tbackground: theme.secondary.main,\n\t\t\t\"&:hover\": {\n\t\t\t\tbackground: theme.secondary.dark,\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t},\n\t\t},\n\t\tdialogInput: {\n\t\t\tmargin: 10,\n\t\t\tcolor: theme.background.text,\n\t\t\tfontSize: 25,\n\t\t},\n\t\topenButton: {\n\t\t\tmargin: 5,\n\t\t},\n\t\tstickyActionBarContainer: {\n\t\t\tposition: \"sticky\",\n\t\t\tbottom: 0,\n\t\t\twidth: \"100%\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t\tbackground: theme.background.dark,\n\t\t\tborderTop: `1px solid ${theme.windowBorderColor}`,\n\t\t},\n\t\tactionBarNoBorder: {\n\t\t\tborderBottom: \"none\",\n\t\t},\n\t});\n\ninterface Confirm {\n\tmessage: string;\n\tresult?: boolean;\n}\n\ninterface Prompt {\n\tmessage: string;\n\tvalue: string;\n\tresult?: boolean;\n}\n\ninterface ExplorerState {\n\tfileIsOverFile?: number;\n\tselectedFile?: number;\n\tdragedFile?: File;\n\tcopyPath?: { fullPath: string; name: string };\n\tcutPath?: { fullPath: string; name: string };\n\tconfirm?: Confirm;\n\tprompt?: Prompt;\n\tdownloadUrl?: string;\n}\n\ninterface ExplorerEvents {\n\tconfirmDone: Confirm;\n\tpromptDone: Prompt;\n}\n\nclass Explorer extends Component<\n\tExplorerInterface,\n\tExplorerState,\n\tWithStyles<typeof styles>\n> {\n\tselectedFile?: File & { fullPath: string };\n\tconstructor(props: Explorer[\"props\"]) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\temitter = new Emitter<ExplorerEvents>();\n\n\tconfirm = async (message: string) => {\n\t\treturn await new Promise((resolve, reject) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\tmessage,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tconst confirmDone = (confirm: Confirm) => {\n\t\t\t\t\t\tif (confirm.result !== undefined) {\n\t\t\t\t\t\t\tresolve(confirm.result);\n\t\t\t\t\t\t\tthis.setState({ confirm: undefined });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error(\"confirm does not have a result.\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.emitter.off(\"confirmDone\", confirmDone);\n\t\t\t\t\t};\n\t\t\t\t\tthis.emitter.on(\"confirmDone\", confirmDone);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t};\n\n\tprompt = async (\n\t\tmessage: string\n\t): Promise<{ result: boolean; value: string }> => {\n\t\treturn await new Promise((resolve) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tprompt: {\n\t\t\t\t\t\tmessage,\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tconst promptFinish = (prompt: Prompt) => {\n\t\t\t\t\t\tif (prompt.result) {\n\t\t\t\t\t\t\tresolve({ result: prompt.result, value: prompt.value });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve({ result: false, value: prompt.value });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ prompt: undefined });\n\t\t\t\t\t\tthis.emitter.off(\"promptDone\", promptFinish);\n\t\t\t\t\t};\n\t\t\t\t\tthis.emitter.on(\"promptDone\", promptFinish);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t};\n\n\tgetBreadcrumbLocations = (maxLength: number) => {\n\t\tconst {\n\t\t\tcurrentPath,\n\t\t\tplatformPathSeparator,\n\t\t\tonChangeCurrentPath,\n\t\t} = this.props;\n\t\tlet currentLocation = \"\";\n\t\tconst pathArray: string[] = [];\n\t\tcurrentPath\n\t\t\t.split(platformPathSeparator)\n\t\t\t.filter((path) => path)\n\t\t\t.forEach((path) => pathArray.push(`${path}${platformPathSeparator}`));\n\t\tpathArray.unshift(platformPathSeparator);\n\t\tconst result = pathArray.map((path, i) => {\n\t\t\tcurrentLocation += path;\n\t\t\tconst pathPartPath = currentLocation;\n\t\t\treturn {\n\t\t\t\tpath,\n\t\t\t\tisFirst: i === 0,\n\t\t\t\tisLast: i === pathArray.length - 1,\n\t\t\t\tonClick: () => {\n\t\t\t\t\tonChangeCurrentPath(pathPartPath);\n\t\t\t\t\tthis.setState({ selectedFile: undefined });\n\t\t\t\t\tthis.selectedFile = undefined;\n\t\t\t\t},\n\t\t\t\tonDrop: () => this.onDropPath(pathPartPath),\n\t\t\t};\n\t\t});\n\t\twhile (result.length > maxLength) {\n\t\t\tresult.shift();\n\t\t\tresult[0].isFirst = true;\n\t\t}\n\t\treturn result;\n\t};\n\n\tprivate onDrop = async (target: File) => {\n\t\tconst { currentPath, platformPathSeparator, onMove } = this.props;\n\t\tthis.setState({ dragedFile: undefined });\n\t\tif (\n\t\t\tthis.state.dragedFile &&\n\t\t\tthis.state.dragedFile !== target &&\n\t\t\ttarget.isFolder\n\t\t) {\n\t\t\tconst newPath = `${currentPath}${platformPathSeparator}${target.name}${platformPathSeparator}${this.state.dragedFile.name}`;\n\t\t\tconst originalPath = `${currentPath}${platformPathSeparator}${this.state.dragedFile.name}`;\n\t\t\tthis.setState({\n\t\t\t\tfileIsOverFile: undefined,\n\t\t\t\tselectedFile: undefined,\n\t\t\t});\n\t\t\tif (\n\t\t\t\tawait this.confirm(\n\t\t\t\t\t` do you want to move ${this.state.dragedFile.name} to ${newPath}`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tonMove({\n\t\t\t\t\tnewPath,\n\t\t\t\t\toriginalPath,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tprivate onDropPath = async (path: string) => {\n\t\tconst { currentPath, platformPathSeparator, onMove } = this.props;\n\t\tif (this.state.dragedFile) {\n\t\t\tconst newPath = `${path}${platformPathSeparator}${this.state.dragedFile.name}`;\n\t\t\tconst originalPath = `${currentPath}${platformPathSeparator}${this.state.dragedFile.name}`;\n\t\t\tthis.setState({\n\t\t\t\tfileIsOverFile: undefined,\n\t\t\t\tselectedFile: undefined,\n\t\t\t});\n\t\t\tif (\n\t\t\t\tawait this.confirm(\n\t\t\t\t\t` do you want to move ${this.state.dragedFile.name} to ${newPath}`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tonMove({\n\t\t\t\t\tnewPath,\n\t\t\t\t\toriginalPath,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tprivate onFileDragOver = (file: File, index: number) => {\n\t\tif (\n\t\t\tfile.isFolder &&\n\t\t\tthis.state.dragedFile?.name !== file.name &&\n\t\t\tthis.state.fileIsOverFile !== index\n\t\t) {\n\t\t\tthis.setState({ fileIsOverFile: index });\n\t\t}\n\t};\n\n\tdeleteSelected = async () => {\n\t\tconst { currentPath, platformPathSeparator, onDelete } = this.props;\n\t\tif (\n\t\t\tthis.selectedFile &&\n\t\t\t(await this.confirm(\n\t\t\t\t`are you sure you want to delete ${this.selectedFile.name}`\n\t\t\t))\n\t\t) {\n\t\t\tonDelete(\n\t\t\t\t`${currentPath}${platformPathSeparator}${this.selectedFile.name}`\n\t\t\t);\n\t\t\tthis.setState({ selectedFile: undefined });\n\t\t\tthis.selectedFile = undefined;\n\t\t}\n\t};\n\n\tcreateFolder = async () => {\n\t\tconst promptCreate = await this.prompt(\"please enter folder name:\");\n\t\tconst { currentPath, platformPathSeparator, onCreateFolder } = this.props;\n\t\tif (promptCreate.value) {\n\t\t\tonCreateFolder(\n\t\t\t\t`${currentPath}${platformPathSeparator}${promptCreate.value}`\n\t\t\t);\n\t\t}\n\t};\n\n\tcreateFile = async () => {\n\t\tconst promptCreate = await this.prompt(\"please enter file name:\");\n\t\tconst { currentPath, platformPathSeparator, onCreateFile } = this.props;\n\t\tif (promptCreate.value) {\n\t\t\tonCreateFile(\n\t\t\t\t`${currentPath}${platformPathSeparator}${promptCreate.value}`\n\t\t\t);\n\t\t}\n\t};\n\n\tprivate Past = () => {\n\t\tconst { cutPath, copyPath } = this.state;\n\t\tconst { platformPathSeparator, currentPath, onMove, onCopy } = this.props;\n\t\tif (cutPath || copyPath) {\n\t\t\tif (this.selectedFile?.isFolder) {\n\t\t\t\tif (cutPath && cutPath.fullPath !== this.selectedFile?.fullPath) {\n\t\t\t\t\tonMove({\n\t\t\t\t\t\tnewPath: `${this.selectedFile.fullPath}${platformPathSeparator}${cutPath.name}`,\n\t\t\t\t\t\toriginalPath: cutPath.fullPath,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ copyPath: undefined });\n\t\t\t\t}\n\t\t\t\tif (copyPath && copyPath.fullPath !== this.selectedFile?.fullPath) {\n\t\t\t\t\tonCopy({\n\t\t\t\t\t\tnewPath: `${this.selectedFile.fullPath}${platformPathSeparator}${copyPath.name}`,\n\t\t\t\t\t\toriginalPath: copyPath.fullPath,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (cutPath) {\n\t\t\t\t\tonMove({\n\t\t\t\t\t\tnewPath: `${currentPath}${platformPathSeparator}${cutPath.name}`,\n\t\t\t\t\t\toriginalPath: cutPath.fullPath,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (copyPath) {\n\t\t\t\t\tonCopy({\n\t\t\t\t\t\tnewPath: `${currentPath}${platformPathSeparator}${copyPath.name}`,\n\t\t\t\t\t\toriginalPath: copyPath.fullPath,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\topenSelected = () => {\n\t\tconst { currentPath, platformPathSeparator, onOpen } = this.props;\n\t\tif (this.selectedFile) {\n\t\t\tonOpen(`${currentPath}${platformPathSeparator}${this.selectedFile.name}`);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tfiles,\n\t\t\tcurrentPath,\n\t\t\tplatformPathSeparator,\n\t\t\tonRequestDownloadLink,\n\t\t\tonChangeCurrentPath,\n\t\t\tonSelect,\n\t\t\ttype,\n\t\t} = this.props;\n\t\tconst {\n\t\t\tfileIsOverFile,\n\t\t\tselectedFile,\n\t\t\tcopyPath,\n\t\t\tcutPath,\n\t\t\tdownloadUrl,\n\t\t\tprompt,\n\t\t\tconfirm,\n\t\t} = this.state;\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<div className={classes.locationBarContainer}>\n\t\t\t\t\t<div className={classes.locationBar}>\n\t\t\t\t\t\t<div className={classes.breadcrumbFilesContainer}>\n\t\t\t\t\t\t\t{this.getBreadcrumbLocations(6).map((breadcrumbItem, index) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`${classes.breadcrumbButtonItem} ${\n\t\t\t\t\t\t\t\t\t\tbreadcrumbItem.isFirst\n\t\t\t\t\t\t\t\t\t\t\t? classes.breadcrumbButtonItemFirst\n\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\t\tbreadcrumbItem.isLast\n\t\t\t\t\t\t\t\t\t\t\t? classes.breadcrumbButtonItemLast\n\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tonDrop={breadcrumbItem.onDrop}\n\t\t\t\t\t\t\t\t\tonDragOverCapture={(e) => e.preventDefault()}\n\t\t\t\t\t\t\t\t\tonClick={breadcrumbItem.onClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{breadcrumbItem.path}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${classes.fileBoxContainer} ${\n\t\t\t\t\t\ttype === \"explore\" && !prompt && !confirm\n\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t: classes.fileContainerMini\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t{type === \"explore\" && !prompt && !confirm && (\n\t\t\t\t\t\t<div className={classes.actionBarContainer}>\n\t\t\t\t\t\t\t<div className={classes.actionBar}>\n\t\t\t\t\t\t\t\t<div className={classes.actionButton} onClick={this.createFile}>\n\t\t\t\t\t\t\t\t\tnew File\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\tonClick={this.createFolder}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tnew Folder\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{selectedFile !== undefined && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\t\tonClick={this.deleteSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{selectedFile !== undefined && !this.selectedFile?.isFolder && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\t\tonClick={this.openSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{selectedFile !== undefined && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile &&\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tcopyPath: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullPath: this.selectedFile.fullPath,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.selectedFile.name,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tcutPath: undefined,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{selectedFile !== undefined && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile &&\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tcutPath: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullPath: this.selectedFile.fullPath,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.selectedFile.name,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tcopyPath: undefined,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCut\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(cutPath || copyPath) && (\n\t\t\t\t\t\t\t\t\t<div className={classes.actionButton} onClick={this.Past}>\n\t\t\t\t\t\t\t\t\t\tPast\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{downloadUrl && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionButton}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\thref={downloadUrl}\n\t\t\t\t\t\t\t\t\t\tdownload\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{selectedFile === undefined || downloadUrl\n\t\t\t\t\t\t\t\t\t\t\t? \"Download\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Loading...\"}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.fileBox}>\n\t\t\t\t\t\t{prompt && (\n\t\t\t\t\t\t\t<div className={classes.dialog}>\n\t\t\t\t\t\t\t\t<div className={classes.dialogMessage}>{prompt.message}</div>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={prompt.value}\n\t\t\t\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\t\t\t\tprompt &&\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tprompt: { ...prompt, value: newValue || \"\" },\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName={classes.dialogInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className={classes.dialogButtons}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.dialogButton} ${classes.dialogButtonPrimary}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tprompt &&\n\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tprompt: { ...prompt, result: true },\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.emitter.call(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"promptDone\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.prompt as Prompt\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tOK\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dialogButton}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tprompt &&\n\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tprompt: { ...prompt, result: false },\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.emitter.call(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"promptDone\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.prompt as Prompt\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{confirm && (\n\t\t\t\t\t\t\t<div className={classes.dialog}>\n\t\t\t\t\t\t\t\t<div className={classes.dialogMessage}>{confirm.message}</div>\n\t\t\t\t\t\t\t\t<div className={classes.dialogButtons}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dialogButton}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t(state) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.confirm?.message\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconfirm: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: state.confirm.message,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.emitter.call(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"confirmDone\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.confirm as Confirm\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.dialogButton} ${classes.dialogButtonPrimary}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t(state) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.confirm?.message\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconfirm: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: state.confirm.message,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.emitter.call(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"confirmDone\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.confirm as Confirm\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tOK\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!prompt && !confirm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className={classes.fileContainer}>\n\t\t\t\t\t\t\t\t\t{files.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`${classes.file} ${\n\t\t\t\t\t\t\t\t\t\t\t\tfileIsOverFile === index || selectedFile === index\n\t\t\t\t\t\t\t\t\t\t\t\t\t? classes.fileActive\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.dragedFile === file\n\t\t\t\t\t\t\t\t\t\t\t\t\t? classes.transparent\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tdraggable\n\t\t\t\t\t\t\t\t\t\t\tonDrag={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ dragedFile: file });\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonDrop={() => this.onDrop(file)}\n\t\t\t\t\t\t\t\t\t\t\tonDragOverCapture={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.onFileDragOver(file, index);\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonDragLeave={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (fileIsOverFile === index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ fileIsOverFile: undefined });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (selectedFile !== index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...file,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullPath: `${currentPath}${platformPathSeparator}${file.name}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ selectedFile: index, downloadUrl: undefined },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!this.selectedFile.isFolder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRequestDownloadLink(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile.fullPath\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).then((result) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdownloadUrl: `${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treactFullstackConnectionManager.https\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"https\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"http\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}://${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treactFullstackConnectionManager.host\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}:${result.port}${result.path}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFile: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdownloadUrl: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonDoubleClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (file.isFolder) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeCurrentPath(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${currentPath}${platformPathSeparator}${file.name}${platformPathSeparator}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (type === \"select-file\" && onSelect) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${currentPath}${platformPathSeparator}${file.name}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.fileName}>{file.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t{file.isFolder ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fileIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileIsOverFile === index\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"FcOpenedFolder\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"FcFolder\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.fileIcon} name=\"FcDocument\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{type !== \"explore\" && (\n\t\t\t\t\t\t\t\t\t<div className={classes.stickyActionBarContainer}>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`${classes.actionBar} ${classes.actionBarNoBorder}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.openButton}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t((type === \"select-file\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!this.selectedFile.isFolder) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(type === \"select-folder\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectedFile.isFolder))\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect(this.selectedFile.fullPath);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles, { withTheme: true, name: \"Explorer\" })(\n\tExplorer\n);\n","import React from \"react\";\nimport { Component, View } from \"@react-fullstack/fullstack\";\nimport { FileViewerBase } from \"@web-desktop-environment/interfaces/lib/shared/fileViewer\";\nimport { createStyles, WithStyles } from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport Button from \"@components/button\";\n\nexport const makeFileViewerStyles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tbackground: theme.background.main,\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\tborderTop: \"none\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t\tpaddingBottom: 2,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(15px)\" : \"none\",\n\t\t\tdisplay: \"grid\",\n\t\t\tgridTemplateRows: \"44px calc(100% - 44px)\",\n\t\t},\n\t\theadlineContainer: {\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t},\n\t\tmenuContainer: {\n\t\t\twidth: \"100%\",\n\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\tborderRight: \"none\",\n\t\t\tborderLeft: \"none\",\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(10px)\" : \"none\",\n\t\t\toverflow: \"hidden\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t\theadline: {\n\t\t\tfontSize: 25,\n\t\t\twidth: \"70%\",\n\t\t\tborderRadius: 7,\n\t\t\theight: 33,\n\t\t\tuserSelect: \"none\",\n\t\t\tcolor: theme.background.darkText || theme.background.text,\n\t\t\ttextAlign: \"center\",\n\t\t\tbackground: theme.background.light,\n\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t\talignItems: \"center\",\n\t\t\tposition: \"sticky\",\n\t\t},\n\t\t\"@media (max-width: 600px)\": {\n\t\t\theadline: {\n\t\t\t\twidth: \"95%\",\n\t\t\t},\n\t\t},\n\t\t\"@media (max-width: 430px)\": {\n\t\t\theadline: {\n\t\t\t\tfontSize: \"1.3rem\",\n\t\t\t},\n\t\t},\n\t\tbackButton: {\n\t\t\tposition: \"relative\",\n\t\t\tright: 0,\n\t\t\tborderRight: `1px solid ${theme.windowBorderColor} !important`,\n\t\t\twidth: 150,\n\t\t\theight: \"100%\",\n\t\t\tminHeight: \"0 !important\",\n\t\t\tborderRadius: \"5px !important\",\n\t\t\tpadding: \"0 !important\",\n\t\t\tminWidth: \"110px !important\",\n\t\t\tborderTopRightRadius: \"0 !important\",\n\t\t\tborderBottomRightRadius: \"0 !important\",\n\t\t},\n\t\topenFileContainer: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t\topenFileContainerBody: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tboxShadow: `inset 0px 0 8px 2px ${theme.shadowColor}`,\n\t\t\tbackground: theme.background.light,\n\t\t},\n\t\tfilename: {\n\t\t\twidth: \"100%\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\tuserSelect: \"none\",\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t});\n\nabstract class FileViewer<\n\tViewType extends View<FileViewerBase>,\n\tStyles extends WithStyles<typeof makeFileViewerStyles>\n> extends Component<ViewType, {}, Styles> {\n\tabstract renderViewer(): JSX.Element;\n\trender() {\n\t\tconst { classes, isSelectingFile, onReselectFile, name } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t{isSelectingFile ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className={classes.headlineContainer}>\n\t\t\t\t\t\t\t<div className={classes.headline}>\n\t\t\t\t\t\t\t\t<div className={classes.filename}>\n\t\t\t\t\t\t\t\t\tPlease select file to edit\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={classes.openFileContainer}>\n\t\t\t\t\t\t\t<div className={classes.openFileContainerBody}>\n\t\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className={classes.menuContainer}>\n\t\t\t\t\t\t\t<div className={classes.headline}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.backButton}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => onReselectFile()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{\"<- back\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<div className={classes.filename}>Editing {name}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.renderViewer()}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FileViewer;\n","import React from \"react\";\nimport NotepadInterface from \"@web-desktop-environment/interfaces/lib/views/apps/utils/Notepad\";\nimport {\n\twithStyles,\n\tcreateStyles,\n\tWithStyles,\n\twithTheme,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport FileViewer, { makeFileViewerStyles } from \"../shared/FileViewer\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\t...makeFileViewerStyles(theme),\n\t\ttextAreaContainer: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tposition: \"relative\",\n\t\t\ttop: 1,\n\t\t\talignItems: \"center\",\n\t\t\tdisplay: \"flex\",\n\t\t},\n\t\ttextAreaContainerBody: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tbackground: theme.background.light,\n\t\t\tpaddingBottom: 2,\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t},\n\t\ttextArea: {\n\t\t\twidth: \"100%\",\n\t\t\tborder: \"none\",\n\t\t\tboxShadow: `${theme.shadowColor} 0px 7px 20px 1px inset`,\n\t\t\tresize: \"none\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tpadding: 0,\n\t\t\tbackground:\n\t\t\t\ttheme.type === \"transparent\"\n\t\t\t\t\t? theme.background.main\n\t\t\t\t\t: theme.background.light,\n\t\t\tcolor: theme.background.text,\n\t\t\toutline: \"none\",\n\t\t\theight: \"calc(100% + 2px)\",\n\t\t},\n\t\tfilename: {\n\t\t\twidth: \"100%\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\tuserSelect: \"none\",\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t});\n\nclass Notepad extends FileViewer<NotepadInterface, WithStyles<typeof styles>> {\n\tconstructor(props: Notepad[\"props\"]) {\n\t\tsuper(props);\n\t}\n\n\trenderViewer() {\n\t\tconst { classes, onSave, defaultValue } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.textAreaContainer}>\n\t\t\t\t<div className={classes.textAreaContainerBody}>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tdefaultValue={defaultValue}\n\t\t\t\t\t\tonChange={(e) => onSave(e.target.value)}\n\t\t\t\t\t\tclassName={classes.textArea}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withTheme(\n\twithStyles(styles, { withTheme: true, name: \"Notepad\" })(Notepad)\n);\n","import React from \"react\";\nimport MediaPlayerInterface from \"@web-desktop-environment/interfaces/lib/views/apps/media/MediaPlayer\";\nimport {\n\twithStyles,\n\tcreateStyles,\n\tWithStyles,\n\twithTheme,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport FileViewer, { makeFileViewerStyles } from \"../shared/FileViewer\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\t...makeFileViewerStyles(theme),\n\t\tvideoAreaContainer: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"97%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t\tvideoAreaContainerBody: {\n\t\t\twidth: \"94%\",\n\t\t\theight: \"95%\",\n\t\t\tborderRadius: 10,\n\t\t\tboxShadow: `inset 0px -1px 9px 2px ${theme.shadowColor}`,\n\t\t\tpadding: 15,\n\t\t\tbackground: theme.background.light,\n\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t\tvideoArea: {\n\t\t\twidth: \"95%\",\n\t\t\tmaxWidth: \"100%\",\n\t\t\tmaxHeight: \"95%\",\n\t\t\tborder: \"none\",\n\t\t\tresize: \"none\",\n\t\t\tbackground: theme.background.light,\n\t\t\tcolor:\n\t\t\t\ttheme.type === \"transparent\"\n\t\t\t\t\t? theme.windowBorderColor\n\t\t\t\t\t: theme.background.text,\n\t\t\tborderRadius: 10,\n\t\t\toutline: \"none\",\n\t\t},\n\t});\n\nclass MediaPlayer extends FileViewer<\n\tMediaPlayerInterface,\n\tWithStyles<typeof styles>\n> {\n\trenderViewer() {\n\t\tconst { classes, source, port } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.videoAreaContainer}>\n\t\t\t\t<div className={classes.videoAreaContainerBody}>\n\t\t\t\t\t<video controls className={classes.videoArea}>\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrc={`${\n\t\t\t\t\t\t\t\treactFullstackConnectionManager.https ? \"https\" : \"http\"\n\t\t\t\t\t\t\t}://${reactFullstackConnectionManager.host}:${port}/${source}`}\n\t\t\t\t\t\t></source>\n\t\t\t\t\t</video>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withTheme(\n\twithStyles(styles, { withTheme: true, name: \"MediaPlayer\" })(MediaPlayer)\n);\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport SettingsInterface from \"@web-desktop-environment/interfaces/lib/views/apps/system/Settings\";\nimport {\n\tSettings as SettingsConfiguration,\n\tColor as ColorType,\n} from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { withStyles, createStyles, WithStyles } from \"@material-ui/styles\";\nimport { Themes, Colors } from \"@root/theme\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport StateComponent from \"@components/stateComponent\";\nimport Button from \"@components/button\";\nimport axios from \"axios\";\nimport Color from \"@ctrl/tinycolor\";\nimport { SketchPicker } from \"react-color\";\nimport { invertColor } from \"@utils/colors\";\nimport Icon from \"@components/icon\";\n\nconst makeColor = (baseColor: RGBArray | string): ColorType => {\n\tconst color =\n\t\ttypeof baseColor === \"string\"\n\t\t\t? Color(baseColor)\n\t\t\t: Color({ r: baseColor[0], g: baseColor[1], b: baseColor[2] });\n\treturn {\n\t\tmain: color.toHex8String(),\n\t\tdark: color.darken(0.25).toHex8String(),\n\t\tlight: color.lighten(0.25).toHex8String(),\n\t\ttext: Color(invertColor(color.toHexString())).darken(0.3).toHexString(),\n\t\tdarkText: Color(invertColor(color.toHexString())).darken(0.5).toHexString(),\n\t\ttransparentLight: color.isDark() ? \"#fff\" : \"#444\",\n\t\ttransparent: color.setAlpha(color.getAlpha() * 0.6).toHex8String(),\n\t\ttransparentDark: color.setAlpha(color.getAlpha() * 0.9).toHex8String(),\n\t};\n};\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tbackground: theme.background.main,\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(3px)\" : \"none\",\n\t\t},\n\t\tcategorySelection: {\n\t\t\tbackground: theme.background.dark,\n\t\t\tborderRight: `solid 1px ${theme.windowBorderColor}`,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(16px)\" : \"none\",\n\t\t\tborderRadius: \"0 0 0 10px\",\n\t\t\theight: \"100%\",\n\t\t\twidth: 280,\n\t\t},\n\t\tcategorySelectIcon: {\n\t\t\tmarginRight: 10,\n\t\t\tmarginLeft: 10,\n\t\t\ttransform: \"translateY(5px)\",\n\t\t},\n\t\tselectCategoryButton: {\n\t\t\tfontSize: \"calc(1em + 1vmin)\",\n\t\t\tpaddingTop: 5,\n\t\t\tpaddingBottom: 5,\n\t\t\tuserSelect: \"none\",\n\t\t\tcursor: \"pointer\",\n\t\t\twidth: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tborderBottom: `solid 1px ${theme.windowBorderColor}`,\n\t\t\tcolor: theme.background.text,\n\t\t\t\"&:hover\":\n\t\t\t\ttheme.type === \"transparent\"\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tbackdropFilter: \"blur(3px)\",\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tbackground: theme.background.main,\n\t\t\t\t\t  },\n\t\t},\n\t\tselectCategoryButtonSelected: {\n\t\t\tcolor: theme.secondary.text,\n\t\t\tbackground: `${theme.secondary.main} !important`,\n\t\t},\n\t\t\"@media (max-width: 700px)\": {\n\t\t\tcategorySelection: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t\tselectCategoryButton: {\n\t\t\t\tfontSize: \"calc(2em + 1vmin)\",\n\t\t\t},\n\t\t},\n\t\tcategory: {\n\t\t\twidth: \"100%\",\n\t\t\tmaxHeight: \"100%\",\n\t\t\toverflowY: \"auto\",\n\t\t\tbackground: theme.background.main,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tborderRadius: \"0 0 15px 0\",\n\t\t},\n\t\tcategoryTopBar: {\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t\tcategoryBackButton: {\n\t\t\twidth: 30,\n\t\t\theight: 30,\n\t\t\tminWidth: \"30px !important\",\n\t\t\tminHeight: \"30px !important\",\n\t\t\tmargin: 5,\n\t\t},\n\t\tcategoryTitle: {\n\t\t\tmarginTop: 7,\n\t\t\twidth: \"90%\",\n\t\t\tuserSelect: \"none\",\n\t\t\tborderBottom: `solid 2px ${theme.background.transparent}`,\n\t\t\tcolor: theme.background.text,\n\t\t\tfontSize: \"calc(1.5em + 2vmin)\",\n\t\t},\n\t\tcategorySubtitle: {\n\t\t\twidth: \"85%\",\n\t\t\tmargin: 9,\n\t\t\tuserSelect: \"none\",\n\t\t\tborderBottom: `solid 1px ${theme.background.transparent}`,\n\t\t\tcolor: theme.background.text,\n\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t},\n\t\tmarginBlock: {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tmarginTop: 30,\n\t\t\tmarginBottom: 10,\n\t\t},\n\t\tmargin: {\n\t\t\tmargin: 14,\n\t\t},\n\t\tsettingsBlock: {\n\t\t\twidth: \"80%\",\n\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\tbackground: theme.background.dark,\n\t\t\tpadding: 20,\n\t\t\tborderRadius: 9,\n\t\t},\n\t\tsettingsProperty: {\n\t\t\twidth: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t\talignItems: \"center\",\n\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t\tcolor: theme.background.darkText || theme.background.text,\n\t\t\tminHeight: 45,\n\t\t\tmarginBottom: 5,\n\t\t\tborderBottom: `solid 1px ${theme.primary.transparent}`,\n\t\t},\n\t\tsettingsPropertyCol: {\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"space-between\",\n\t\t},\n\t\tsettingsPropertyName: {},\n\t\tsettingsPropertyNameCol: {\n\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t},\n\t\tsettingsPropertyValueCol: {\n\t\t\twidth: \"100% !important\",\n\t\t\tmargin: 5,\n\t\t\theight: \"auto\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t\ttext: {\n\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t\tcolor: theme.background.text,\n\t\t\tmargin: 5,\n\t\t},\n\t\tsettingsPropertyValue: {\n\t\t\twordBreak: \"break-all\",\n\t\t\twidth: \"50%\",\n\t\t\theight: \"100%\",\n\t\t\tbackground: \"transparent\",\n\t\t\ttextAlign: \"center\",\n\t\t\t\"& input\": {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: theme.background.darkText || theme.background.text,\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tborder: \"none\",\n\t\t\t\tborderBottom: `solid 1px ${theme.primary.transparent}`,\n\t\t\t\toutline: \"none\",\n\t\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t\t\tbackground: \"transparent\",\n\t\t\t},\n\t\t\t\"& select\": {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: theme.background.darkText || theme.background.text,\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tborder: \"none\",\n\t\t\t\tborderBottom: `solid 1px ${theme.primary.transparent}`,\n\t\t\t\toutline: \"none\",\n\t\t\t\tfontSize: \"calc(0.75em + 1vmin)\",\n\t\t\t\tbackground: \"transparent\",\n\t\t\t\t\"& option\": {\n\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\tbackground: theme.background.dark,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tsettingsPropertyValueError: {\n\t\t\tfontSize: 12,\n\t\t\tcolor: theme.error.main,\n\t\t},\n\t\tcolorsTable: {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t},\n\t\tcolor: {\n\t\t\twidth: 30,\n\t\t\theight: 30,\n\t\t\tmargin: 5,\n\t\t\tborderRadius: \"50%\",\n\t\t\tborder: `solid 1px ${theme.windowBorderColor}`,\n\t\t\t\"&:hover\": {\n\t\t\t\ttransform: \"scale(1.2)\",\n\t\t\t},\n\t\t},\n\t\tthemeGrid: {\n\t\t\twidth: \"100%\",\n\t\t\tdisplay: \"grid\",\n\t\t\tpadding: 20,\n\t\t\tboxShadow: `inset 0 0 20px 0px ${theme.shadowColor}`,\n\t\t\tjustifyContent: \"center\",\n\t\t\tgridTemplateColumns: \"repeat(auto-fit, minmax(80px, 180px))\",\n\t\t\tgridGap: 15,\n\t\t\tgap: \"15px\",\n\t\t},\n\t\tthemeButton: {\n\t\t\theight: 130,\n\t\t},\n\t});\n\ntype SettingsCategory = \"desktop\" | \"network\" | \"systemInfo\";\n\ninterface SettingsState {\n\tselectedCategory?: SettingsCategory;\n\tsettings: SettingsConfiguration;\n}\n\ntype ColormindResponse = {\n\tresult: [RGBArray, RGBArray, RGBArray, RGBArray, RGBArray];\n};\ntype RGBArray = [number, number, number];\n\nclass Settings extends Component<\n\tSettingsInterface,\n\tSettingsState,\n\tWithStyles<typeof styles>\n> {\n\tconstructor(props: Settings[\"props\"]) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsettings: props.settings,\n\t\t};\n\t}\n\n\tgenerateCustomTheme = () => {\n\t\taxios\n\t\t\t.post<ColormindResponse>(\n\t\t\t\t\"http://colormind.io/api/\",\n\t\t\t\tJSON.stringify({ model: \"default\" })\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tconst colors = response.data.result;\n\t\t\t\tthis.setState((state) => {\n\t\t\t\t\tstate.settings.desktop.customTheme = {\n\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\tname: \"custom\",\n\t\t\t\t\t\tshadowColor: \"#000\",\n\t\t\t\t\t\tbackground: makeColor(colors[0]),\n\t\t\t\t\t\tprimary: makeColor(colors[1]),\n\t\t\t\t\t\tsecondary: makeColor(colors[2]),\n\t\t\t\t\t\twindowBorderColor: makeColor(colors[0]).text,\n\t\t\t\t\t\tsuccess: makeColor(colors[3]),\n\t\t\t\t\t\twindowBarColor: Color({\n\t\t\t\t\t\t\tr: colors[4][0],\n\t\t\t\t\t\t\tg: colors[4][1],\n\t\t\t\t\t\t\tb: colors[4][2],\n\t\t\t\t\t\t}).toHex8String(),\n\t\t\t\t\t\terror: Themes.transparent.error,\n\t\t\t\t\t\twarning: Themes.transparent.warning,\n\t\t\t\t\t\twindowBorder: true,\n\t\t\t\t\t};\n\t\t\t\t\tthis.props.setSettings(state.settings);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trenderDesktopCategory = () => {\n\t\tconst { classes, setSettings } = this.props;\n\t\tconst phoneMode = window.matchMedia(\"(max-width: 700px)\").matches;\n\t\treturn (\n\t\t\t<div className={classes.category}>\n\t\t\t\t<div className={classes.categoryTopBar}>\n\t\t\t\t\t{phoneMode && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: undefined })}\n\t\t\t\t\t\t\tclassName={classes.categoryBackButton}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon name=\"VscChevronLeft\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.categoryTitle}>Desktop Settings</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.marginBlock}>\n\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>background</div>\n\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.settings.desktop.background}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\t\t\t\tstate.settings.desktop.background = value;\n\t\t\t\t\t\t\t\t\t\t\tsetSettings(state.settings);\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${classes.settingsProperty} ${classes.settingsPropertyCol}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className={classes.settingsPropertyNameCol}>theme</div>\n\t\t\t\t\t\t\t<div className={classes.settingsPropertyValueCol}>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={classes.themeGrid}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackground: this.state.settings.desktop.background,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{(Object.keys(Themes) as (keyof typeof Themes)[]).map(\n\t\t\t\t\t\t\t\t\t\t(key) => (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.themeButton}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: Themes[key].background.main,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: Themes[key].background.text,\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxShadow: `0 0 20px 0px ${Themes[key].shadowColor}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackdropFilter:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tThemes[key].type === \"transparent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"blur(5px)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.settings.desktop.theme = key;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSettings(state.settings);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{Themes[key].name}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.state.settings.desktop.theme === \"custom\" && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`${classes.settingsProperty} ${classes.settingsPropertyCol}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyNameCol}>\n\t\t\t\t\t\t\t\t\t\tCustom Theme\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.settingsPropertyValue} ${classes.settingsPropertyValueCol}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button border onClick={this.generateCustomTheme}>\n\t\t\t\t\t\t\t\t\t\t\tGenarate custom theme\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`${classes.settingsPropertyValue} ${classes.settingsPropertyValueCol}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.renderCreateCustomTheme()}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderCreateCustomTheme = () => {\n\t\tconst { classes } = this.props;\n\t\tconst { background, primary, secondary, error, success, warning } =\n\t\t\tthis.props.settings.desktop.customTheme || Themes.transparent;\n\t\treturn (\n\t\t\t<StateComponent<{\n\t\t\t\tselectedColor: Colors;\n\t\t\t\tcolors: { name: Colors; value: string }[];\n\t\t\t}>\n\t\t\t\tdefaultState={{\n\t\t\t\t\tselectedColor: \"background\",\n\t\t\t\t\tcolors: [\n\t\t\t\t\t\t{ name: \"background\", value: background.main },\n\t\t\t\t\t\t{ name: \"primary\", value: primary.main },\n\t\t\t\t\t\t{ name: \"secondary\", value: secondary.main },\n\t\t\t\t\t\t{ name: \"error\", value: error.main },\n\t\t\t\t\t\t{ name: \"success\", value: success.main },\n\t\t\t\t\t\t{ name: \"warning\", value: warning.main },\n\t\t\t\t\t],\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{(state, setState) => {\n\t\t\t\t\tconst saveToTheme = () => {\n\t\t\t\t\t\tconst getColor = (color: Colors) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tstate.colors.find((currentColor) => currentColor.name === color)\n\t\t\t\t\t\t\t\t\t?.value || Themes.transparent[color].main\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.setState((fullState) => {\n\t\t\t\t\t\t\tfullState.settings.desktop.customTheme = {\n\t\t\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\t\t\tname: \"custom\",\n\t\t\t\t\t\t\t\tshadowColor: \"#000\",\n\t\t\t\t\t\t\t\tbackground: makeColor(getColor(\"background\")),\n\t\t\t\t\t\t\t\tprimary: makeColor(getColor(\"primary\")),\n\t\t\t\t\t\t\t\tsecondary: makeColor(getColor(\"secondary\")),\n\t\t\t\t\t\t\t\tsuccess: makeColor(getColor(\"success\")),\n\t\t\t\t\t\t\t\terror: makeColor(getColor(\"error\")),\n\t\t\t\t\t\t\t\twarning: makeColor(getColor(\"warning\")),\n\t\t\t\t\t\t\t\twindowBarColor: getColor(\"background\"),\n\t\t\t\t\t\t\t\twindowBorderColor: Color(getColor(\"background\")).isDark()\n\t\t\t\t\t\t\t\t\t? \"#fff\"\n\t\t\t\t\t\t\t\t\t: \"#000\",\n\t\t\t\t\t\t\t\twindowBorder: true,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.props.setSettings(fullState.settings);\n\t\t\t\t\t\t\treturn {}; // no need to rerender\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className={classes.categorySubtitle}>\n\t\t\t\t\t\t\t\tCreate custom theme\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={classes.colorsTable}>\n\t\t\t\t\t\t\t\t{state.colors.map((color, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.color}\n\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color.value }}\n\t\t\t\t\t\t\t\t\t\tonClick={() => setState({ selectedColor: color.name })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={classes.text}>\n\t\t\t\t\t\t\t\tslected color: {state.selectedColor}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<SketchPicker\n\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\tconst originalColor = state.colors.find(\n\t\t\t\t\t\t\t\t\t\t(color) => color.name === state.selectedColor\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (originalColor) {\n\t\t\t\t\t\t\t\t\t\toriginalColor.value =\n\t\t\t\t\t\t\t\t\t\t\tcolor.hex +\n\t\t\t\t\t\t\t\t\t\t\tMath.round((color.rgb.a || 0) * 255).toString(16);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetState({ colors: state.colors });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\tstate.colors.find(\n\t\t\t\t\t\t\t\t\t\t(color) => color.name === state.selectedColor\n\t\t\t\t\t\t\t\t\t)?.value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></SketchPicker>\n\t\t\t\t\t\t\t<Button border className={classes.margin} onClick={saveToTheme}>\n\t\t\t\t\t\t\t\tSave custom theme\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</StateComponent>\n\t\t);\n\t};\n\n\trenderNetworkCategory = () => {\n\t\tconst { classes, setSettings } = this.props;\n\t\tconst phoneMode = window.matchMedia(\"(max-width: 700px)\").matches;\n\t\treturn (\n\t\t\t<StateComponent\n\t\t\t\tdefaultState={{\n\t\t\t\t\terrorMainPort: \"\",\n\t\t\t\t\terrorStartPort: \"\",\n\t\t\t\t\terrorEndPort: \"\",\n\t\t\t\t\tmainPort: this.state.settings.network.ports.mainPort,\n\t\t\t\t\tstartPort: this.state.settings.network.ports.startPort,\n\t\t\t\t\tendPort: this.state.settings.network.ports.endPort,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{(state, setState) => (\n\t\t\t\t\t<div className={classes.category}>\n\t\t\t\t\t\t<div className={classes.categoryTopBar}>\n\t\t\t\t\t\t\t{phoneMode && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: undefined })}\n\t\t\t\t\t\t\t\t\tclassName={classes.categoryBackButton}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon name=\"VscChevronLeft\" />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className={classes.categoryTitle}>Network Settings</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={classes.marginBlock}>\n\t\t\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>Main Port</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={state.mainPort || \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = Number(e.target.value) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({ mainPort: value });\n\t\t\t\t\t\t\t\t\t\t\t\tif (value >= 1025 && value <= 65534) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({ errorMainPort: \"\" });\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.settings.network.ports.mainPort = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSettings(state.settings);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrorMainPort:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"please enter a number between 1025 to 65,534\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValueError}>\n\t\t\t\t\t\t\t\t\t\t\t{state.errorMainPort}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>Start Port</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={state.startPort || \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = Number(e.target.value) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({ startPort: value });\n\t\t\t\t\t\t\t\t\t\t\t\tif (value >= 1025 && value <= 65534) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({ errorStartPort: \"\" });\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.settings.network.ports.startPort = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSettings(state.settings);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrorStartPort:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"please enter a number between 1025 to 65,534\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValueError}>\n\t\t\t\t\t\t\t\t\t\t\t{state.errorMainPort}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>End Port</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={state.endPort || \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = Number(e.target.value) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({ endPort: value });\n\t\t\t\t\t\t\t\t\t\t\t\tif (value >= 1025 && value <= 65534) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({ errorEndPort: \"\" });\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.settings.network.ports.endPort = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSettings(state.settings);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings: state.settings,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrorEndPort:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"please enter a number between 1025 to 65,534\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValueError}>\n\t\t\t\t\t\t\t\t\t\t\t{state.errorMainPort}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</StateComponent>\n\t\t);\n\t};\n\n\trenderSystemInfoCategory = () => {\n\t\tconst { classes, systemInfo } = this.props;\n\t\tconst phoneMode = window.matchMedia(\"(max-width: 700px)\").matches;\n\n\t\treturn (\n\t\t\t<div className={classes.category}>\n\t\t\t\t<div className={classes.categoryTopBar}>\n\t\t\t\t\t{phoneMode && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: undefined })}\n\t\t\t\t\t\t\tclassName={classes.categoryBackButton}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon name=\"VscChevronLeft\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.categoryTitle}>System Information</div>\n\t\t\t\t</div>\n\t\t\t\t{systemInfo?.os && (\n\t\t\t\t\t<div className={classes.marginBlock}>\n\t\t\t\t\t\t<div className={classes.categorySubtitle}>OS</div>\n\t\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t\t{systemInfo.os.hostname && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tcomputer hostname\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.os.hostname}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.os.platform && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>running os</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.os.platform}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.os.kernel && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\trunning kernel\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.os.kernel}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{systemInfo?.cpu && (\n\t\t\t\t\t<div className={classes.marginBlock}>\n\t\t\t\t\t\t<div className={classes.categorySubtitle}>CPU</div>\n\t\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t\t{systemInfo.cpu?.brandName && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>name</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.brandName}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.manufacturer && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tmanufacturer name\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.manufacturer}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.cores && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tnumber of cores\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.cores}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.physicalCores && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tnumber of physical cores\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.physicalCores}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.speed && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tprcessor speed\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.speed} GHz\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.speedMax && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tprcessor maximum speed\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.speedMax} GHz\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.cpu?.speedMin && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tprcessor minimum speed\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.cpu.speedMin} GHz\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{systemInfo?.ram && (\n\t\t\t\t\t<div className={classes.marginBlock}>\n\t\t\t\t\t\t<div className={classes.categorySubtitle}>Memory</div>\n\t\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t\t{systemInfo.ram.total && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\ttotal memory amout\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.ram.total}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{systemInfo.ram.free && (\n\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\tfree memory amout\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t{systemInfo.ram.free}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{systemInfo?.disks &&\n\t\t\t\t\tsystemInfo.disks.map(\n\t\t\t\t\t\t(disk, index) =>\n\t\t\t\t\t\t\tdisk && (\n\t\t\t\t\t\t\t\t<div className={classes.marginBlock} key={index}>\n\t\t\t\t\t\t\t\t\t<div className={classes.categorySubtitle}>\n\t\t\t\t\t\t\t\t\t\tDisk {index + 1}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={classes.settingsBlock}>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\t\t\tdisk name\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t\t\t{disk.name}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\t\t\tdisk vendor\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t\t\t{disk.vendor}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsProperty}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyName}>\n\t\t\t\t\t\t\t\t\t\t\t\tdisk size\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.settingsPropertyValue}>\n\t\t\t\t\t\t\t\t\t\t\t\t{disk.total}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\tconst { selectedCategory } = this.state;\n\t\tconst phoneMode = window.matchMedia(\"(max-width: 700px)\").matches;\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t{(!phoneMode || !selectedCategory) && (\n\t\t\t\t\t<div className={classes.categorySelection}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${classes.selectCategoryButton} ${\n\t\t\t\t\t\t\t\tselectedCategory === \"desktop\"\n\t\t\t\t\t\t\t\t\t? classes.selectCategoryButtonSelected\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: \"desktop\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon className={classes.categorySelectIcon} name=\"VscVm\" />\n\t\t\t\t\t\t\tDesktop\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${classes.selectCategoryButton} ${\n\t\t\t\t\t\t\t\tselectedCategory === \"network\"\n\t\t\t\t\t\t\t\t\t? classes.selectCategoryButtonSelected\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: \"network\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon className={classes.categorySelectIcon} name=\"VscGlobe\" />\n\t\t\t\t\t\t\tNetwork\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${classes.selectCategoryButton} ${\n\t\t\t\t\t\t\t\tselectedCategory === \"systemInfo\"\n\t\t\t\t\t\t\t\t\t? classes.selectCategoryButtonSelected\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonClick={() => this.setState({ selectedCategory: \"systemInfo\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon className={classes.categorySelectIcon} name=\"VscInfo\" />\n\t\t\t\t\t\t\tInformation\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{(selectedCategory === \"desktop\" ||\n\t\t\t\t\t(!phoneMode && !selectedCategory)) &&\n\t\t\t\t\tthis.renderDesktopCategory()}\n\t\t\t\t{selectedCategory === \"network\" && this.renderNetworkCategory()}\n\t\t\t\t{selectedCategory === \"systemInfo\" && this.renderSystemInfoCategory()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles, { withTheme: true, name: \"Settings\" })(\n\tSettings\n);\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport IframeInterface from \"@web-desktop-environment/interfaces/lib/views/apps/thirdParty/Iframe\";\nimport {\n\twithStyles,\n\tcreateStyles,\n\tWithStyles,\n\twithTheme,\n\tWithTheme,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\tborderTop: \"none\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tbackground: theme.background.main,\n\t\t\tbackdropFilter: \"blur(15px)\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t},\n\t});\n\nclass Iframe extends Component<\n\tIframeInterface,\n\t{},\n\tWithStyles<typeof styles> & WithTheme<Theme>\n> {\n\tprivate iframeRef = React.createRef<HTMLIFrameElement>();\n\n\tprivate intervalsToClear: NodeJS.Timeout[] = [];\n\n\tcomponentDidMount = () => {\n\t\tthis.intervalsToClear.push(\n\t\t\tsetInterval(() => {\n\t\t\t\tconst activeElement = document.activeElement;\n\t\t\t\tif (\n\t\t\t\t\tthis.iframeRef.current &&\n\t\t\t\t\tactiveElement &&\n\t\t\t\t\tactiveElement !== document.body &&\n\t\t\t\t\tthis.iframeRef.current === activeElement\n\t\t\t\t) {\n\t\t\t\t\tthis.iframeRef.current.click();\n\t\t\t\t}\n\t\t\t}, 50)\n\t\t);\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tthis.intervalsToClear.forEach(clearInterval);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\thost,\n\t\t\tport,\n\t\t\tpath,\n\t\t\thttps = reactFullstackConnectionManager.https,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<iframe\n\t\t\t\tref={this.iframeRef}\n\t\t\t\tallowFullScreen\n\t\t\t\tallowTransparency\n\t\t\t\tsandbox=\"allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin\"\n\t\t\t\tallow=\"clipboard-read; clipboard-write; geolocation; allow-forms; allow-pointer-lock; fullscreen; camera; microphone; layout-animations; unoptimized-images; oversized-images; sync-script; sync-xhr; unsized-media;\"\n\t\t\t\tclassName={classes.root}\n\t\t\t\tsrc={`${https ? \"https\" : \"http\"}://${\n\t\t\t\t\thost || reactFullstackConnectionManager.host\n\t\t\t\t}${port ? \":\" + port : \"\"}${path || \"\"}`}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default withTheme(\n\twithStyles(styles, { withTheme: true, name: \"Iframe\" })(Iframe)\n);\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport LoadingScreenInterface from \"@web-desktop-environment/interfaces/lib/views/apps/shared/LoadingScreen\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { WithStyles, withStyles, createStyles } from \"@material-ui/styles\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tbackground: theme.background.main,\n\t\t\tborder: theme.windowBorder\n\t\t\t\t? `1px solid ${theme.windowBorderColor}`\n\t\t\t\t: \"none\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tgap: 20,\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tborderRadius: \"0 0 9px 9px\",\n\t\t\tboxShadow: `-10px 12px 20px -2px  ${theme.shadowColor}`,\n\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(3px)\" : \"none\",\n\t\t},\n\t\tanimationWave: {\n\t\t\twidth: \"15%\",\n\t\t\tpadding: \"15%\",\n\t\t\tboxSizing: \"border-box\",\n\t\t\tbackgroundColor: theme.secondary.main,\n\t\t\tborderRadius: \"20% 20% 10% 10%\",\n\t\t\tposition: \"relative\",\n\t\t\tboxShadow: `inset 0 0 30px 0 ${theme.shadowColor}, 0 4px 10px 0 ${theme.shadowColor}`,\n\t\t\toverflow: \"hidden\",\n\t\t\t\"&:before\": {\n\t\t\t\tcontent: \"''\",\n\t\t\t\tposition: \"absolute\",\n\t\t\t\twidth: \"120%\",\n\t\t\t\theight: \"110%\",\n\t\t\t\ttop: \"-75%\",\n\t\t\t\tright: \"-10%\",\n\t\t\t\tborderRadius: \"50%\",\n\t\t\t\tbackground: theme.background.main,\n\t\t\t\tanimation: \"$wave 5s linear infinite\",\n\t\t\t},\n\t\t\t\"&:after\": {\n\t\t\t\tcontent: \"''\",\n\t\t\t\tposition: \"absolute\",\n\t\t\t\twidth: \"120%\",\n\t\t\t\tright: \"-10%\",\n\t\t\t\theight: \"107%\",\n\t\t\t\ttop: \"-75%\",\n\t\t\t\tborderRadius: \"50%\",\n\t\t\t\tbackground: theme.background.light,\n\t\t\t\tanimation: \"$wave 5s linear infinite\",\n\t\t\t},\n\t\t},\n\t\t\"@keyframes wave\": {\n\t\t\tfrom: {\n\t\t\t\ttransform: \"rotate(0)\",\n\t\t\t},\n\t\t\tto: {\n\t\t\t\ttransform: \"rotate(360deg)\",\n\t\t\t},\n\t\t},\n\t\tjumpingCube: {\n\t\t\twidth: 50,\n\t\t\theight: 50,\n\t\t\tposition: \"relative\",\n\t\t\ttop: -10,\n\t\t\t\"&:before\": {\n\t\t\t\tcontent: \"''\",\n\t\t\t\twidth: 50,\n\t\t\t\theight: 5,\n\t\t\t\tbackground: theme.primary.dark,\n\t\t\t\topacity: 0.1,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: 59,\n\t\t\t\tleft: 0,\n\t\t\t\tborderRadius: \"50%\",\n\t\t\t\tanimation: \"$shadowStretch .5s linear infinite\",\n\t\t\t},\n\t\t\t\"&:after\": {\n\t\t\t\tcontent: \"''\",\n\t\t\t\twidth: 50,\n\t\t\t\theight: 50,\n\t\t\t\tborder: `1px solid ${theme.windowBorderColor}`,\n\t\t\t\tbackground: theme.primary.main,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tborderRadius: 9,\n\t\t\t\tanimation: \"$boxJump .5s linear infinite\",\n\t\t\t},\n\t\t},\n\t\t\"@keyframes boxJump\": {\n\t\t\t\"17%\": {\n\t\t\t\tborderBottomRightRadius: 3,\n\t\t\t},\n\t\t\t\"25%\": {\n\t\t\t\ttransform: \"translateY(9px) rotate(22.5deg)\",\n\t\t\t},\n\t\t\t\"50%\": {\n\t\t\t\ttransform: \"translateY(18px) scale(1, .9) rotate(45deg)\",\n\t\t\t\tborderBottomRightRadius: 40,\n\t\t\t},\n\t\t\t\"75%\": {\n\t\t\t\ttransform: \"translateY(9px) rotate(67.5deg)\",\n\t\t\t},\n\t\t\t\"100%\": {\n\t\t\t\ttransform: \" translateY(0) rotate(90deg)\",\n\t\t\t},\n\t\t},\n\t\t\"@keyframes shadow\": {\n\t\t\t\"0%, 100%\": {\n\t\t\t\ttransform: \"scale(1, 1)\",\n\t\t\t},\n\t\t\t\"50%\": {\n\t\t\t\ttransform: \"scale(1.2, 1)\",\n\t\t\t},\n\t\t},\n\t\tmessage: {\n\t\t\tfontSize: 30,\n\t\t\tcolor: theme.background.text,\n\t\t},\n\t});\n\nclass LoadingScreen extends Component<\n\tLoadingScreenInterface,\n\t{},\n\tWithStyles<typeof styles>\n> {\n\trender() {\n\t\tconst { classes, message, variant } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tvariant === \"water\" ? classes.animationWave : classes.jumpingCube\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div className={classes.message}>{message}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles, { name: \"LoadingScreen\" })(LoadingScreen);\n","import React, { useState } from \"react\";\nimport { WindowBar } from \"@views/Desktop\";\nimport { Explorer, Notepad, Settings, Window } from \"@views/index\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport { Window as WindowState } from \"@web-desktop-environment/interfaces/lib/shared/window\";\nimport { WindowState as WindowStateUpdate } from \"@web-desktop-environment/interfaces/lib/views/Window\";\nimport { Themes } from \"@root/theme\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nconst emptyFunction = async () => {\n\t/* empty body */\n};\nconst defaultWindowProps = {\n\tbackground: \"\",\n\tsetWindowState: emptyFunction,\n\tonClose: emptyFunction,\n\tonLaunchApp: emptyFunction,\n\twindow: {},\n};\n\nconst useWindow = (initialState: WindowState) => {\n\tconst [state, setState] = useState(initialState);\n\treturn {\n\t\tstate,\n\t\tsetWindowState: async (newWindowState: WindowStateUpdate) => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\t...newWindowState.size,\n\t\t\t\tposition: newWindowState.position || state.position,\n\t\t\t});\n\t\t},\n\t};\n};\n\nconst App = () => {\n\tconst [background, setBackground] = useState(\n\t\t'url(\"https://picsum.photos/id/1039/1920/1080\")'\n\t);\n\tconst [theme, setTheme] = useState<Theme>(Themes.dark);\n\n\tconst explorerWindow = useWindow({\n\t\tposition: { x: 50, y: 100 },\n\t\tminWidth: 600,\n\t\tminHeight: 550,\n\t\theight: 500,\n\t\twidth: 800,\n\t});\n\tconst notepadWindow = useWindow({\n\t\tposition: { x: 950, y: 50 },\n\t\tminWidth: 600,\n\t\tminHeight: 550,\n\t\theight: 750,\n\t\twidth: 700,\n\t});\n\tconst settingsWindow = useWindow({\n\t\tposition: { x: 700, y: 300 },\n\t\tminWidth: 600,\n\t\tminHeight: 550,\n\t\theight: 600,\n\t\twidth: 900,\n\t});\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tbackground,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t}}\n\t\t>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<Window\n\t\t\t\t\ttitle={\"explorer\"}\n\t\t\t\t\tname={\"explorer\"}\n\t\t\t\t\ticon={{\n\t\t\t\t\t\ttype: \"icon\",\n\t\t\t\t\t\ticon: \"FcFolder\",\n\t\t\t\t\t}}\n\t\t\t\t\t{...defaultWindowProps}\n\t\t\t\t\twindow={explorerWindow.state}\n\t\t\t\t\tsetWindowState={explorerWindow.setWindowState}\n\t\t\t\t>\n\t\t\t\t\t<Explorer\n\t\t\t\t\t\tcurrentPath={\"/home/web-desktop-environment\"}\n\t\t\t\t\t\tfiles={[\n\t\t\t\t\t\t\t{ isFolder: true, name: \"Documents\" },\n\t\t\t\t\t\t\t{ isFolder: true, name: \"Desktop\" },\n\t\t\t\t\t\t\t{ isFolder: true, name: \"Music\" },\n\t\t\t\t\t\t\t{ isFolder: false, name: \"passwords.txt\" },\n\t\t\t\t\t\t\t{ isFolder: false, name: \"secrets.txt\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChangeCurrentPath={emptyFunction}\n\t\t\t\t\t\tonCopy={emptyFunction}\n\t\t\t\t\t\tonOpen={emptyFunction}\n\t\t\t\t\t\tonCreateFile={emptyFunction}\n\t\t\t\t\t\tonCreateFolder={emptyFunction}\n\t\t\t\t\t\tonDelete={emptyFunction}\n\t\t\t\t\t\tonMove={emptyFunction}\n\t\t\t\t\t\tonRequestDownloadLink={() => new Promise(emptyFunction)}\n\t\t\t\t\t\tonUpload={emptyFunction}\n\t\t\t\t\t\tplatformPathSeparator={\"/\"}\n\t\t\t\t\t\ttype={\"explore\"}\n\t\t\t\t\t/>\n\t\t\t\t</Window>\n\t\t\t\t<Window\n\t\t\t\t\ttitle={\"notepad\"}\n\t\t\t\t\tname={\"notepad\"}\n\t\t\t\t\ticon={{\n\t\t\t\t\t\ttype: \"icon\",\n\t\t\t\t\t\ticon: \"FcFile\",\n\t\t\t\t\t}}\n\t\t\t\t\t{...defaultWindowProps}\n\t\t\t\t\twindow={notepadWindow.state}\n\t\t\t\t\tsetWindowState={notepadWindow.setWindowState}\n\t\t\t\t>\n\t\t\t\t\t<Notepad\n\t\t\t\t\t\tdefaultValue={\n\t\t\t\t\t\t\t\"list of all my passwords:\\n1. 12345Password\\n2. passworD12345\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisSelectingFile={false}\n\t\t\t\t\t\tname=\"passwords.txt\"\n\t\t\t\t\t\tonReselectFile={emptyFunction}\n\t\t\t\t\t\tonSave={emptyFunction}\n\t\t\t\t\t\tpath={\"/home/web-desktop-environment/passwords.txt\"}\n\t\t\t\t\t/>\n\t\t\t\t</Window>\n\t\t\t\t<Window\n\t\t\t\t\ttitle={\"settings\"}\n\t\t\t\t\tname={\"settings\"}\n\t\t\t\t\ticon={{\n\t\t\t\t\t\ttype: \"icon\",\n\t\t\t\t\t\ticon: \"FcSettings\",\n\t\t\t\t\t}}\n\t\t\t\t\t{...defaultWindowProps}\n\t\t\t\t\twindow={settingsWindow.state}\n\t\t\t\t\tsetWindowState={settingsWindow.setWindowState}\n\t\t\t\t>\n\t\t\t\t\t<Settings\n\t\t\t\t\t\tonReload={emptyFunction}\n\t\t\t\t\t\tsetSettings={async (newSettings) => {\n\t\t\t\t\t\t\tsetBackground(newSettings.desktop.background);\n\t\t\t\t\t\t\tif (newSettings.desktop.theme !== theme.name) {\n\t\t\t\t\t\t\t\tif (newSettings.desktop.theme === \"custom\") {\n\t\t\t\t\t\t\t\t\tsetTheme(newSettings.desktop.customTheme || Themes.dark);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetTheme(Themes[newSettings.desktop.theme]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsettings={{\n\t\t\t\t\t\t\tdesktop: {\n\t\t\t\t\t\t\t\ttheme: theme.type,\n\t\t\t\t\t\t\t\tbackground,\n\t\t\t\t\t\t\t\tnativeBackground: \"\",\n\t\t\t\t\t\t\t\tcustomTheme: theme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnetwork: {\n\t\t\t\t\t\t\t\tports: {\n\t\t\t\t\t\t\t\t\tendPort: 9300,\n\t\t\t\t\t\t\t\t\tmainPort: 5000,\n\t\t\t\t\t\t\t\t\tstartPort: 9200,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Window>\n\t\t\t\t<WindowBar\n\t\t\t\t\tisStartMenuOpen={false}\n\t\t\t\t\ttoggleStartMenu={() => {\n\t\t\t\t\t\t/* intently empty */\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</ThemeProvider>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport DesktopInterface from \"@web-desktop-environment/interfaces/lib/views/Desktop\";\nimport { Client } from \"@react-fullstack/fullstack-socket-client\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport { withStyles, createStyles, WithStyles } from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\nimport TextField from \"@components/textField\";\nimport Icon from \"@components/icon\";\nimport windowManager, { Window } from \"@state/WindowManager\";\nimport { Icon as IconType } from \"@web-desktop-environment/interfaces/lib/shared/icon\";\nimport { ConnectionContext } from \"@root/contexts\";\nimport { reactFullstackConnectionManager } from \"@root/index\";\nimport { Link } from \"react-router-dom\";\nimport { windowsBarHeight } from \"@views/Desktop\";\nimport { transparent } from \"@utils/colors\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tright: 0,\n\t\t\tleft: 0,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t\tappContainer: {\n\t\t\tbackground: theme.background.main,\n\t\t\toverflowY: \"auto\",\n\t\t\tborderRadius: 10,\n\t\t\tboxShadow: \"-5px 6px 10px -1px #0007\",\n\t\t\tpadding: 10,\n\t\t\twidth: \"90%\",\n\t\t\theight: \"90%\",\n\t\t},\n\t\thr: {\n\t\t\tborder: `solid 1px ${theme.background.dark}`,\n\t\t},\n\t\tswitchToDesktopButton: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 10 - windowsBarHeight,\n\t\t\ttransition: \"top 300ms\",\n\t\t\tright: 45,\n\t\t\theight: windowsBarHeight,\n\t\t\tcursor: \"pointer\",\n\t\t\twidth: 80,\n\t\t\tborderRadius: \"0 0 15px 15px\",\n\t\t\tfontSize: 40,\n\t\t\tpaddingTop: 5,\n\t\t\tborderBottom: \"none\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcolor: theme.background.text,\n\t\t\tboxShadow: `0 0px 3px 0px ${theme.shadowColor}`,\n\t\t\tborder: `1px solid ${theme.transparentBorder || \"#eee2\"}`,\n\t\t\tbackdropFilter: \"blur(10px)\",\n\t\t\tbackground: transparent(\n\t\t\t\ttheme.background.transparent || theme.background.main,\n\t\t\t\ttheme.type === \"transparent\" ? 0.15 : 0.6\n\t\t\t),\n\t\t\t\"&:hover\": {\n\t\t\t\ttop: 0,\n\t\t\t\tbackground: theme.background.transparent,\n\t\t\t},\n\t\t\tzIndex: 2,\n\t\t},\n\t\tappFilter: {\n\t\t\theight: 55,\n\t\t},\n\t\tappGrid: {\n\t\t\tdisplay: \"grid\",\n\t\t\tgridTemplateColumns: \"repeat(auto-fit, minmax(80px, 120px))\",\n\t\t\tmargin: 15,\n\t\t\tjustifyContent: \"center\",\n\t\t\tgridGap: 30,\n\t\t\tgap: \"20px\",\n\t\t\tgridAutoRows: 100,\n\t\t},\n\t\tapp: {\n\t\t\tborderRadius: 7,\n\t\t\tpadding: 2,\n\t\t\tcolor: theme.secondary.text,\n\t\t\tcursor: \"pointer\",\n\t\t\tboxShadow: `-1px 2px 10px 1px ${theme.shadowColor}`,\n\t\t\ttransition: \"background 280ms, color 280ms, transform 450ms\",\n\t\t\t\"&:hover\": {\n\t\t\t\tboxShadow: `0px 0px 20px 9px ${theme.shadowColor}`,\n\t\t\t\tbackground: theme.secondary.main,\n\t\t\t\tcolor: theme.secondary.text,\n\t\t\t\ttransform: \"scale(1.25) translateY(-20px)\",\n\t\t\t\tbackdropFilter: theme.type === \"transparent\" ? \"blur(12px)\" : \"none\",\n\t\t\t},\n\t\t\theight: 90,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column-reverse\",\n\t\t},\n\t\topenApp: {\n\t\t\tborderBottom: `2px solid ${theme.secondary.main}`,\n\t\t\t\"&:hover\": {\n\t\t\t\tborderBottom: `2px solid ${theme.secondary.text}`,\n\t\t\t},\n\t\t},\n\t\tappIcon: {\n\t\t\tuserSelect: \"none\",\n\t\t\ttextAlign: \"center\",\n\t\t\tmaxWidth: 100,\n\t\t\tfontSize: 50,\n\t\t},\n\t\tappName: {\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextOverflow: \"ellipsis\",\n\t\t\tmaxWidth: \"100%\",\n\t\t\ttextAlign: \"center\",\n\t\t\tuserSelect: \"none\",\n\t\t},\n\t});\n\ninterface DesktopState {\n\topenWindows: Window[];\n\tfilterAppQuery: string;\n}\n\nclass Desktop extends Component<\n\tDesktopInterface,\n\tDesktopState,\n\tWithStyles<typeof styles>\n> {\n\tconstructor(props: Desktop[\"props\"]) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topenWindows: windowManager.windows,\n\t\t\tfilterAppQuery: \"\",\n\t\t};\n\t\twindowManager.emitter.on(\"addWindow\", this.updateWindow);\n\t\twindowManager.emitter.on(\"closeWindow\", this.updateWindow);\n\t\twindowManager.emitter.on(\"maximizeWindow\", this.updateWindow);\n\t\twindowManager.emitter.on(\"minimizeWindow\", this.updateWindow);\n\t}\n\n\tupdateWindow = () =>\n\t\tthis.setState({ openWindows: [...windowManager.windows] });\n\n\trenderAppGrid = (\n\t\tapp: { name: string; icon: IconType },\n\t\tisOpen: boolean,\n\t\tonClick: () => void,\n\t\tindex: number\n\t) => {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={`${classes.app} ${isOpen ? classes.openApp : \"\"}`}\n\t\t\t\tonClick={onClick}\n\t\t\t>\n\t\t\t\t{app.icon.type === \"img\" ? (\n\t\t\t\t\t<img alt={`${app.name} icon`} src={app.icon.icon} />\n\t\t\t\t) : (\n\t\t\t\t\t<Icon className={classes.appIcon} name={app.icon.icon}></Icon>\n\t\t\t\t)}\n\t\t\t\t<div className={classes.appName}>{app.name}</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { background, openApps, classes, apps, onLaunchApp } = this.props;\n\t\tconst { openWindows, filterAppQuery } = this.state;\n\t\treturn (\n\t\t\t<div className={classes.root} style={{ background }}>\n\t\t\t\t{openApps.map((app) => (\n\t\t\t\t\t<ConnectionContext.Provider\n\t\t\t\t\t\tkey={app.id}\n\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\thost: reactFullstackConnectionManager.host,\n\t\t\t\t\t\t\tport: app.port,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t{...reactFullstackConnectionManager.connect(\n\t\t\t\t\t\t\t\tapp.port,\n\t\t\t\t\t\t\t\t\"nativeHost\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t))}\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<div className={classes.switchToDesktopButton}>\n\t\t\t\t\t\t<Icon width={40} height={40} name=\"VscMultipleWindows\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t<div className={classes.appContainer}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName={classes.appFilter}\n\t\t\t\t\t\tborderBottom={false}\n\t\t\t\t\t\tplaceholder=\"search app\"\n\t\t\t\t\t\tvalue={filterAppQuery}\n\t\t\t\t\t\tonChange={(filterAppQuery) => this.setState({ filterAppQuery })}\n\t\t\t\t\t></TextField>\n\t\t\t\t\t{openWindows.length !== 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className={classes.appGrid}>\n\t\t\t\t\t\t\t\t{openWindows\n\t\t\t\t\t\t\t\t\t.filter((app) =>\n\t\t\t\t\t\t\t\t\t\tfilterAppQuery ? app.name.includes(filterAppQuery) : true\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((openWindow, index) =>\n\t\t\t\t\t\t\t\t\t\tthis.renderAppGrid(\n\t\t\t\t\t\t\t\t\t\t\topenWindow,\n\t\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\twindowManager.updateState(openWindow.id, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tminimized: !openWindow.state.minimized,\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<hr className={classes.hr} />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.appGrid}>\n\t\t\t\t\t\t{apps\n\t\t\t\t\t\t\t.filter((app) =>\n\t\t\t\t\t\t\t\tfilterAppQuery\n\t\t\t\t\t\t\t\t\t? app.displayName.includes(filterAppQuery) ||\n\t\t\t\t\t\t\t\t\t  app.description.includes(filterAppQuery) ||\n\t\t\t\t\t\t\t\t\t  app.appName.includes(filterAppQuery)\n\t\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map((app, index) =>\n\t\t\t\t\t\t\t\tthis.renderAppGrid(\n\t\t\t\t\t\t\t\t\t{ name: app.displayName, icon: app.icon },\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t() => app && onLaunchApp({ name: app.appName, params: {} }),\n\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Desktop);\n","import React from \"react\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport WindowInterface from \"@web-desktop-environment/interfaces/lib/views/Window\";\nimport windowManager from \"@state/WindowManager\";\nimport { ConnectionContext } from \"@root/contexts\";\n\nclass Window extends Component<WindowInterface, {}> {\n\tid!: number;\n\twindow?: globalThis.Window;\n\n\tstatic contextType = ConnectionContext;\n\tcontext!: React.ContextType<typeof ConnectionContext>;\n\n\tisUnmounted = false;\n\topenWindow = () => {\n\t\tthis.window =\n\t\t\twindow.open(\n\t\t\t\t`${window.location.origin}/native/client/connect/${this.context?.host}/${this.context?.port}`,\n\t\t\t\t\"\",\n\t\t\t\t`width=${this.props.window.width},height=${this.props.window.height}`\n\t\t\t) || undefined;\n\t\tif (this.window) {\n\t\t\tconst { position } = this.props.window;\n\t\t\tif (position) {\n\t\t\t\tthis.window.moveTo(position.x, position.y);\n\t\t\t}\n\t\t\tconst closeInterval = setInterval(() => {\n\t\t\t\tif (this.window?.closed) {\n\t\t\t\t\tif (!this.isUnmounted) {\n\t\t\t\t\t\tthis.props.onClose();\n\t\t\t\t\t\twindowManager.closeWindow(this.id);\n\t\t\t\t\t}\n\t\t\t\t\tclearInterval(closeInterval);\n\t\t\t\t}\n\t\t\t}, 250);\n\t\t}\n\t};\n\n\tcomponentDidMount = () => {\n\t\twindow.addEventListener(\"unload\", () => {\n\t\t\tthis.window?.close();\n\t\t});\n\t\tthis.id = windowManager.addWindow(this.props.name, this.props.icon, {\n\t\t\tminimized: this.props.window.minimized || false,\n\t\t});\n\t\twindowManager.emitter.on(\"maximizeWindow\", ({ id }) => {\n\t\t\tif (id === this.id) {\n\t\t\t\tif (!this.window) {\n\t\t\t\t\tthis.openWindow();\n\t\t\t\t} else {\n\t\t\t\t\tthis.window.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindowManager.emitter.on(\"minimizeWindow\", ({ id }) => {\n\t\t\tif (id === this.id) {\n\t\t\t\tif (!this.window) {\n\t\t\t\t\tthis.openWindow();\n\t\t\t\t}\n\t\t\t\tthis.window?.blur();\n\t\t\t}\n\t\t});\n\t\tthis.openWindow();\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tthis.isUnmounted = true;\n\t\tthis.window?.close();\n\t\twindowManager.closeWindow(this.id);\n\t};\n\n\trender() {\n\t\treturn <></>;\n\t}\n}\n\nexport default Window;\n","import WindowInterface, {\n\tWindowState,\n} from \"@web-desktop-environment/interfaces/lib/views/Window\";\nimport { Component } from \"@react-fullstack/fullstack\";\nimport React, { useState, useEffect } from \"react\";\nimport {\n\twithStyles,\n\tWithStyles,\n\tcreateStyles,\n\tWithTheme,\n\twithTheme,\n\tmakeStyles,\n} from \"@material-ui/styles\";\nimport { Theme } from \"@web-desktop-environment/interfaces/lib/shared/settings\";\n\nconst styles = (theme: Theme) =>\n\tcreateStyles({\n\t\tcontainer: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tright: 0,\n\t\t\tleft: 0,\n\t\t\tjustifyContent: \"center\",\n\t\t\tbackground: theme.background.main,\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tzIndex: 2,\n\t\t},\n\t});\n\nconst useStyle = makeStyles({\n\timage: {\n\t\tposition: \"absolute\",\n\t\ttransition: \"transform 400ms\",\n\t\tzIndex: 1,\n\t},\n});\n\nexport const LocationBasedImage = ({ background }: { background: string }) => {\n\tconst classes = useStyle();\n\tconst [top, setTop] = useState(0);\n\tconst [left, setLeft] = useState(0);\n\tuseEffect(() => {\n\t\tconst loop = setInterval(() => {\n\t\t\tif (window.screen.availWidth - window.innerWidth === 0) {\n\t\t\t\tsetTop(0);\n\t\t\t\tsetLeft(0);\n\t\t\t} else {\n\t\t\t\tsetTop(window.screenY);\n\t\t\t\tsetLeft(window.screenX);\n\t\t\t}\n\t\t}, 500);\n\t\treturn () => clearInterval(loop);\n\t}, []);\n\treturn (\n\t\t<div\n\t\t\tclassName={classes.image}\n\t\t\tstyle={{\n\t\t\t\tbackground,\n\t\t\t\twidth: window.screen.width,\n\t\t\t\theight: window.screen.height,\n\t\t\t\ttransform: `translate(\n\t\t\t\t  -${left && left % window.screen.availWidth}px,\n\t\t\t\t  -${top && top - 70}px\n\t\t\t\t   )`,\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nclass Window extends Component<\n\tWindowInterface,\n\t{},\n\tWithStyles<typeof styles> & WithTheme<Theme>\n> {\n\tget windowState(): WindowState {\n\t\treturn {\n\t\t\tsize: { height: window.innerHeight, width: window.innerWidth },\n\t\t\tminimized: window.document.hidden,\n\t\t\tposition: {\n\t\t\t\tx: window.screenX,\n\t\t\t\ty: window.screenY,\n\t\t\t},\n\t\t};\n\t}\n\tcomponentDidMount = () => {\n\t\tif (window.opener) {\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tthis.props.setWindowState(this.windowState);\n\t\t\t});\n\t\t\twindow.addEventListener(\"visibilitychange\", () => {\n\t\t\t\tthis.props.setWindowState(this.windowState);\n\t\t\t});\n\t\t\tlet positionX = window.screenX;\n\t\t\tlet positionY = window.screenY;\n\t\t\tsetInterval(() => {\n\t\t\t\tif (positionX !== window.screenX || positionY !== window.screenY) {\n\t\t\t\t\tpositionX = window.screenX;\n\t\t\t\t\tpositionY = window.screenY;\n\t\t\t\t\tthis.props.setWindowState(this.windowState);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { classes, background } = this.props;\n\t\tdocument.title = this.props.title;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={classes.container}>{this.props.children}</div>\n\t\t\t\t{this.props.theme.type === \"transparent\" && (\n\t\t\t\t\t<LocationBasedImage background={background} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withTheme(withStyles(styles, { withTheme: true })(Window));\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Login from \"@root/loginScreen/Login\";\nimport Demo from \"@root/demo/App\";\nimport \"@root/index.css\";\nimport * as webViews from \"@root/views\";\nimport * as webViewsWindow from \"@root/views/windowViews\";\nimport * as nativeViewsHost from \"@root/views/native/hostViews\";\nimport * as nativeViewsClient from \"@root/views/native/clientViews\";\nimport \"typeface-jetbrains-mono\";\nimport { defaultTheme } from \"@root/theme\";\nimport { ThemeProvider as TP } from \"@material-ui/styles\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ConnectionContext } from \"./contexts\";\nimport { Client } from \"@react-fullstack/fullstack-socket-client\";\nimport StateComponent from \"@components/stateComponent\";\nimport setUpDocument from \"@utils/setupDocument\";\n\ntype Views = \"web\" | \"webWindow\" | \"nativeHost\" | \"nativeClient\";\n\nconst viewsMap = {\n\tweb: webViews,\n\tnativeHost: nativeViewsHost,\n\tnativeClient: nativeViewsClient,\n\twebWindow: webViewsWindow,\n};\n\nclass ReactFullstackConnectionManager {\n\tpublic readonly host: string;\n\tpublic readonly https: boolean;\n\tconstructor(host: string, https: boolean) {\n\t\tthis.host = host;\n\t\tthis.https = https;\n\t}\n\tconnect = <V extends Views>(\n\t\tport: number,\n\t\tviews: V\n\t): {\n\t\tport: number;\n\t\thost: string;\n\t\tviews: typeof viewsMap[V];\n\t\tsocketOptions: SocketIOClient.ConnectOpts;\n\t} => {\n\t\treturn {\n\t\t\thost: `${this.https ? \"https\" : \"http\"}://${this.host}`,\n\t\t\tport,\n\t\t\tviews: { ...viewsMap[views] },\n\t\t\tsocketOptions: {\n\t\t\t\ttransports: [\"websocket\"],\n\t\t\t},\n\t\t};\n\t};\n}\n\nexport let reactFullstackConnectionManager: ReactFullstackConnectionManager;\n\nexport const connectToServer = (\n\thost: string,\n\tuseHttps: boolean,\n\tport: number,\n\tviews: Views\n) => {\n\treactFullstackConnectionManager = new ReactFullstackConnectionManager(\n\t\thost,\n\t\tuseHttps\n\t);\n\treturn reactFullstackConnectionManager.connect(port, views);\n};\n\nconst App = () => {\n\tconst [login, setLogin] = useState<{\n\t\tisLoggedIn: boolean;\n\t\thost: string;\n\t\tport: number;\n\t}>({ host: \"localhost\", port: 5000, isLoggedIn: false });\n\treturn (\n\t\t<TP theme={defaultTheme}>\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/demo\">{() => <Demo />}</Route>\n\t\t\t\t\t<Route path=\"/native\">\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/native/connect/:host/:port/\"\n\t\t\t\t\t\t\t\trender={(login) => {\n\t\t\t\t\t\t\t\t\tconst { host, port } = login.match?.params;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<StateComponent<{}> defaultState={{}}>\n\t\t\t\t\t\t\t\t\t\t\t{() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ConnectionContext.Provider\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={{ host, port: Number(port) }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...connectToServer(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thost,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(port),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"nativeHost\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</StateComponent>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></Route>\n\t\t\t\t\t\t\t<Route path=\"/native/client/connect/:host/:port/\">\n\t\t\t\t\t\t\t\t{(login) => {\n\t\t\t\t\t\t\t\t\tconst { host, port } = login.match?.params || {};\n\n\t\t\t\t\t\t\t\t\tif (host && port) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<ConnectionContext.Provider\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={{ host, port: Number(port) }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...connectToServer(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thost,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(port),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"nativeClient\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route>\n\t\t\t\t\t\t\t\t{() =>\n\t\t\t\t\t\t\t\t\tlogin.isLoggedIn ? (\n\t\t\t\t\t\t\t\t\t\t<ConnectionContext.Provider value={login}>\n\t\t\t\t\t\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t\t\t\t\t\t{...connectToServer(\n\t\t\t\t\t\t\t\t\t\t\t\t\tlogin.host,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(login.port),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"nativeHost\"\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Login\n\t\t\t\t\t\t\t\t\t\t\tonLogin={(host, port) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetLogin({ host, port, isLoggedIn: true })\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route path=\"/connect/:host/:port/\">\n\t\t\t\t\t\t\t\t{(login) => {\n\t\t\t\t\t\t\t\t\tconst { host, port } = login.match?.params || {};\n\t\t\t\t\t\t\t\t\tif (host && port) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<ConnectionContext.Provider\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={{ host, port: Number(port) }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...connectToServer(host, false, Number(port), \"web\")}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route>\n\t\t\t\t\t\t\t\t{() =>\n\t\t\t\t\t\t\t\t\tlogin.isLoggedIn ? (\n\t\t\t\t\t\t\t\t\t\t<ConnectionContext.Provider value={login}>\n\t\t\t\t\t\t\t\t\t\t\t<Client<{}>\n\t\t\t\t\t\t\t\t\t\t\t\t{...connectToServer(\n\t\t\t\t\t\t\t\t\t\t\t\t\tlogin.host,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(login.port),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"web\"\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ConnectionContext.Provider>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Login\n\t\t\t\t\t\t\t\t\t\t\tonLogin={(host, port) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetLogin({ host, port, isLoggedIn: true })\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</TP>\n\t);\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nsetUpDocument();\n","export default function setUpDocument() {\n\tdocument.addEventListener(\"contextmenu\", (e) => {\n\t\te.preventDefault();\n\t});\n}\n","import Emitter from \"@utils/Emitter\";\n\ntype ConnectionStatus = \"disconnected\" | \"connected\" | \"connecting\";\n\ninterface GTKBridgeEvents {\n\tstatus: ConnectionStatus;\n}\n\nexport const GTKBridgeEmitter = new Emitter<GTKBridgeEvents>();\n\nexport let status: ConnectionStatus = \"disconnected\";\n\nGTKBridgeEmitter.on(\"status\", (newStatus) => (status = newStatus));\n"],"sourceRoot":""}