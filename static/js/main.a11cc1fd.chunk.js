(this["webpackJsonp@web-desktop-environment/views"]=this["webpackJsonp@web-desktop-environment/views"]||[]).push([[0],{231:function(e,t,n){e.exports=n(541)},285:function(e,t,n){},311:function(e,t){},316:function(e,t){},318:function(e,t){},34:function(e,t,n){"use strict";var r=n(55),o=n.n(r),a=function(){var e=this;this.emitter=(new o.a).setMaxListeners(0),this.call=function(t,n){return e.emitter.emit(t,n)},this.on=function(t,n){return e.emitter.on(t,n),{remove:function(){return e.off(t,n)},on:e.on,call:function(n){return e.call(t,n)}}},this.off=function(t,n){return e.emitter.off(t,n)}};t.a=a},5:function(e,t,n){"use strict";n.r(t);var r=n(34),o=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},a=function(){var e=this;this.windows=[],this.windowsLayers=[],this.emitter=new r.a,this.windowsMinMaxLayer={min:5,max:200},this.reloadWindowsLayers=function(){var t=e.windowsMinMaxLayer.max;o([],e.windowsLayers).reverse().forEach((function(n){e.emitter.call("updateZIndex",{id:n,layer:t}),t>e.windowsMinMaxLayer.min&&t--}))},this.setActiveWindow=function(t){e.activeWindowId!==t&&(e.activeWindowId=t,e.emitter.call("setActiveWindow",{id:t}),e.windowsLayers=e.windowsLayers.filter((function(e){return e!==t})),e.windowsLayers.push(t),e.reloadWindowsLayers())},this.idIndex=0,this.addWindow=function(t,n,r){var o=e.idIndex;e.idIndex++;var a={id:o,name:t,icon:n,state:r};return e.windows.push(a),e.emitter.call("addWindow",{window:a}),e.windowsLayers.push(o),o},this.closeWindow=function(t){var n=e.windows.find((function(e){return e.id===t}));n&&(e.windows=e.windows.filter((function(e){return e.id!==t})),e.emitter.call("closeWindow",{window:n}),e.windowsLayers=e.windowsLayers.filter((function(e){return e!==t})))},this.updateState=function(t,n){e.setActiveWindow(t);var r=e.windows.find((function(e){return e.id===t}));if(r){var o=r.state.minimized;r.state=n,n.minimized!==o&&(n.minimized?e.emitter.call("minimizeWindow",{id:t}):e.emitter.call("maximizeWindow",{id:t}))}}};t.default=new a},539:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t),n.d(t,"reactFullstackConnectionManager",(function(){return Mn})),n.d(t,"connectToServer",(function(){return Vn}));var r={};n.r(r),n.d(r,"Terminal",(function(){return Yt})),n.d(r,"Explorer",(function(){return $t})),n.d(r,"Settings",(function(){return fn})),n.d(r,"Notepad",(function(){return nn})),n.d(r,"MediaPlayer",(function(){return sn})),n.d(r,"Iframe",(function(){return wn})),n.d(r,"LoadingScreen",(function(){return yn})),n.d(r,"Desktop",(function(){return pt})),n.d(r,"Window",(function(){return Tt})),n.d(r,"ThemeProvider",(function(){return yt}));var o={};n.r(o),n.d(o,"Terminal",(function(){return Yt})),n.d(o,"Explorer",(function(){return $t})),n.d(o,"Settings",(function(){return fn})),n.d(o,"Notepad",(function(){return nn})),n.d(o,"MediaPlayer",(function(){return sn})),n.d(o,"Iframe",(function(){return wn})),n.d(o,"LoadingScreen",(function(){return yn})),n.d(o,"Desktop",(function(){return pt})),n.d(o,"Window",(function(){return Tt})),n.d(o,"ThemeProvider",(function(){return bt}));var a={};n.r(a),n.d(a,"Terminal",(function(){return Yt})),n.d(a,"Explorer",(function(){return $t})),n.d(a,"Settings",(function(){return fn})),n.d(a,"Notepad",(function(){return nn})),n.d(a,"MediaPlayer",(function(){return sn})),n.d(a,"Iframe",(function(){return wn})),n.d(a,"LoadingScreen",(function(){return yn})),n.d(a,"Desktop",(function(){return jn})),n.d(a,"Window",(function(){return Tn})),n.d(a,"ThemeProvider",(function(){return yt}));var i={};n.r(i),n.d(i,"Terminal",(function(){return Yt})),n.d(i,"Explorer",(function(){return $t})),n.d(i,"Settings",(function(){return fn})),n.d(i,"Notepad",(function(){return nn})),n.d(i,"MediaPlayer",(function(){return sn})),n.d(i,"Iframe",(function(){return wn})),n.d(i,"LoadingScreen",(function(){return yn})),n.d(i,"Window",(function(){return An})),n.d(i,"ThemeProvider",(function(){return yt}));var s=n(118);window.WebSocket=s.WebSocket;var c=n(1),l=n.n(c),d=n(44),u=n.n(d),p=n(552),m=Object(p.a)((function(e){return{root:{padding:5,borderRadius:14,boxShadow:"-5px 6px 10px -1px "+e.shadowColor},mainBackground:{background:e.background.main},darkBackground:{background:e.background.dark},lightBackground:{background:e.background.light},mainBackgroundTransparent:{background:e.background.transparent||e.background.main},darkBackgroundTransparent:{background:e.background.transparentDark||e.background.dark},lightBackgroundTransparent:{background:e.background.transparentLight||e.background.light}}})),f=function(e){var t=e.children,n=e.className,r=e.colorVariant,o=m(),a={dark:o.darkBackground,light:o.lightBackground,main:o.mainBackground,transparent:o.mainBackgroundTransparent,transparentDark:o.darkBackgroundTransparent,transparentLight:o.lightBackgroundTransparent};return l.a.createElement("div",{className:o.root+" "+a[r||"main"]+" "+(n||"")},t)},h=n(225),g=function(e){var t=e.children,n=e.className,r=e.color,o=e.variant,a=e.value,i=e.onChange,s=e.defaultValue,d=e.border,u=e.transparent,m=e.placeholder,f=e.borderBottom,g=Object(h.a)()[r||"background"],w=g.text,v=d?"1px solid "+w:"none",b=!1!==f?"1px solid "+w:"none",y=function(e,t,n,r){return Object(p.a)((function(){return{root:{maxHeight:35,fontSize:25,color:e,backgroundColor:t,border:n,borderBottom:r,"&:focus":{outline:"none"}}}}))}(w,u?g[o||"main"]||g.main:"transparent",v,b)(),x=Object(c.useState)(s||""),k=x[0],E=x[1];return l.a.createElement("input",{placeholder:m,value:a||k,onChange:function(e){var t=e.target.value;E(t),i&&i(t,e)},className:y.root+" "+(n||"")},t)},w=function(e){var t=e.children,n=e.className,r=e.color,o=e.variant,a=e.border,i=e.transparent,s=e.onClick,c=e.style,d=e.shadow,u=Object(h.a)()[r||"background"],m=u.text,f=a?"1px solid "+m:"none",g={dark:u.transparentDark||u.dark,main:u.transparent||u.main,light:u.transparentLight||u.light},w=function(e,t,n,r){return Object(p.a)((function(o){return{root:{borderRadius:4,minHeight:35,minWidth:80,padding:4,display:"flex",justifyContent:"center",color:e,background:t,border:r,alignItems:"center",cursor:"pointer","&:hover":{border:r,backgroundBlendMode:"multiply",backgroundColor:n}},shadow:{boxShadow:"-3px 4px 6px -1px "+o.shadowColor}}}))}(m,!0!==i?g[o||"main"]||u.transparent||u.main:"transparent",u[o||"main"]||u.main,f)();return l.a.createElement("div",{onClick:s,style:c,className:w.root+" "+(d?w.shadow:"")+" "+(n||"")},t)},v=n(33),b=Object(p.a)((function(e){return{root:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",background:'url("https://picsum.photos/id/1039/1920/1080")'},card:{width:500,maxWidth:"80%",height:400,maxHeight:"70%",padding:"70px 60px",display:"flex",color:e.background.text,flexDirection:"column",justifyContent:"space-between",backdropFilter:"blur(5px)",userSelect:"none"},barButtonsContainer:{position:"relative",top:30,left:"91%",width:40,height:20,display:"flex",justifyContent:"space-between"},barButton:{width:15,height:15,borderRadius:"50%",zIndex:2,border:"1px solid #0004"},barButtonExit:{cursor:"pointer",background:e.error.main,"&:hover":{background:e.error.dark}},flex:{display:"flex"},barButtonCollaps:{cursor:"pointer",background:e.success.main,"&:hover":{background:e.success.dark}},link:{textDecoration:"none"}}})),y=function(e){var t=b(),n=Object(c.useState)("localhost"),r=n[0],o=n[1],a=Object(c.useState)(5e3),i=a[0],s=a[1],d=Object(c.useState)(!1)[0];return l.a.createElement("div",{className:t.root},l.a.createElement("div",null,l.a.createElement("div",{className:t.barButtonsContainer},l.a.createElement("div",{className:t.barButton+" "+t.barButtonCollaps}),l.a.createElement("div",{className:t.barButton+" "+t.barButtonExit})),l.a.createElement(f,{className:t.card},l.a.createElement("h2",null,"Login to your server"),l.a.createElement(g,{value:r,onChange:function(e){return o(e||"")},placeholder:"host"}),l.a.createElement(g,{value:String(i||""),onChange:function(e){return s(Number(e))},placeholder:"port"}),l.a.createElement(w,{variant:"main",onClick:function(){return e.onLogin(r,i,d)},color:"background",border:!0},"Login"),l.a.createElement(v.b,{to:"/demo",className:t.link},l.a.createElement(w,{variant:"main",color:"background",border:!0},"or instead you can visit the Demo")))))},x=n(8),k=n(549),E=n(553),C=n(213),S=n(214),N=n(212),P=(n(285),function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),B=function(e){return l.a.createElement("span",{className:"icon-parent "+(e.containerClassName||"")},l.a.createElement(P(P({},C),S)[e.name]||N.IconBase,e))},O=n(5),F=function(e){var t=Object(c.useState)(e.mount),n=t[0],r=t[1];return n||e.mount?l.a.createElement("div",{className:e.className,onAnimationEnd:function(){r(e.mount)}},e.children):null},W=n(26),j=l.a.createContext(void 0),_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.realstate=t.props.defaultState,t.state=t.props.defaultState,t.updateState=function(e){t.setState(T(T({},t.state),e)),t.realstate=T(T({},t.realstate),e)},t.componentDidMount=function(){t.props.onMount&&t.props.onMount(t.realstate,t.updateState)},t}return _(t,e),t.prototype.render=function(){return this.props.children(this.realstate,this.updateState)},t}(l.a.Component),D=n(31),R=function(e,t){return void 0===t&&(t=.6),"#"+Object(D.default)(e).setAlpha(t).toHex8()},I=function(e){return(new Array(2).join("0")+e).slice(-2)},A=function(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var t=(255-parseInt(e.slice(0,2),16)).toString(16),n=(255-parseInt(e.slice(2,4),16)).toString(16),r=(255-parseInt(e.slice(4,6),16)).toString(16);return"#"+I(t)+I(n)+I(r)};const{inflateRaw:L}=n(314),{default:M}=n(5),{GTKBridgeEmitter:H}=n(81),Y=document.createElement("div");document.body.appendChild(Y),Y.id="gtkRoot";var X=new Object;X.window=null,X.ownerEvents=!1,X.implicit=!1;var V,U=[],G=0,K=0,$=0,Q=0,q=0,J=0,Z={},ee=[],te=new Array,ne=null,re=null,oe=!1,ae=!1,ie=null;function se(e){return 1==e?256:2==e?512:3==e?1024:4==e?2048:5==e?4096:0}function ce(e){Fe("w",[e.id,e.x,e.y,e.width,e.height])}function le(e,t,n,r,o,a){var i={id:e,x:t,y:n,width:r,height:o,isTemp:a};i.positioned=a,i.transientParent=0,i.visible=!1,i.imageData=null;var s,c=document.createElement("canvas");c.width=r,c.height=o,c.surface=i,i.canvas=c,s=c,Y.appendChild(c),i.toplevelElement=s,a||function(e){let t=0;const n=M.addWindow("gnome-window",{type:"icon",icon:"FcLinux"},{minimized:!1});M.emitter.on("updateZIndex",({id:e,layer:r})=>{e===n&&(t=r)}),e.toplevelElement.addEventListener("mousedown",()=>{M.setActiveWindow(n)}),M.reloadWindowsLayers(),e.toplevelElement.focus();const r=()=>{e.toplevelElement.style.zIndex=String(t),requestAnimationFrame(r)};r();const o=setInterval(()=>{Y.contains(e.toplevelElement)||(M.closeWindow(n),clearInterval(o))})}(i),s.style.position="absolute",s.style.left=i.x+"px",s.style.top=i.y+"px",s.style.display="inline",s.style.visibility="hidden",Z[e]=i,ee.push(i),ce(i)}function de(e){var t=Z[e];if(!t.visible){t.visible=!0;var n=t.x,r=t.y;t.toplevelElement.style.left=n+"px",t.toplevelElement.style.top=r+"px",t.toplevelElement.style.visibility="visible",me()}}function ue(e){X.window==e&&Ae();var t=Z[e];t.visible&&(t.visible=!1,t.toplevelElement.style.visibility="hidden")}function pe(e,t){var n=Z[e];n.transientParent!=t&&(n.transientParent=t,0!=t&&Z[t]&&fe(n,ee.indexOf(Z[t])+1),n.visible&&me())}function me(){ee=ee.filter(e=>e);for(var e=0;e<ee.length;e++){ee[e].toplevelElement.style.zIndex=e}}function fe(e,t){var n=ee.indexOf(e);for(var r in ee.splice(n,1),void 0!=t?ee.splice(t,0,e):ee.push(e),Z){var o=Z[r];o.transientParent==(e?e.id:null)&&fe(o,ee.indexOf(e)+1)}}function he(e){X.window==e&&Ae();var t=Z[e],n=ee.indexOf(t);n>=0&&ee.splice(n,1);var r=t.canvas;r.parentNode.removeChild(r),delete Z[e]}function ge(e,t,n,r,o,a,i){var s=Z[e];if(t&&(s.positioned=!0,s.x=n,s.y=r),o&&(s.width=a,s.height=i),o&&function(e,t,n){var r=e.ownerDocument.createElement("canvas");r.width=e.width,r.height=e.height;var o=r.getContext("2d");o.globalCompositeOperation="copy",o.drawImage(e,0,0,r.width,r.height),e.width=t,e.height=n;var a=e.getContext("2d");a.globalCompositeOperation="copy",a.drawImage(r,0,0,r.width,r.height)}(s.canvas,a,i),s.visible&&t){var c=s.x,l=s.y,d=s.canvas;d.style.left=c+"px",d.style.top=l+"px"}ce(s)}function we(e){fe(Z[e]),me()}function ve(e){fe(Z[e],0),me()}function be(e,t,n,r,o,a,i,s){t+i>e.width&&(i=e.width-t),n+s>e.height&&(s=e.height-n),o+i>r.width&&(i=r.width-o),a+s>r.height&&(s=r.height-a);for(var c=4*e.width*n+4*t,l=4*r.width*a+4*o,d=0;d<s;d++){var u=e.data.subarray(c,c+4*i);r.data.set(u,l),c+=4*e.width,l+=4*r.width}}function ye(e,t,n,r,o,a){for(var i=t;i<t+4*n;i+=4)e[i+0]=e[i+0]/2|0+r,e[i+1]=e[i+1]/2|0+o,e[i+2]=e[i+2]/2|0+a}function xe(e,t,n,r,o,a,i,s,c,l,d){t+i>e.width&&(i=e.width-t),n+s>e.height&&(s=e.height-n),o+i>r.width&&(i=r.width-o),a+s>r.height&&(s=r.height-a);for(var u=4*r.width*a+4*o,p=0;p<s;p++)0==p||p==s-1?ye(r.data,u,i,0,0,0):(ye(r.data,u,1,0,0,0),ye(r.data,u+4,i-2,c,l,d),ye(r.data,u+4*i-4,1,0,0,0)),u+=4*r.width}function ke(e,t,n,r,o,a){var i,s=e.createImageData(n,r);null!=t&&be(t,0,0,s,0,0,t.width,t.height);for(var c=0,l=0;c<o.length;){var d,u,p=o[c++],m=o[c++],f=o[c++],h=o[c++];if(0!=h)a&&(m=m/2|0,p=(f=f/2|128)/2|0),s.data[l++]=f,s.data[l++]=m,s.data[l++]=p,s.data[l++]=h;else{var g=240&f;switch(g){case 0:s.data[l++]=0,s.data[l++]=0,s.data[l++]=0,s.data[l++]=0;break;case 16:l+=4*(d=(15&f)<<16|m<<8|p);break;case 32:var w=(15&f)<<16|m<<8|p,v=(t.width+32-1)/32|0,b=32*(w/v|0),y=32*(w%v|0);p=o[c++],m=o[c++],f=o[c++];var x=(h=o[c++])<<8|f,k=m<<8|p;be(t,y,b,s,x,k,32,32),a&&xe(t,y,b,s,x,k,32,32,0,128,0);break;case 48:for(d=(15&f)<<16|m<<8|p,p=o[c++],m=o[c++],f=o[c++],h=o[c++],u=l,i=0;i<d;i++)s.data[l++]=f,s.data[l++]=m,s.data[l++]=p,s.data[l++]=h;a&&ye(s.data,u,d,0,0,128);break;case 64:for(d=(15&f)<<16|m<<8|p,p=o[c++],m=o[c++],f=o[c++],h=o[c++],u=l,i=0;i<d;i++)s.data[l]=s.data[l]+f&255,l++,s.data[l]=s.data[l]+m&255,l++,s.data[l]=s.data[l]+p&255,l++,s.data[l]=s.data[l]+h&255,l++;a&&ye(s.data,u,d,255,0,255);break;default:console.error("Unknown buffer commend "+g)}}}return s}function Ee(e,t,n,r){var o=Z[e],a=o.canvas.getContext("2d");L(r,(e,r)=>{var i=ke(a,o.imageData,t,n,r,!1);a.putImageData(i,0,0),o.imageData=i})}function Ce(e,t){Ie(e,t,!1),Fe("g",[])}var Se=!1;function Ne(e){for(Se||(!function(){var e,t;(function(e){e.oncontextmenu=function(){return!1},e.addEventListener?(e.addEventListener("mousemove",De,!1),e.addEventListener("mouseover",Re,!1),e.addEventListener("mousedown",Le,!1),e.addEventListener("mouseup",Me,!1),e.addEventListener("keydown",Qe,!1),e.addEventListener("keypress",qe,!1),e.addEventListener("keyup",Je,!1),e.addEventListener("DOMMouseScroll",et,!1),e.addEventListener("mousewheel",et,!1),e.addEventListener("touchstart",tt,!1),e.addEventListener("touchmove",nt,!1),e.addEventListener("touchend",rt,!1)):e.attachEvent&&element.attachEvent("onmousewheel",et)})(document),e=window.innerWidth,t=window.innerHeight,window.onresize=function(e){Fe("d",[window.innerWidth,window.innerHeight])},Fe("d",[e,t])}(),Se=!0);e.pos<e.length;){var t,n,r,o,a,i=e.get_char();switch(G=e.get_32(),i){case"D":ne=null,H.call("status","disconnected"),Y.innerHTML="";break;case"s":t=e.get_16(),console.log(t),le(t,n=e.get_16s(),r=e.get_16s(),o=e.get_16(),a=e.get_16(),e.get_bool());break;case"S":de(t=e.get_16());break;case"H":ue(t=e.get_16());break;case"p":pe(t=e.get_16(),e.get_16());break;case"d":he(t=e.get_16());break;case"m":t=e.get_16();var s=e.get_flags(),c=1&s;c&&(n=e.get_16s(),r=e.get_16s());var l=2&s;l&&(o=e.get_16(),a=e.get_16()),ge(t,c,n,r,l,o,a);break;case"r":we(t=e.get_16());break;case"R":ve(t=e.get_16());break;case"b":Ee(t=e.get_16(),o=e.get_16(),a=e.get_16(),e.get_data());break;case"g":Ce(t=e.get_16(),e.get_bool());break;case"u":Fe("u",[]),X.window&&Ae();break;case"k":oe=0!=e.get_16(),ae=!0;break;default:console.error("Unknown op "+i)}}return!0}function Pe(e){this.arraybuffer=e,this.u8=new Uint8Array(e),this.length=this.u8.length,this.pos=0}function Be(e){var t=new Pe(e);te.push(t),1==te.length&&function(){for(;te.length>0;){var e=te.shift();if(!Ne(e))return void te.unshift(e)}}()}function Oe(e){var t=e.target.surface;return void 0!=t?t.id:0}function Fe(e,t){if(null!=ne){var n=[e.charCodeAt(0),G,Q].concat(t),r=new ArrayBuffer(4*n.length),o=new DataView(r);n.forEach((function(e,t){o.setInt32(4*t,e,!1)})),ne.send(r)}}function We(e,t,n){var r=Object();if(r.rootX=e,r.rootY=t,r.winX=e,r.winY=t,0!=n){var o=Z[n];r.winX=r.winX-o.x,r.winY=r.winY-o.y}return r}function je(e,t){var n=We(e.pageX,e.pageY,t);return K=n.rootX,$=n.rootY,n}function _e(e){if(null!=X.window){if(!X.ownerEvents)return X.window;if(0==e)return X.window}return e}function Te(){null!=re&&ae&&(ae=!1,oe?re.focus():re.blur())}function ze(e){V&=-14,e.shiftKey&&(V|=1),e.ctrlKey&&(V|=4),e.altKey&&(V|=8),Q=e.timeStamp}function De(e){ze(e);var t=Oe(e),n=je(e,t=_e(t));Fe("m",[q,t,n.rootX,n.rootY,n.winX,n.winY,V])}function Re(e){ze(e);var t=Oe(e);q=t;var n=je(e,t=_e(t));0!=(J=t)&&Fe("e",[q,t,n.rootX,n.rootY,n.winX,n.winY,V,0])}function Ie(e,t,n){var r;J!=e&&(0!=J&&(r=We(K,$,J),Fe("l",[q,J,r.rootX,r.rootY,r.winX,r.winY,V,1])),r=We(K,$,e),Fe("e",[q,e,r.rootX,r.rootY,r.winX,r.winY,V,1]),J=e),X.window=e,X.ownerEvents=t,X.implicit=n}function Ae(){var e;q!=J&&(0!=J&&(e=We(K,$,J),Fe("l",[q,J,e.rootX,e.rootY,e.winX,e.winY,V,2])),0!=q&&(e=We(K,$,q),Fe("e",[q,q,e.rootX,e.rootY,e.winX,e.winY,V,2])),J=q),X.window=null}function Le(e){ze(e);var t=e.button+1;V|=se(t);var n=Oe(e),r=je(e,n=_e(n));return null==X.window&&Ie(n,!1,!0),Fe("b",[q,n,r.rootX,r.rootY,r.winX,r.winY,V,t]),!1}function Me(e){ze(e);var t=e.button+1;V&=~se(t);let n=_e(Oe(e));var r=je(e,n);return Fe("B",[q,n,r.rootX,r.rootY,r.winX,r.winY,V,t]),null!=X.window&&X.implicit&&Ae(),!1}Pe.prototype.get_char=function(){return String.fromCharCode(this.u8[this.pos++])},Pe.prototype.get_bool=function(){return 0!=this.u8[this.pos++]},Pe.prototype.get_flags=function(){return this.u8[this.pos++]},Pe.prototype.get_16=function(){var e=this.u8[this.pos]+(this.u8[this.pos+1]<<8);return this.pos=this.pos+2,e},Pe.prototype.get_16s=function(){var e=this.get_16();return e>32767?e-65536:e},Pe.prototype.get_32=function(){var e=this.u8[this.pos]+(this.u8[this.pos+1]<<8)+(this.u8[this.pos+2]<<16)+(this.u8[this.pos+3]<<24);return this.pos=this.pos+4,e},Pe.prototype.get_data=function(){var e=this.get_32(),t=new Uint8Array(this.arraybuffer,this.pos,e);return this.pos=this.pos+e,t};var He={260:417,728:418,321:419,317:421,346:422,352:425,350:426,356:427,377:428,381:430,379:431,261:433,731:434,322:435,318:437,347:438,711:439,353:441,351:442,357:443,378:444,733:445,382:446,380:447,340:448,258:451,313:453,262:454,268:456,280:458,282:460,270:463,272:464,323:465,327:466,336:469,344:472,366:473,368:475,354:478,341:480,259:483,314:485,263:486,269:488,281:490,283:492,271:495,273:496,324:497,328:498,337:501,369:507,345:504,367:505,355:510,729:511,294:673,292:678,304:681,286:683,308:684,295:689,293:694,305:697,287:699,309:700,266:709,264:710,288:725,284:728,364:733,348:734,267:741,265:742,289:757,285:760,365:765,349:766,312:930,342:931,296:933,315:934,274:938,290:939,358:940,343:947,297:949,316:950,275:954,291:955,359:956,330:957,331:959,256:960,302:967,278:972,298:975,325:977,332:978,310:979,370:985,360:989,362:990,257:992,303:999,279:1004,299:1007,326:1009,333:1010,311:1011,371:1017,361:1021,363:1022,7682:16784898,7683:16784899,7690:16784906,7808:16785024,7810:16785026,7691:16784907,7922:16785138,7710:16784926,7711:16784927,7744:16784960,7745:16784961,7766:16784982,7809:16785025,7767:16784983,7811:16785027,7776:16784992,7923:16785139,7812:16785028,7813:16785029,7777:16784993,372:16777588,7786:16785002,374:16777590,373:16777589,7787:16785003,375:16777591,338:5052,339:5053,376:5054,8254:1150,12290:1185,12300:1186,12301:1187,12289:1188,12539:1189,12530:1190,12449:1191,12451:1192,12453:1193,12455:1194,12457:1195,12515:1196,12517:1197,12519:1198,12483:1199,12540:1200,12450:1201,12452:1202,12454:1203,12456:1204,12458:1205,12459:1206,12461:1207,12463:1208,12465:1209,12467:1210,12469:1211,12471:1212,12473:1213,12475:1214,12477:1215,12479:1216,12481:1217,12484:1218,12486:1219,12488:1220,12490:1221,12491:1222,12492:1223,12493:1224,12494:1225,12495:1226,12498:1227,12501:1228,12504:1229,12507:1230,12510:1231,12511:1232,12512:1233,12513:1234,12514:1235,12516:1236,12518:1237,12520:1238,12521:1239,12522:1240,12523:1241,12524:1242,12525:1243,12527:1244,12531:1245,12443:1246,12444:1247,1776:16778992,1777:16778993,1778:16778994,1779:16778995,1780:16778996,1781:16778997,1782:16778998,1783:16778999,1784:16779e3,1785:16779001,1642:16778858,1648:16778864,1657:16778873,1662:16778878,1670:16778886,1672:16778888,1681:16778897,1548:1452,1748:16778964,1632:16778848,1633:16778849,1634:16778850,1635:16778851,1636:16778852,1637:16778853,1638:16778854,1639:16778855,1640:16778856,1641:16778857,1563:1467,1567:1471,1569:1473,1570:1474,1571:1475,1572:1476,1573:1477,1574:1478,1575:1479,1576:1480,1577:1481,1578:1482,1579:1483,1580:1484,1581:1485,1582:1486,1583:1487,1584:1488,1585:1489,1586:1490,1587:1491,1588:1492,1589:1493,1590:1494,1591:1495,1592:1496,1593:1497,1594:1498,1600:1504,1601:1505,1602:1506,1603:1507,1604:1508,1605:1509,1606:1510,1607:1511,1608:1512,1609:1513,1610:1514,1611:1515,1612:1516,1613:1517,1614:1518,1615:1519,1616:1520,1617:1521,1618:1522,1619:16778835,1620:16778836,1621:16778837,1688:16778904,1700:16778916,1705:16778921,1711:16778927,1722:16778938,1726:16778942,1740:16778956,1746:16778962,1729:16778945,1170:16778386,1171:16778387,1174:16778390,1175:16778391,1178:16778394,1179:16778395,1180:16778396,1181:16778397,1186:16778402,1187:16778403,1198:16778414,1199:16778415,1200:16778416,1201:16778417,1202:16778418,1203:16778419,1206:16778422,1207:16778423,1208:16778424,1209:16778425,1210:16778426,1211:16778427,1240:16778456,1241:16778457,1250:16778466,1251:16778467,1256:16778472,1257:16778473,1262:16778478,1263:16778479,1106:1697,1107:1698,1105:1699,1108:1700,1109:1701,1110:1702,1111:1703,1112:1704,1113:1705,1114:1706,1115:1707,1116:1708,1169:1709,1118:1710,1119:1711,8470:1712,1026:1713,1027:1714,1025:1715,1028:1716,1029:1717,1030:1718,1031:1719,1032:1720,1033:1721,1034:1722,1035:1723,1036:1724,1168:1725,1038:1726,1039:1727,1102:1728,1072:1729,1073:1730,1094:1731,1076:1732,1077:1733,1092:1734,1075:1735,1093:1736,1080:1737,1081:1738,1082:1739,1083:1740,1084:1741,1085:1742,1086:1743,1087:1744,1103:1745,1088:1746,1089:1747,1090:1748,1091:1749,1078:1750,1074:1751,1100:1752,1099:1753,1079:1754,1096:1755,1101:1756,1097:1757,1095:1758,1098:1759,1070:1760,1040:1761,1041:1762,1062:1763,1044:1764,1045:1765,1060:1766,1043:1767,1061:1768,1048:1769,1049:1770,1050:1771,1051:1772,1052:1773,1053:1774,1054:1775,1055:1776,1071:1777,1056:1778,1057:1779,1058:1780,1059:1781,1046:1782,1042:1783,1068:1784,1067:1785,1047:1786,1064:1787,1069:1788,1065:1789,1063:1790,1066:1791,902:1953,904:1954,905:1955,906:1956,938:1957,908:1959,910:1960,939:1961,911:1963,901:1966,8213:1967,940:1969,941:1970,942:1971,943:1972,970:1973,912:1974,972:1975,973:1976,971:1977,944:1978,974:1979,913:1985,914:1986,915:1987,916:1988,917:1989,918:1990,919:1991,920:1992,921:1993,922:1994,923:1995,924:1996,925:1997,926:1998,927:1999,928:2e3,929:2001,931:2002,932:2004,933:2005,934:2006,935:2007,936:2008,937:2009,945:2017,946:2018,947:2019,948:2020,949:2021,950:2022,951:2023,952:2024,953:2025,954:2026,955:2027,956:2028,957:2029,958:2030,959:2031,960:2032,961:2033,963:2034,962:2035,964:2036,965:2037,966:2038,967:2039,968:2040,969:2041,9143:2209,8992:2212,8993:2213,9121:2215,9123:2216,9124:2217,9126:2218,9115:2219,9117:2220,9118:2221,9120:2222,9128:2223,9132:2224,8804:2236,8800:2237,8805:2238,8747:2239,8756:2240,8733:2241,8734:2242,8711:2245,8764:2248,8771:2249,8660:2253,8658:2254,8801:2255,8730:2262,8834:2266,8835:2267,8745:2268,8746:2269,8743:2270,8744:2271,8706:2287,402:2294,8592:2299,8593:2300,8594:2301,8595:2302,9670:2528,9618:2529,9225:2530,9228:2531,9229:2532,9226:2533,9252:2536,9227:2537,9496:2538,9488:2539,9484:2540,9492:2541,9532:2542,9146:2543,9147:2544,9472:2545,9148:2546,9149:2547,9500:2548,9508:2549,9524:2550,9516:2551,9474:2552,8195:2721,8194:2722,8196:2723,8197:2724,8199:2725,8200:2726,8201:2727,8202:2728,8212:2729,8211:2730,8230:2734,8229:2735,8531:2736,8532:2737,8533:2738,8534:2739,8535:2740,8536:2741,8537:2742,8538:2743,8453:2744,8210:2747,8539:2755,8540:2756,8541:2757,8542:2758,8482:2761,8216:2768,8217:2769,8220:2770,8221:2771,8478:2772,8242:2774,8243:2775,10013:2777,9827:2796,9830:2797,9829:2798,10016:2800,8224:2801,8225:2802,10003:2803,10007:2804,9839:2805,9837:2806,9794:2807,9792:2808,9742:2809,8981:2810,8471:2811,8248:2812,8218:2813,8222:2814,8868:3010,8970:3012,8728:3018,9109:3020,8869:3022,9675:3023,8968:3027,8867:3036,8866:3068,8215:3295,1488:3296,1489:3297,1490:3298,1491:3299,1492:3300,1493:3301,1494:3302,1495:3303,1496:3304,1497:3305,1498:3306,1499:3307,1500:3308,1501:3309,1502:3310,1503:3311,1504:3312,1505:3313,1506:3314,1507:3315,1508:3316,1509:3317,1510:3318,1511:3319,1512:3320,1513:3321,1514:3322,3585:3489,3586:3490,3587:3491,3588:3492,3589:3493,3590:3494,3591:3495,3592:3496,3593:3497,3594:3498,3595:3499,3596:3500,3597:3501,3598:3502,3599:3503,3600:3504,3601:3505,3602:3506,3603:3507,3604:3508,3605:3509,3606:3510,3607:3511,3608:3512,3609:3513,3610:3514,3611:3515,3612:3516,3613:3517,3614:3518,3615:3519,3616:3520,3617:3521,3618:3522,3619:3523,3620:3524,3621:3525,3622:3526,3623:3527,3624:3528,3625:3529,3626:3530,3627:3531,3628:3532,3629:3533,3630:3534,3631:3535,3632:3536,3633:3537,3634:3538,3635:3539,3636:3540,3637:3541,3638:3542,3639:3543,3640:3544,3641:3545,3642:3546,3647:3551,3648:3552,3649:3553,3650:3554,3651:3555,3652:3556,3653:3557,3654:3558,3655:3559,3656:3560,3657:3561,3658:3562,3659:3563,3660:3564,3661:3565,3664:3568,3665:3569,3666:3570,3667:3571,3668:3572,3669:3573,3670:3574,3671:3575,3672:3576,3673:3577,1415:16778631,1417:16778633,1373:16778589,1418:16778634,1372:16778588,1371:16778587,1374:16778590,1329:16778545,1377:16778593,1330:16778546,1378:16778594,1331:16778547,1379:16778595,1332:16778548,1380:16778596,1333:16778549,1381:16778597,1334:16778550,1382:16778598,1335:16778551,1383:16778599,1336:16778552,1384:16778600,1337:16778553,1385:16778601,1338:16778554,1386:16778602,1339:16778555,1387:16778603,1340:16778556,1388:16778604,1341:16778557,1389:16778605,1342:16778558,1390:16778606,1343:16778559,1391:16778607,1344:16778560,1392:16778608,1345:16778561,1393:16778609,1346:16778562,1394:16778610,1347:16778563,1395:16778611,1348:16778564,1396:16778612,1349:16778565,1397:16778613,1350:16778566,1398:16778614,1351:16778567,1399:16778615,1352:16778568,1400:16778616,1353:16778569,1401:16778617,1354:16778570,1402:16778618,1355:16778571,1403:16778619,1356:16778572,1404:16778620,1357:16778573,1405:16778621,1358:16778574,1406:16778622,1359:16778575,1407:16778623,1360:16778576,1408:16778624,1361:16778577,1409:16778625,1362:16778578,1410:16778626,1363:16778579,1411:16778627,1364:16778580,1412:16778628,1365:16778581,1413:16778629,1366:16778582,1414:16778630,1370:16778586,4304:16781520,4305:16781521,4306:16781522,4307:16781523,4308:16781524,4309:16781525,4310:16781526,4311:16781527,4312:16781528,4313:16781529,4314:16781530,4315:16781531,4316:16781532,4317:16781533,4318:16781534,4319:16781535,4320:16781536,4321:16781537,4322:16781538,4323:16781539,4324:16781540,4325:16781541,4326:16781542,4327:16781543,4328:16781544,4329:16781545,4330:16781546,4331:16781547,4332:16781548,4333:16781549,4334:16781550,4335:16781551,4336:16781552,4337:16781553,4338:16781554,4339:16781555,4340:16781556,4341:16781557,4342:16781558,7818:16785034,300:16777516,437:16777653,486:16777702,466:16777681,415:16777631,7819:16785035,301:16777517,438:16777654,487:16777703,466:16777682,629:16777845,399:16777615,601:16777817,7734:16784950,7735:16784951,7840:16785056,7841:16785057,7842:16785058,7843:16785059,7844:16785060,7845:16785061,7846:16785062,7847:16785063,7848:16785064,7849:16785065,7850:16785066,7851:16785067,7852:16785068,7853:16785069,7854:16785070,7855:16785071,7856:16785072,7857:16785073,7858:16785074,7859:16785075,7860:16785076,7861:16785077,7862:16785078,7863:16785079,7864:16785080,7865:16785081,7866:16785082,7867:16785083,7868:16785084,7869:16785085,7870:16785086,7871:16785087,7872:16785088,7873:16785089,7874:16785090,7875:16785091,7876:16785092,7877:16785093,7878:16785094,7879:16785095,7880:16785096,7881:16785097,7882:16785098,7883:16785099,7884:16785100,7885:16785101,7886:16785102,7887:16785103,7888:16785104,7889:16785105,7890:16785106,7891:16785107,7892:16785108,7893:16785109,7894:16785110,7895:16785111,7896:16785112,7897:16785113,7898:16785114,7899:16785115,7900:16785116,7901:16785117,7902:16785118,7903:16785119,7904:16785120,7905:16785121,7906:16785122,7907:16785123,7908:16785124,7909:16785125,7910:16785126,7911:16785127,7912:16785128,7913:16785129,7914:16785130,7915:16785131,7916:16785132,7917:16785133,7918:16785134,7919:16785135,7920:16785136,7921:16785137,7924:16785140,7925:16785141,7926:16785142,7927:16785143,7928:16785144,7929:16785145,416:16777632,417:16777633,431:16777647,432:16777648,8352:16785568,8353:16785569,8354:16785570,8355:16785571,8356:16785572,8357:16785573,8358:16785574,8359:16785575,8360:16785576,8361:16785577,8362:16785578,8363:16785579,8364:8364,8304:16785520,8308:16785524,8309:16785525,8310:16785526,8311:16785527,8312:16785528,8313:16785529,8320:16785536,8321:16785537,8322:16785538,8323:16785539,8324:16785540,8325:16785541,8326:16785542,8327:16785543,8328:16785544,8329:16785545,8706:16785922,8709:16785925,8712:16785928,8713:16785929,8715:16785931,8730:16785946,8731:16785947,8732:16785948,8748:16785964,8749:16785965,8757:16785973,8773:16785992,8775:16785991,8802:16786018,8803:16786019,10240:16787456,10241:16787457,10242:16787458,10243:16787459,10244:16787460,10245:16787461,10246:16787462,10247:16787463,10248:16787464,10249:16787465,10250:16787466,10251:16787467,10252:16787468,10253:16787469,10254:16787470,10255:16787471,10256:16787472,10257:16787473,10258:16787474,10259:16787475,10260:16787476,10261:16787477,10262:16787478,10263:16787479,10264:16787480,10265:16787481,10266:16787482,10267:16787483,10268:16787484,10269:16787485,10270:16787486,10271:16787487,10272:16787488,10273:16787489,10274:16787490,10275:16787491,10276:16787492,10277:16787493,10278:16787494,10279:16787495,10280:16787496,10281:16787497,10282:16787498,10283:16787499,10284:16787500,10285:16787501,10286:16787502,10287:16787503,10288:16787504,10289:16787505,10290:16787506,10291:16787507,10292:16787508,10293:16787509,10294:16787510,10295:16787511,10296:16787512,10297:16787513,10298:16787514,10299:16787515,10300:16787516,10301:16787517,10302:16787518,10303:16787519,10304:16787520,10305:16787521,10306:16787522,10307:16787523,10308:16787524,10309:16787525,10310:16787526,10311:16787527,10312:16787528,10313:16787529,10314:16787530,10315:16787531,10316:16787532,10317:16787533,10318:16787534,10319:16787535,10320:16787536,10321:16787537,10322:16787538,10323:16787539,10324:16787540,10325:16787541,10326:16787542,10327:16787543,10328:16787544,10329:16787545,10330:16787546,10331:16787547,10332:16787548,10333:16787549,10334:16787550,10335:16787551,10336:16787552,10337:16787553,10338:16787554,10339:16787555,10340:16787556,10341:16787557,10342:16787558,10343:16787559,10344:16787560,10345:16787561,10346:16787562,10347:16787563,10348:16787564,10349:16787565,10350:16787566,10351:16787567,10352:16787568,10353:16787569,10354:16787570,10355:16787571,10356:16787572,10357:16787573,10358:16787574,10359:16787575,10360:16787576,10361:16787577,10362:16787578,10363:16787579,10364:16787580,10365:16787581,10366:16787582,10367:16787583,10368:16787584,10369:16787585,10370:16787586,10371:16787587,10372:16787588,10373:16787589,10374:16787590,10375:16787591,10376:16787592,10377:16787593,10378:16787594,10379:16787595,10380:16787596,10381:16787597,10382:16787598,10383:16787599,10384:16787600,10385:16787601,10386:16787602,10387:16787603,10388:16787604,10389:16787605,10390:16787606,10391:16787607,10392:16787608,10393:16787609,10394:16787610,10395:16787611,10396:16787612,10397:16787613,10398:16787614,10399:16787615,10400:16787616,10401:16787617,10402:16787618,10403:16787619,10404:16787620,10405:16787621,10406:16787622,10407:16787623,10408:16787624,10409:16787625,10410:16787626,10411:16787627,10412:16787628,10413:16787629,10414:16787630,10415:16787631,10416:16787632,10417:16787633,10418:16787634,10419:16787635,10420:16787636,10421:16787637,10422:16787638,10423:16787639,10424:16787640,10425:16787641,10426:16787642,10427:16787643,10428:16787644,10429:16787645,10430:16787646,10431:16787647,10432:16787648,10433:16787649,10434:16787650,10435:16787651,10436:16787652,10437:16787653,10438:16787654,10439:16787655,10440:16787656,10441:16787657,10442:16787658,10443:16787659,10444:16787660,10445:16787661,10446:16787662,10447:16787663,10448:16787664,10449:16787665,10450:16787666,10451:16787667,10452:16787668,10453:16787669,10454:16787670,10455:16787671,10456:16787672,10457:16787673,10458:16787674,10459:16787675,10460:16787676,10461:16787677,10462:16787678,10463:16787679,10464:16787680,10465:16787681,10466:16787682,10467:16787683,10468:16787684,10469:16787685,10470:16787686,10471:16787687,10472:16787688,10473:16787689,10474:16787690,10475:16787691,10476:16787692,10477:16787693,10478:16787694,10479:16787695,10480:16787696,10481:16787697,10482:16787698,10483:16787699,10484:16787700,10485:16787701,10486:16787702,10487:16787703,10488:16787704,10489:16787705,10490:16787706,10491:16787707,10492:16787708,10493:16787709,10494:16787710,10495:16787711},Ye={8:[65288,1],13:[65293,1],9:[65289,1],27:65307,46:65535,36:65360,35:65367,33:65365,34:65366,45:65379,37:65361,38:65362,39:65363,40:65364,16:65505,17:65507,18:65513,112:65470,113:65471,114:65472,115:65473,116:65474,117:65475,118:65476,119:65477,120:65478,121:65479,122:65480,123:65481};function Xe(e){return"undefined"!==typeof e.which&&e.which>0?e.which:e.keyCode}function Ve(e){if(e.keyCode in Ye){var t=Ye[e.keyCode],n=0;if("number"!=typeof t&&(n=t[1],t=t[0]),"keydown"===e.type||1&n)return t}if(!e.ctrlKey&&!e.altKey)return null;var r=Xe(e);switch(r){case 186:r=59;break;case 187:r=61;break;case 188:r=44;break;case 109:case 189:r=45;break;case 190:r=46;break;case 191:r=47;break;case 192:r=96;break;case 219:r=91;break;case 220:r=92;break;case 221:r=93;break;case 222:r=39}if(e.shiftKey)switch(r){case 48:r=41;break;case 49:r=33;break;case 50:r=64;break;case 51:r=35;break;case 52:r=36;break;case 53:r=37;break;case 54:r=94;break;case 55:r=38;break;case 56:r=42;break;case 57:r=40;break;case 59:r=58;break;case 61:r=43;break;case 44:r=60;break;case 45:r=95;break;case 46:r=62;break;case 47:r=63;break;case 96:r=126;break;case 91:r=123;break;case 92:r=124;break;case 93:r=125;break;case 39:r=34}else if(r>=65&&r<=90)r+=32;else if(3===e.keyLocation)switch(r){case 96:r=48;break;case 97:r=49;break;case 98:r=50;break;case 99:r=51;break;case 100:r=52;break;case 101:r=53;break;case 102:r=54;break;case 103:r=55;break;case 104:r=56;break;case 105:r=57;break;case 109:r=45;break;case 110:r=46;break;case 111:r=47}return r}function Ue(e){return 229===e.keyCode}function Ge(e){var t,n=null,r=e||window.event,o=!1;return n=function(e){var t,n=["type","keyCode","charCode","which","altKey","ctrlKey","shiftKey","keyLocation","keyIdentifier"],r={};for(t=0;t<n.length;t++)"undefined"!==typeof e[n[t]]&&(r[n[t]]=e[n[t]]);return r}(r),t=Ve(r),n.keysym=t,t&&(Ue(r)||Fe("k",[t,V]),o=!0),Ue(r)||function(e){U.push(e)}(n),!o||Ze(r)}function Ke(e){var t,n=e||window.event,r=U.length;return"undefined"!==n.which&&0===n.which||Ve(n)||(t=function(e){var t;return(t=Xe(e))>255&&t<65280&&"undefined"===typeof(t=He[t])&&(t=0),t}(n),r>0&&(U[r-1].keysym=t),t>0&&Fe("k",[t,V])),Ze(n)}function $e(e){var t,n,r=e||window.event;return(n=(t=function(e,t){var n,r=null;for(n=U.length-1;n>=0;n--)if(U[n].keyCode===e){r="undefined"!==typeof t&&t?U.splice(n,1)[0]:U[n];break}return r}(r.keyCode,!0))?t.keysym:0)>0&&Fe("K",[n,V]),Ze(r)}function Qe(e){return ze(e),Ge(e)}function qe(e){return ze(e),Ke(e)}function Je(e){return ze(e),$e(e)}function Ze(e){e=e||window.event}function et(e){ze(e);var t=Oe(e=e||window.event),n=je(e,t),r=0;return(e.detail?e.detail:-e.wheelDelta)>0&&(r=1),Fe("s",[q,t,n.rootX,n.rootY,n.winX,n.winY,V,r]),Ze(e)}function tt(e){event.preventDefault(),Te(),ze(e);for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches.item(t),r=Oe(n),o=_e(r),a=je(n,o),i=0;null==ie&&(ie=n.identifier,i=1,q==r&&o==J||(0!=o&&Fe("l",[q,o,a.rootX,a.rootY,a.winX,a.winY,V,0]),J=o,q=r,Fe("e",[r,o,a.rootX,a.rootY,a.winX,a.winY,V,0]))),Fe("t",[0,o,n.identifier,i,a.rootX,a.rootY,a.winX,a.winY,V])}}function nt(e){event.preventDefault(),Te(),ze(e);for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches.item(t),r=_e(Oe(n)),o=je(n,r),a=0;ie==n.identifier&&(a=1),Fe("t",[1,r,n.identifier,a,o.rootX,o.rootY,o.winX,o.winY,V])}}function rt(e){event.preventDefault(),Te(),ze(e);for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches.item(t),r=_e(Oe(n)),o=je(n,r),a=0;ie==n.identifier&&(a=1,ie=null),Fe("t",[2,r,n.identifier,a,o.rootX,o.rootY,o.winX,o.winY,V])}}function ot(e,t,n){const r=new WebSocket(`${t?"wss":"ws"}://${e}:${n}/socket`,"broadway");H.call("status","connecting"),r.binaryType="arraybuffer",r.onopen=function(){H.call("status","connected"),ne=r},r.onclose=function(){null!=ne&&(H.call("status","disconnected"),Y.innerHTML=""),ne=null},r.onmessage=function(e){Be(e.data)},/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&((re=document.createElement("input")).type="text",re.style.position="absolute",re.style.left="-1000px",re.style.top="-1000px",Y.appendChild(re))}window.stopGDK=()=>Se=!1;var at=n(81),it=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ct=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},lt=Object(p.a)((function(e){return{windowsBar:{position:"absolute",animation:"$slideUp 1s",bottom:5,left:120,right:120,borderRadius:13,height:55,display:"flex",border:"1px solid "+(e.transparentBorder||"#eee2"),backdropFilter:"blur(10px)",background:R(e.background.transparent||e.background.main,"transparent"===e.type?.15:.6),paddingLeft:10,boxShadow:"0 0px 3px 0px",zIndex:O.default.windowsMinMaxLayer.max+1,overflowX:"auto",overflowY:"hidden"},"@keyframes slideUp":{from:{bottom:-60},to:{bottom:5}},windowsBarButton:{userSelect:"none",fontSize:40,boxShadow:"0px 0px 10px 4px #0007",transition:"border-bottom 100ms",padding:5,margin:2,borderRadius:6,marginRight:5,marginLeft:5,cursor:"pointer",color:e.background.text,"&:hover":{background:e.background.transparentDark||e.background.dark}},windowsBarButtonHover:{position:"absolute",transform:"translateY(-150%) translateX(-33%)",width:200,height:150,borderRadius:6,fontSize:20,background:e.background.main+" !important",border:"solid 1px "+e.windowBorderColor,textAlign:"center",animation:"$scaleUp 300ms",display:"flex",flexDirection:"column"},"@keyframes scaleUp":{from:{opacity:0,width:150,height:130,borderRadius:0},to:{opacity:1,width:200,height:150,borderRadius:8}},windowsBarButtonActive:{backdropFilter:"blur(15px)",borderBottom:("transparent"===e.type?e.success.main:e.secondary.main)+" solid 6px !important"},windowsBarButtonOpen:{borderBottom:("transparent"===e.type?e.success.main:e.secondary.main)+" solid 3px"},windowsBarButtonCloseMinimized:{borderBottom:e.secondary.dark+" solid 3px"}}})),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderAppListCell=function(e,n){var r=t.props,o=r.classes,a=r.onLaunchApp;return l.a.createElement("div",{key:n,className:o.appCell,onClick:function(){return e&&a({name:e.appName,params:{}})}},"img"===e.icon.type?l.a.createElement("img",{alt:e.displayName+" icon",src:e.icon.icon}):l.a.createElement(B,{className:o.appIcon,name:e.icon.icon}),l.a.createElement("div",{className:o.appContent},l.a.createElement("div",{className:o.appName},e.displayName),l.a.createElement("div",null,e.description)))},t.willUnmount=!1,t.componentWillUnmount=function(){t.willUnmount=!0},t.componentDidMount=function(){at.GTKBridgeEmitter.on("status",(function(){t.forceUpdate()})),t.tryToStartGtkServer()},t.componentDidUpdate=function(){t.tryToStartGtkServer()},t.tryToStartGtkServer=function(){var e=t.props.gtkBridge;if("disconnected"===at.status&&e)try{ot(Mn.host,Mn.https,e.port)}catch(n){}},t}return it(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.background,r=t.openApps,o=t.classes,a=t.apps;return l.a.createElement("div",{className:o.root,style:{background:n}},r.map((function(e){return l.a.createElement(j.Provider,{key:e.id,value:{host:Mn.host,port:e.port}},l.a.createElement(W.Client,st({key:e.id},Mn.connect(e.port,"webWindow"))))})),l.a.createElement(v.b,{to:"/native"},l.a.createElement("div",{className:o.switchToNativeButton},l.a.createElement(B,{width:40,height:40,name:"VscWindow"}))),l.a.createElement(z,{defaultState:{isStartMenuOpen:!1,startMenuQuery:""}},(function(t,n){var r=t.isStartMenuOpen,i=t.startMenuQuery;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ut,{isStartMenuOpen:r,toggleStartMenu:function(){return n({isStartMenuOpen:!r})}}),l.a.createElement(F,{mount:r,className:o.startMenu+" "+(r?o.slideIn:o.slideOut)},l.a.createElement("div",{className:o.startMenuBody},l.a.createElement(g,{className:o.startMenuSearch,borderBottom:!1,placeholder:"search app",value:i,onChange:function(e){return n({startMenuQuery:e})}}),a.filter((function(e){return!i||(e.displayName.includes(i)||e.description.includes(i)||e.appName.includes(i))})).map((function(t,n){return e.renderAppListCell(t,n)})))))})))},t}(x.Component),ut=function(e){var t=e.toggleStartMenu,n=e.isStartMenuOpen,r=lt(),o=Object(c.useState)(O.default.windows),a=o[0],i=o[1],s=Object(c.useState)(void 0),d=s[0],u=s[1];return Object(c.useEffect)((function(){var e=function(){return i(ct([],O.default.windows))};e(),O.default.emitter.on("addWindow",e),O.default.emitter.on("closeWindow",e),O.default.emitter.on("maximizeWindow",e),O.default.emitter.on("minimizeWindow",e),O.default.emitter.on("setActiveWindow",e)}),[]),l.a.createElement("div",{className:r.windowsBar},l.a.createElement("div",{className:r.windowsBarButton+" "+(n?r.windowsBarButtonOpen:r.windowsBarButtonCloseMinimized)+" "+(n?r.windowsBarButtonActive:""),onClick:function(){return t()}},l.a.createElement(B,{width:40,height:40,name:"FcList"})),a.map((function(e,t){return l.a.createElement("div",{key:t,onContextMenu:function(){return u(t===d?void 0:t)},className:r.windowsBarButton+" "+(e.state.minimized?r.windowsBarButtonCloseMinimized:r.windowsBarButtonOpen)+" "+(e.id!==O.default.activeWindowId||e.state.minimized?"":r.windowsBarButtonActive),onClick:function(){O.default.activeWindowId===e.id?O.default.updateState(e.id,{minimized:!e.state.minimized}):O.default.updateState(e.id,{minimized:!1})}},"img"===e.icon.type?l.a.createElement("img",{alt:e.name+" icon",src:e.icon.icon,width:40,height:40}):l.a.createElement(B,{name:e.icon.icon}),d===t&&l.a.createElement("div",{onClick:function(){return u(void 0)},className:r.windowsBarButton+" "+(e.state.minimized?r.windowsBarButtonCloseMinimized:r.windowsBarButtonOpen)+" "+(e.id===O.default.activeWindowId?r.windowsBarButtonActive:"")+" "+r.windowsBarButtonHover},"img"===e.icon.type?l.a.createElement("img",{alt:e.name+" icon",src:e.icon.icon,width:100,height:100}):l.a.createElement(B,{size:100,name:e.icon.icon}),l.a.createElement("div",null,e.name)," "))})))},pt=Object(E.a)((function(e){return Object(k.a)({root:{position:"absolute",top:0,bottom:0,right:0,left:0},switchToNativeButton:{position:"absolute",top:-45,transition:"top 300ms",right:45,height:55,cursor:"pointer",width:80,borderRadius:"0 0 15px 15px",fontSize:40,paddingTop:5,borderBottom:"none",display:"flex",justifyContent:"center",color:e.background.text,boxShadow:"0 0px 3px 0px "+e.shadowColor,border:"1px solid "+(e.transparentBorder||"#eee2"),backdropFilter:"blur(10px)",background:R(e.background.transparent||e.background.main,"transparent"===e.type?.15:.6),"&:hover":{top:0,background:e.background.transparent},zIndex:O.default.windowsMinMaxLayer.max+1},"@keyframes slideIn":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0%)"}},"@keyframes slideOut":{"0%":{transform:"translateX(0%)"},"100%":{transform:"translateX(-100%)"}},slideIn:{animation:"$slideIn 200ms"},slideOut:{animation:"$slideOut 200ms"},startMenu:{position:"absolute",zIndex:O.default.windowsMinMaxLayer.max+1,bottom:105,left:15,width:500,height:500,maxHeight:"60%",maxWidth:"30%",overflowY:"auto",padding:5,borderRadius:10,border:"1px solid "+(e.transparentBorder||"#eee2"),backdropFilter:"blur(10px)",background:R(e.background.transparent||e.background.main,"transparent"===e.type?.15:.6),boxShadow:"-5px 6px 10px -1px #0007"},startMenuBody:{width:"100%",height:"100%",marginTop:20},appList:{margin:7},appCell:{minHeight:54,padding:10,marginTop:15,boxSizing:"border-box",borderBottom:"1px solid "+e.windowBorderColor,display:"flex",borderRadius:7,color:e.background.text,cursor:"pointer",boxShadow:"-1px 2px 20px 2px "+e.shadowColor,"&:hover":{background:e.background.transparentDark||e.background.dark}},appIcon:{flexShrink:0,width:50,height:50,fontSize:50},appContent:{textAlign:"left",marginLeft:10,overflow:"hidden",flexGrow:1},appName:{fontSize:"x-large",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},startMenuSearch:{width:"100%"}})}))(dt),mt=n(550),ft={type:"dark",name:"dark",shadowColor:"#0007",windowBorderColor:"#000",windowBarColor:"#333333",background:{main:"#333333",light:"#444444",transparent:"#373737e9",dark:"#242424",transparentDark:"#24242499",text:"#d9d9da"},primary:{main:"#eee",transparent:"#e8e8e869",light:"#fff",dark:"#bbb",transparentDark:"#bebebe99",text:"#000"},secondary:{main:"#315bef",dark:"#214b9f",light:"#416bef",transparent:"#315bef97",text:"#fff"},error:{main:"#db5049ee",light:"#ff354c88",dark:"#f00",text:"#fff"},success:{main:"#21c62f88",dark:"#21c62fb8",light:"#21c62fee",text:"#fff"},warning:{main:"#ffd951",light:"#ffeb51",dark:"#ae9941",text:"#fff"},windowBorder:!0},ht=ft,gt={dark:ft,nord:{type:"dark",name:"nord",shadowColor:"#0006",windowBorderColor:"#292f3c",windowBarColor:"#3d4455",background:{main:"#3d4455",light:"#434c5e",transparent:"#3d4455e9",dark:"#2e3440",transparentDark:"#2e344099",text:"#eee"},primary:{main:"#2e343f",transparent:"#2e343f69",light:"#3b4251",dark:"#262b34",transparentDark:"#262b3499",text:"#fff"},secondary:{main:"#8fbcbb",dark:"#6f8a91",light:"#8abbb9",transparent:"#8fbcbb97",text:"#fff"},error:{main:"#c6616c",light:"#c6616c88",dark:"#b65e5c",text:"#fff"},success:{main:"#9dbd90",dark:"#9dbd90b8",light:"#9dbd90ee",text:"#fff"},warning:{main:"#ffd951",light:"#ffeb51",dark:"#ae9941",text:"#fff"},windowBorder:!0},light:{type:"light",name:"light",background:{main:"#f5f5f4",dark:"#e4e9f2",light:"#fff",text:"#222",darkText:"#000",transparentLight:"#fff",transparent:"#fff9",transparentDark:"#e4e9f299"},primary:{main:"#333333",dark:"#242424",light:"#444444",text:"#d9d9da",darkText:"#de2cb7",transparentLight:"#444",transparent:"#373737e9",transparentDark:"#24242499"},secondary:{main:"#4585b2",dark:"#357592",light:"#abcbe2",text:"#222",darkText:"#29d436",transparentLight:"#fff",transparent:"#4585b288",transparentDark:"#35759299"},windowBorderColor:"#000",shadowColor:"#33333377",success:{main:"#21c62f88",dark:"#21c62fb8",light:"#21c62fee",text:"#fff",darkText:"#c73898",transparentLight:"#444",transparent:"#37c56676",transparentDark:"#37c5666a"},windowBarColor:"#fff",error:{main:"#db5049ee",light:"#ff354c88",dark:"#f00",text:"#fff",darkText:"#24adb4",transparentLight:"#fff",transparent:"#db50498f",transparentDark:"#db504981"},warning:{main:"#ffd951",light:"#ffeb51",dark:"#ae9941",text:"#fff",darkText:"#0025ab",transparentLight:"#444",transparent:"#ffd95199",transparentDark:"#ffd9518a"},windowBorder:!0},transparent:{type:"transparent",name:"transparent",windowBarColor:"#BFBFBF57",shadowColor:"#0007",windowBorderColor:"#000",background:{main:"#BFBFBF27",light:"#EFEFEF67",dark:"#8F8F8F67",transparent:"#BFBFBF37",transparentDark:"#BFBFBF44",text:"#fff"},primary:{main:"#fff9",light:"#fffe",dark:"#eee7",transparent:"#fff2",transparentDark:"#fff4",text:"#000"},secondary:{main:"#0004",light:"#0003",dark:"#0005",text:"#fff"},error:{main:"#db5049ee",light:"#ff354c88",dark:"#f00",text:"#fff"},success:{main:"#21c62f88",transparent:"#21c62f48",dark:"#21c62fb8",light:"#21c62fee",text:"#fff"},warning:{main:"#ffd951",light:"#ffeb51",dark:"#ae9941",text:"#fff"},windowBorder:!1},transparentDark:{type:"transparent",name:"transparent dark",windowBarColor:"#33333377",shadowColor:"#0007",windowBorderColor:"#eee4",background:{main:"#33333357",light:"#44444477",dark:"#24242477",transparent:"#37373747",transparentDark:"#24242444",text:"#d9d9da"},primary:{main:"#eee9",light:"#fffe",dark:"#bbb7",transparent:"#bebebe22",transparentDark:"#bebebe44",text:"#000"},secondary:{main:"#315bef44",light:"#214b9f33",transparent:"#315bef22",dark:"#214b9f55",text:"#fff"},error:{main:"#db5049ee",light:"#ff354c88",dark:"#f00",text:"#fff"},success:{main:"#21c62f88",transparent:"#21c62f48",dark:"#21c62fb8",light:"#21c62fee",text:"#fff"},warning:{main:"#ffd951",light:"#ffeb51",dark:"#ae9941",text:"#fff"},windowBorder:!0}},wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wt(t,e),t.prototype.render=function(){return"custom"===this.props.theme&&this.props.customTheme?l.a.createElement(mt.a,{theme:this.props.customTheme},this.props.children):l.a.createElement(mt.a,{theme:gt[this.props.theme]},this.props.children)},t}(x.Component),bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wt(t,e),t.prototype.render=function(){return this.props.children||l.a.createElement(l.a.Fragment,null)},t}(x.Component),yt=vt,xt=n(224),kt=n(34),Et=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ct=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pt=600,Bt=700,Ot=700,Ft=1e3,Wt=300,jt=400,_t=function(e){function t(t){var n,r=e.call(this,t)||this;return r.percentageToNumber=function(e,t){return"number"===typeof e?e:100/Number(e.replace("%",""))*t},r.screenSizesToNumbers=function(){var e=r.props.window,t=e.maxHeight,n=e.maxWidth,o=e.minHeight,a=e.minWidth;return{maxHeight:r.percentageToNumber(t||Ot,window.innerHeight),minHeight:r.percentageToNumber(o||Wt,window.innerHeight),maxWidth:r.percentageToNumber(n||Ft,window.innerWidth),minWidth:r.percentageToNumber(a||jt,window.innerWidth)}},r.getSize=function(){var e=Nt({},r.windowProperties.size||{}),t=r.state.collapse,n=r.screenSizesToNumbers(),o=n.maxHeight,a=n.maxWidth,i=n.minHeight,s=n.minWidth;return e.height&&e.width?(o<e.height&&(e.height=o),i>e.height&&(e.height=i),a<e.width&&(e.width=a),s>e.width&&(e.width=s),t&&(e.height=25),e):{width:Bt,height:t?25:Pt}},r.getPosition=function(){var e=r.getSize(),t=r.windowProperties.position,n=r.state.useLocalWindowState;return t&&e?(t.x<0&&(t.x=n?0:-t.x),t.x>window.innerWidth-e.width&&(t.x=n?window.innerWidth-e.width:window.innerWidth-e.width-(window.innerWidth-e.width)%t.x),t.y>window.innerHeight-55&&(t.y=window.innerHeight-55),t.y<0&&(t.y=0),t):{x:window.screen.availWidth/3,y:window.screen.availHeight/3}},r.willUnmount=!1,r.componentWillUnmount=function(){r.willUnmount=!0,O.default.closeWindow(r.id)},r.handleClickOutside=function(){r.setState({isActive:!1})},r.setActive=function(){O.default.activeWindowId===r.id?r.setState({isActive:!0}):O.default.setActiveWindow(r.id)},r.updateWindowPositionORSizeQueuer=function(){var e,t=!1,n=!0,r=new kt.a;return{queueTask:function(t){e=t,r.call("continue",null)},stop:function(){t=!0},idle:function(){return new Promise((function(e){n&&e(),r.on("idle",e)}))},start:function(){return Et(this,void 0,void 0,(function(){var o;return Ct(this,(function(a){switch(a.label){case 0:return t?[3,5]:e?(n=!1,o=e,e=void 0,[4,o()]):[3,2];case 1:a.sent(),n=!0,a.label=2;case 2:return e?[3,4]:(r.call("idle",null),[4,new Promise((function(e){return r.on("continue",e)}))]);case 3:a.sent(),a.label=4;case 4:return[3,0];case 5:return[2]}}))}))}}}(),r.snapWindow=function(e,t){var n=r,o=n.props.window.allowLocalScreenSnapping,a=n.state,i=a.snap;if(!a.collapse&&o){var s=void 0!==t?t:!i;r.setState({snap:s?e:void 0})}},r.switchToAbsolutePosition=function(){var e=document.getElementsByClassName(r.randomClassNameForRndContainer)[0];e.style.transform="";var t=r.getWindowTransformStyles();Object.keys(t).map((function(n){var r=n,o=t[r];"number"===typeof o?e.style[r]=o+"px":"string"===typeof o&&(e.style[r]=o)}))},r.randomClassNameForRndContainer="rndElement"+Math.random(),r.getWindowTransformStyles=function(){var e=r.getWindowPosition(),t=r.getWindowSize();return{top:(null===e||void 0===e?void 0:e.y)||0,left:(null===e||void 0===e?void 0:e.x)||0,height:null===t||void 0===t?void 0:t.height,width:null===t||void 0===t?void 0:t.width}},r.onDrag=function(e,t){if(r.setActive(),!r.state.isResizing){var n=r.getPosition(),o=r.getSize(),a=e,i=a.clientX,s=a.clientY,c={x:n.x+t.deltaX,y:n.y+t.deltaY};c.x>i&&(c.x=i),c.x<i-o.width&&(c.x=i-o.width),c.y>s-25&&(c.y=s-25),c.y<s&&(c.y=s-12.5);var l=s<2,d=s>50,u=i<25,p=i>50,m=i>window.innerWidth-25,f=i<window.innerWidth-50;l?r.snapWindow("fullscreen",!0):u?r.snapWindow("left",!0):m?r.snapWindow("right",!0):(p&&f&&d&&r.snapWindow(void 0,!1),r.setWindowState({position:c}))}},r.onResize=function(e,t,n,o){var a=r.getPosition(),i=r.state,s=i.localWindowState,c=i.collapse;if(null===s||void 0===s?void 0:s.size){var l=s.size,d=r.screenSizesToNumbers(),u=d.maxHeight,p=d.maxWidth,m=d.minHeight,f=d.minWidth,h={width:l.width+o.width-r.lastResizeDelta.width,height:l.height+o.height-r.lastResizeDelta.height};switch(c&&(h.height-=o.height-r.lastResizeDelta.height),t){case"topRight":case"top":h.height<u&&h.height>m&&(a.y-=o.height-r.lastResizeDelta.height);break;case"bottomLeft":case"left":h.width<p&&h.width>f&&(a.x-=o.width-r.lastResizeDelta.width);break;case"topLeft":h.height<u&&h.height>m&&(a.y-=o.height-r.lastResizeDelta.height),h.width<p&&h.width>f&&(a.x-=o.width-r.lastResizeDelta.width)}r.setWindowState({size:h,position:Nt({},a)}),r.lastResizeDelta=o}},r.getWindowSize=function(){var e=r.getSize(),t=r.state.snap;return t?"fullscreen"===t?{width:"100%",height:"calc(100% - 65px)"}:"left"===t||"right"===t?{width:"50%",height:"calc(100% - 65px)"}:void 0:e},r.getWindowPosition=function(){var e=r.getPosition(),t=r.state.snap;return t?"fullscreen"===t||"left"===t?{x:0,y:0}:"right"===t?{x:window.innerWidth/2,y:0}:void 0:e},r.shouldCollapse=function(){var e=r.state,t=e.collapse,n=e.snap,o=e.useLocalWindowState,a=e.isResizing;return t||o&&!n&&!a},r.lastResizeDelta={width:0,height:0},r.state={canDrag:!1,collapse:t.window.minimized||!1,useLocalWindowState:!1,isResizing:!1},r.domContainer=document.createElement("div"),null===(n=document.getElementById("app"))||void 0===n||n.appendChild(r.domContainer),r}return St(t,e),t.prototype.componentDidMount=function(){var e=this;this.updateWindowPositionORSizeQueuer.start(),O.default.emitter.on("minimizeWindow",(function(t){var n=t.id;e.props.setWindowState({minimized:!0}),n===e.id?e.setState({collapse:!0,isActive:!0}):e.setState({isActive:!1})})),O.default.emitter.on("maximizeWindow",(function(t){var n=t.id;e.props.setWindowState({minimized:!1}),n===e.id?e.setState({collapse:!1,isActive:!0}):e.setState({isActive:!1})})),O.default.emitter.on("setActiveWindow",(function(t){t.id===e.id?e.setState({isActive:!0}):e.setState({isActive:!1})})),O.default.emitter.on("updateZIndex",(function(t){var n=t.id,r=t.layer;n===e.id&&e.setState({zIndex:r})})),document.addEventListener("mousedown",(function(t){e.wrapperRef&&t.target&&e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.handleClickOutside()})),this.id=O.default.addWindow(this.props.name,this.props.icon,{minimized:this.props.window.minimized||!1}),O.default.reloadWindowsLayers();var t=function(){e.willUnmount||(e.switchToAbsolutePosition(),window.requestAnimationFrame(t))};t()},Object.defineProperty(t.prototype,"serverWindowProperties",{get:function(){return{size:this.props.window.width&&this.props.window.height?{width:this.props.window.width,height:this.props.window.height}:void 0,position:this.props.window.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"windowProperties",{get:function(){return this.state.useLocalWindowState&&this.state.localWindowState||this.serverWindowProperties},enumerable:!1,configurable:!0}),t.prototype.setWindowState=function(e){var t=this;this.setState({localWindowState:Nt(Nt({},this.state.localWindowState),e)}),this.updateWindowPositionORSizeQueuer.queueTask((function(){return t.props.setWindowState(e)}))},t.prototype.render=function(){var e=this,t=this.state,n=t.canDrag,r=t.collapse,o=t.isActive,a=t.zIndex,i=t.snap,s=t.useLocalWindowState,c=this.props,d=c.children,p=c.classes,m=c.title,f=c.icon,h=c.onClose,g=this.getSize(),w=this.getPosition();return u.a.createPortal(l.a.createElement("div",{ref:function(t){t&&(e.wrapperRef=t)}},l.a.createElement(xt.a,{className:this.randomClassNameForRndContainer+" "+(s?"":p.smoothMove),disableDragging:!n,size:this.getWindowSize(),position:this.getWindowPosition(),onDrag:this.onDrag,onDragStart:function(t){if(i){var n=t,r=n.clientX,o=n.clientY;e.setState({useLocalWindowState:!0,localWindowState:{position:{x:r-g.width/2,y:o+12.5},size:g},snap:void 0})}else e.setState({useLocalWindowState:!0,localWindowState:{position:w,size:g}})},onDragStop:function(){e.updateWindowPositionORSizeQueuer.idle().then((function(){return e.setState({useLocalWindowState:!1,localWindowState:void 0})}))},defaultSize:g,onResizeStart:function(){return e.setState({useLocalWindowState:!0,localWindowState:{position:w,size:g},snap:void 0,isResizing:!0})},onResizeStop:function(){e.lastResizeDelta={height:0,width:0},e.setState({isResizing:!1},(function(){return e.updateWindowPositionORSizeQueuer.idle().then((function(){e.setState({useLocalWindowState:!1,localWindowState:void 0})}))}))},onResize:this.onResize,style:Nt({zIndex:a},this.getWindowTransformStyles())},l.a.createElement("div",{className:p.root,onClick:function(){return e.setActive()}},l.a.createElement("div",{onMouseEnter:function(){return e.setState({canDrag:!0})},onMouseLeave:function(){return e.setState({canDrag:!1})},onDoubleClick:function(){return e.snapWindow("fullscreen")},className:p.bar+" "+(this.shouldCollapse()?p.barCollapse:"")},l.a.createElement("div",{className:p.barButtonsContainer},l.a.createElement("div",{onClick:function(){O.default.updateState(e.id,{minimized:!r})},className:p.barButton+" "+(o?p.barButtonCollapse:p.barButtonInactive)}),l.a.createElement("div",{className:p.barButton+" "+(o?p.barButtonExit:p.barButtonInactive),onClick:function(){h()}})),l.a.createElement("div",{className:p.barTitle},m," -"," ","icon"===f.type?l.a.createElement(B,{containerClassName:p.barTitleIcon,name:f.icon}):l.a.createElement("img",{className:p.barTitleIcon,alt:"windows icon",width:14,height:14}))),l.a.createElement("div",{className:p.body,style:this.shouldCollapse()?{display:"none"}:{}},d)))),this.domContainer)},t.contextType=j,t.fullscreenWindowPosition={x:0,y:0},t}(x.Component),Tt=Object(E.a)((function(e){return Object(k.a)({root:{width:"100%",height:"100%"},bar:{background:e.windowBarColor,backdropFilter:"transparent"===e.type?"blur(15px)":"none",border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",borderBottom:"none",borderRadius:"7px 7px 0 0",cursor:"move",display:"flex",flexDirection:"row-reverse",height:25,width:"100%",justifyContent:"space-between"},smoothMove:{transition:"top 305ms, left 305ms"},barCollapse:{borderRadius:"7px 7px 7px 7px",borderBottom:"1px solid "+e.windowBorderColor},body:{borderRadius:"0 0 3px 3px",width:"100%",height:"calc(100% - 25px)"},barButtonsContainer:{position:"relative",top:4,right:5,width:40,height:20,display:"flex",justifyContent:"space-between"},barButton:{width:15,height:15,borderRadius:"50%",zIndex:2,border:"1px solid #0004"},barButtonExit:{cursor:"pointer",background:e.error.main,"&:hover":{background:e.error.dark}},barButtonCollapse:{cursor:"pointer",background:e.success.main,"&:hover":{background:e.success.dark}},barButtonInactive:{background:e.primary.transparent},barTitle:{position:"relative",top:2,left:45,width:"100%",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"calc(100% - 90px)",userSelect:"none",color:e.background.text},barTitleIcon:{position:"relative",top:3}})}),{withTheme:!0})(_t),zt=n(551),Dt=n(216),Rt=n.n(Dt),It=n(217),At=n(218),Lt=n(219),Mt=(n(357),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ht=function(e){function t(t){var n=e.call(this,t)||this;return n.getTermTheme=function(){return{background:"#fff0",foreground:n.props.theme.background.text,cursor:n.props.theme.background.text}},n.componentDidMount=function(){n.containerElement&&(n.term.open(n.containerElement),n.termFit.fit())},n.componentWillUnmount=function(){n.socket.close()},n.onResize=function(){var e;(null===(e=n.containerElement)||void 0===e?void 0:e.clientWidth)&&(n.termFit.fit(),n.socket.emit("setColumns",n.term.cols))},n.socket=Rt()((Mn.https?"https":"http")+"://"+Mn.host+":"+t.port,{transports:["websocket"]}),n.term=new It.Terminal({theme:n.getTermTheme(),fontFamily:"JetBrains Mono",allowTransparency:!0}),n.termFit=new At.FitAddon,n.term.loadAddon(n.termFit),n.socket.on("output",(function(e){n.term.write(e)})),n.term.onData((function(e){n.socket.emit("input",e)})),n}return Mt(t,e),t.prototype.render=function(){var e=this,t=this.props.classes;return this.term.setOption("theme",this.getTermTheme()),this.onResize(),l.a.createElement(Lt.a,{onResize:this.onResize},l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.body,ref:function(t){t&&(e.containerElement=t)}})))},t}(x.Component),Yt=Object(zt.a)(Object(E.a)((function(e){return Object(k.a)({root:{width:"100%",height:"100%",border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",borderTop:"none",borderRadius:"0 0 9px 9px",background:e.background.main,backdropFilter:"blur(15px)",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor},body:{height:"calc(100% - 8px)",width:"100%","& .xterm-viewport":{background:"#fff0"}}})}),{withTheme:!0})(Ht)),Xt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=function(){return(Vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ut=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Gt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Kt=function(e){function t(t){var n=e.call(this,t)||this;return n.emitter=new kt.a,n.confirm=function(e){return Ut(n,void 0,void 0,(function(){var t=this;return Gt(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){t.setState({confirm:{message:e}},(function(){var e=function(o){void 0!==o.result?(n(o.result),t.setState({confirm:void 0})):r(new Error("confirm does not have a result.")),t.emitter.off("confirmDone",e)};t.emitter.on("confirmDone",e)}))}))];case 1:return[2,n.sent()]}}))}))},n.prompt=function(e){return Ut(n,void 0,Promise,(function(){var t=this;return Gt(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){t.setState({prompt:{message:e,value:""}},(function(){var e=function(r){r.result?n({result:r.result,value:r.value}):n({result:!1,value:r.value}),t.setState({prompt:void 0}),t.emitter.off("promptDone",e)};t.emitter.on("promptDone",e)}))}))];case 1:return[2,n.sent()]}}))}))},n.getBreadcrumbLocations=function(e){var t=n.props,r=t.currentPath,o=t.platformPathSeparator,a=t.onChangeCurrentPath,i="",s=[];r.split(o).filter((function(e){return e})).forEach((function(e){return s.push(""+e+o)})),s.unshift(o);for(var c=s.map((function(e,t){var r=i+=e;return{path:e,isFirst:0===t,isLast:t===s.length-1,onClick:function(){a(r),n.setState({selectedFile:void 0}),n.selectedFile=void 0},onDrop:function(){return n.onDropPath(r)}}}));c.length>e;)c.shift(),c[0].isFirst=!0;return c},n.onDrop=function(e){return Ut(n,void 0,void 0,(function(){var t,n,r,o,a,i;return Gt(this,(function(s){switch(s.label){case 0:return t=this.props,n=t.currentPath,r=t.platformPathSeparator,o=t.onMove,this.setState({dragedFile:void 0}),this.state.dragedFile&&this.state.dragedFile!==e&&e.isFolder?(a=""+n+r+e.name+r+this.state.dragedFile.name,i=""+n+r+this.state.dragedFile.name,this.setState({fileIsOverFile:void 0,selectedFile:void 0}),[4,this.confirm(" do you want to move "+this.state.dragedFile.name+" to "+a)]):[3,2];case 1:s.sent()&&o({newPath:a,originalPath:i}),s.label=2;case 2:return[2]}}))}))},n.onDropPath=function(e){return Ut(n,void 0,void 0,(function(){var t,n,r,o,a,i;return Gt(this,(function(s){switch(s.label){case 0:return t=this.props,n=t.currentPath,r=t.platformPathSeparator,o=t.onMove,this.state.dragedFile?(a=""+e+r+this.state.dragedFile.name,i=""+n+r+this.state.dragedFile.name,this.setState({fileIsOverFile:void 0,selectedFile:void 0}),[4,this.confirm(" do you want to move "+this.state.dragedFile.name+" to "+a)]):[3,2];case 1:s.sent()&&o({newPath:a,originalPath:i}),s.label=2;case 2:return[2]}}))}))},n.onFileDragOver=function(e,t){var r;e.isFolder&&(null===(r=n.state.dragedFile)||void 0===r?void 0:r.name)!==e.name&&n.state.fileIsOverFile!==t&&n.setState({fileIsOverFile:t})},n.deleteSelected=function(){return Ut(n,void 0,void 0,(function(){var e,t,n,r,o;return Gt(this,(function(a){switch(a.label){case 0:return e=this.props,t=e.currentPath,n=e.platformPathSeparator,r=e.onDelete,(o=this.selectedFile)?[4,this.confirm("are you sure you want to delete "+this.selectedFile.name)]:[3,2];case 1:o=a.sent(),a.label=2;case 2:return o&&(r(""+t+n+this.selectedFile.name),this.setState({selectedFile:void 0}),this.selectedFile=void 0),[2]}}))}))},n.createFolder=function(){return Ut(n,void 0,void 0,(function(){var e,t,n,r,o;return Gt(this,(function(a){switch(a.label){case 0:return[4,this.prompt("please enter folder name:")];case 1:return e=a.sent(),t=this.props,n=t.currentPath,r=t.platformPathSeparator,o=t.onCreateFolder,e.value&&o(""+n+r+e.value),[2]}}))}))},n.createFile=function(){return Ut(n,void 0,void 0,(function(){var e,t,n,r,o;return Gt(this,(function(a){switch(a.label){case 0:return[4,this.prompt("please enter file name:")];case 1:return e=a.sent(),t=this.props,n=t.currentPath,r=t.platformPathSeparator,o=t.onCreateFile,e.value&&o(""+n+r+e.value),[2]}}))}))},n.Past=function(){var e,t,r,o=n.state,a=o.cutPath,i=o.copyPath,s=n.props,c=s.platformPathSeparator,l=s.currentPath,d=s.onMove,u=s.onCopy;(a||i)&&((null===(e=n.selectedFile)||void 0===e?void 0:e.isFolder)?(a&&a.fullPath!==(null===(t=n.selectedFile)||void 0===t?void 0:t.fullPath)&&(d({newPath:""+n.selectedFile.fullPath+c+a.name,originalPath:a.fullPath}),n.setState({copyPath:void 0})),i&&i.fullPath!==(null===(r=n.selectedFile)||void 0===r?void 0:r.fullPath)&&u({newPath:""+n.selectedFile.fullPath+c+i.name,originalPath:i.fullPath})):(a&&d({newPath:""+l+c+a.name,originalPath:a.fullPath}),i&&u({newPath:""+l+c+i.name,originalPath:i.fullPath})))},n.state={},n}return Xt(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,r=t.files,o=t.currentPath,a=t.platformPathSeparator,i=t.onRequestDownloadLink,s=t.onChangeCurrentPath,c=t.onSelect,d=t.type,u=this.state,p=u.fileIsOverFile,m=u.selectedFile,f=u.copyPath,h=u.cutPath,v=u.downloadUrl;return l.a.createElement("div",{className:n.root},l.a.createElement("div",{className:n.locationBarContainer},l.a.createElement("div",{className:n.locationBar},l.a.createElement("div",{className:n.breadcrumbFilesContainer},this.getBreadcrumbLocations(6).map((function(e,t){return l.a.createElement("div",{className:n.breadcrumbButtonItem+" "+(e.isFirst?n.breadcrumbButtonItemFirst:"")+" "+(e.isLast?n.breadcrumbButtonItemLast:""),key:t,onDrop:e.onDrop,onDragOverCapture:function(e){return e.preventDefault()},onClick:e.onClick},e.path)}))))),l.a.createElement("div",{className:n.fileBoxContainer},"explore"===d&&l.a.createElement("div",{className:n.actionBarContainer},l.a.createElement("div",{className:n.actionBar},l.a.createElement("div",{className:n.actionButton,onClick:this.createFile},"new File"),l.a.createElement("div",{className:n.actionButton,onClick:this.createFolder},"new Folder"),void 0!==m&&l.a.createElement("div",{className:n.actionButton,onClick:this.deleteSelected},"Delete"),void 0!==m&&l.a.createElement("div",{className:n.actionButton,onClick:function(){return e.selectedFile&&e.setState({copyPath:{fullPath:e.selectedFile.fullPath,name:e.selectedFile.name},cutPath:void 0})}},"Copy"),void 0!==m&&l.a.createElement("div",{className:n.actionButton,onClick:function(){return e.selectedFile&&e.setState({cutPath:{fullPath:e.selectedFile.fullPath,name:e.selectedFile.name},copyPath:void 0})}},"Cut"),(h||f)&&l.a.createElement("div",{className:n.actionButton,onClick:this.Past},"Past"),v&&l.a.createElement("a",{className:n.actionButton,target:"_blank",rel:"noopener noreferrer",href:v,download:!0},void 0===m||v?"Download":"Loading..."))),l.a.createElement("div",{className:n.fileBox},this.state.prompt&&l.a.createElement("div",{className:n.dialog},l.a.createElement("div",{className:n.dialogMessage},this.state.prompt.message),l.a.createElement(g,{value:this.state.prompt.value,onChange:function(t){return e.state.prompt&&e.setState({prompt:Vt(Vt({},e.state.prompt),{value:t||""})})},className:n.dialogInput}),l.a.createElement("div",{className:n.dialogButtons},l.a.createElement(w,{className:n.dialogButton,onClick:function(){return e.state.prompt&&e.setState({prompt:Vt(Vt({},e.state.prompt),{result:!1})},(function(){return e.emitter.call("promptDone",e.state.prompt)}))}},"Cancel"),l.a.createElement(w,{color:"secondary",className:n.dialogButton+" "+n.dialogButtonPrimary,onClick:function(){return e.state.prompt&&e.setState({prompt:Vt(Vt({},e.state.prompt),{result:!0})},(function(){return e.emitter.call("promptDone",e.state.prompt)}))}},"OK"))),this.state.confirm&&l.a.createElement("div",{className:n.dialog},l.a.createElement("div",{className:n.dialogMessage},this.state.confirm.message),l.a.createElement("div",{className:n.dialogButtons},l.a.createElement(w,{className:n.dialogButton,onClick:function(){return e.setState((function(e){var t;return(null===(t=e.confirm)||void 0===t?void 0:t.message)?{confirm:{message:e.confirm.message,result:!1}}:{}}),(function(){return e.emitter.call("confirmDone",e.state.confirm)}))}},"Cancel"),l.a.createElement(w,{color:"secondary",className:n.dialogButton+" "+n.dialogButtonPrimary,onClick:function(){return e.setState((function(e){var t;return(null===(t=e.confirm)||void 0===t?void 0:t.message)?{confirm:{message:e.confirm.message,result:!0}}:{}}),(function(){return e.emitter.call("confirmDone",e.state.confirm)}))}},"OK"))),!this.state.prompt&&!this.state.confirm&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:n.fileContainer},r.map((function(t,r){return l.a.createElement("div",{className:n.file+" "+(p===r||m===r?n.fileActive:"")+" "+(e.state.dragedFile===t?n.transparent:""),key:r,draggable:!0,onDrag:function(){e.setState({dragedFile:t})},onDrop:function(){return e.onDrop(t)},onDragOverCapture:function(n){e.onFileDragOver(t,r),n.preventDefault()},onDragLeave:function(){p===r&&e.setState({fileIsOverFile:void 0})},onClick:function(){m!==r?(e.selectedFile=Vt(Vt({},t),{fullPath:""+o+a+t.name}),e.setState({selectedFile:r,downloadUrl:void 0},(function(){e.selectedFile&&!e.selectedFile.isFolder&&i(e.selectedFile.fullPath).then((function(t){e.setState({downloadUrl:(Mn.https?"https":"http")+"://"+Mn.host+":"+t.port+t.path})}))}))):(e.setState({selectedFile:void 0,downloadUrl:void 0}),e.selectedFile=void 0)},onDoubleClick:function(){t.isFolder?s(""+o+a+t.name+a):"select-file"===d&&c&&c(""+o+a+t.name)}},l.a.createElement("div",{className:n.fileName},t.name),t.isFolder?l.a.createElement(B,{className:n.fileIcon,name:p===r?"FcOpenedFolder":"FcFolder"}):l.a.createElement(B,{className:n.fileIcon,name:"FcDocument"}))}))),"explore"!==d&&l.a.createElement("div",{className:n.stickyActionBarContainer},l.a.createElement("div",{className:n.actionBar+" "+n.actionBarNoBorder},l.a.createElement(w,{className:n.openButton,variant:"light",color:"secondary",onClick:function(){c&&e.selectedFile&&("select-file"===d&&!e.selectedFile.isFolder||"select-folder"===d&&e.selectedFile.isFolder)&&c(e.selectedFile.fullPath)}},"Open")))))))},t}(x.Component),$t=Object(E.a)((function(e){return Object(k.a)({root:{width:"100%",height:"100%",borderRadius:"0 0 9px 9px",background:e.background.main,border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",borderTop:"none",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor,backdropFilter:"transparent"===e.type?"blur(15px)":"none",display:"grid",gridTemplateRows:"44px calc(100% - 44px)"},actionBarContainer:{width:175,justifyContent:"center",display:"flex",height:"100%"},actionBar:{borderBottom:"1px solid "+e.windowBorderColor,width:"100%",height:"100%",background:e.background.dark,borderRight:"solid 1px "+e.windowBorderColor,backdropFilter:"transparent"===e.type?"blur(16px)":"none",borderRadius:"0 0 0 10px",alignItems:"center",display:"flex",flexDirection:"column"},actionButton:Vt(Vt({textDecoration:"none",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",height:20,paddingTop:10,paddingBottom:10,textAlign:"center",userSelect:"none",animation:"$opacityUp 150ms",color:e.secondary.text,fontSize:18,cursor:"pointer",borderBottom:"solid 1px "+e.windowBorderColor,transition:"background 100ms, transform 100ms"},"transparent"===e.type?{backdropFilter:"blur(7px)",boxShadow:"-1px 2px 20px 1px "+e.shadowColor,background:e.background.transparent,borderBottom:"1px solid "+e.windowBorderColor}:{}),{"&:hover":Vt({},"transparent"===e.type?{backdropFilter:"blur(13px)",background:e.secondary.light}:{background:e.secondary.light})}),"@keyframes opacityUp":{from:{opacity:0},to:{opacity:1}},locationBarContainer:{width:"100%",overflow:"auto",justifyContent:"center",display:"flex",border:"1px solid "+e.windowBorderColor,borderRight:"none",borderLeft:"none"},locationBar:{backdropFilter:"transparent"===e.type?"blur(10px)":"none",width:"95%",maxHeight:"100%",overflowX:"auto",display:"flex",justifyContent:"center",flexDirection:"column"},breadcrumbFilesContainer:{maxHeight:"100%",display:"flex",justifyContent:"center"},fileBoxContainer:{height:"100%",width:"100%",display:"flex",justifyContent:"center"},fileBox:{boxShadow:e.shadowColor+" 0px 7px 20px 1px inset",background:e.background.transparent||e.background.main,width:"100%",height:"100%",overflowY:"auto",borderBottomRightRadius:9,display:"flex",flexDirection:"column",justifyContent:"space-between"},fileContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 120px))",margin:15,justifyContent:"center",gridGap:15,gap:"15px",gridAutoRows:100},file:{borderRadius:7,padding:2,color:e.secondary.text,cursor:"pointer",boxShadow:"-1px 2px 10px 1px "+e.shadowColor,transition:"background 100ms, transform 200ms","&:hover":{transform:"scale(1.1)",background:e.secondary.dark,backdropFilter:"transparent"===e.type?"blur(12px)":"none"},height:90,display:"flex",flexDirection:"column-reverse"},transparent:{background:"transparent !important"},fileActive:{background:e.secondary.transparent||e.secondary.main,"&:hover":{backdropFilter:"transparent"===e.type?"blur(12px)":"none",background:e.secondary.transparent||e.secondary.main}},fileName:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",textAlign:"center",userSelect:"none"},fileIcon:{userSelect:"none",textAlign:"center",maxWidth:100,fontSize:50},fileBreadcrumb:{width:"100%"},breadcrumbButtonItem:{minWidth:20,textAlign:"center",userSelect:"none",color:e.primary.text,fontSize:25,background:e.primary.transparent,border:"solid 1px transparent",maxWidth:380,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",transition:"background 100ms","&:hover":{background:e.primary.main},cursor:"pointer"},breadcrumbButtonItemFirst:{borderRadius:"8px 0 0 8px",paddingLeft:10},breadcrumbButtonItemLast:{cursor:"auto",borderRadius:"0 8px 8px 0",background:"light"===e.type?e.primary.main:R(e.primary.main,.6),"&:hover":{background:e.primary.main,backdropFilter:"transparent"===e.type?"blur(12px)":"none"},paddingRight:10},dialog:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flexDirection:"column"},dialogMessage:{maxWidth:"80%",textAlign:"center",color:e.background.text,fontSize:25},dialogButtons:{margin:20,width:"50%",display:"flex",justifyContent:"center"},dialogButton:{margin:10,fontSize:50,width:"fit-content",height:"fit-content",borderRadius:7,background:e.primary.main,"&:hover":{background:e.primary.dark,backdropFilter:"transparent"===e.type?"blur(12px)":"none"}},dialogButtonPrimary:{background:e.secondary.main,"&:hover":{background:e.secondary.dark,backdropFilter:"transparent"===e.type?"blur(12px)":"none"}},dialogInput:{margin:10,color:e.background.text,fontSize:25},openButton:{margin:5},stickyActionBarContainer:{position:"sticky",bottom:0,width:"100%",borderRadius:"0 0 9px 9px",justifyContent:"center",display:"flex",background:e.background.dark,borderTop:"1px solid "+e.windowBorderColor},actionBarNoBorder:{borderBottom:"none"}})}),{withTheme:!0})(Kt),Qt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=function(e){return Object(k.a)({root:{width:"100%",height:"100%",borderRadius:"0 0 9px 9px",background:e.background.main,border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",borderTop:"none",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor,paddingBottom:2,backdropFilter:"transparent"===e.type?"blur(15px)":"none",display:"grid",gridTemplateRows:"44px calc(100% - 44px)"},headlineContainer:{width:"100%",justifyContent:"center",display:"flex"},menuContainer:{width:"100%",border:"1px solid "+e.windowBorderColor,borderRight:"none",borderLeft:"none",backdropFilter:"transparent"===e.type?"blur(10px)":"none",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},headline:{fontSize:25,width:"70%",borderRadius:7,height:33,userSelect:"none",color:e.background.darkText||e.background.text,textAlign:"center",background:e.background.light,border:"1px solid "+e.windowBorderColor,display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky"},backButton:{position:"relative",right:0,borderRight:"1px solid "+e.windowBorderColor+" !important",width:150,height:"100%",minHeight:"0 !important",borderRadius:"5px !important",padding:"0 !important",minWidth:"110px !important",borderTopRightRadius:"0 !important",borderBottomRightRadius:"0 !important"},openFileContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflow:"hidden"},openFileContainerBody:{width:"100%",height:"100%",boxShadow:"inset 0px 0 8px 2px "+e.shadowColor,background:e.background.light},filename:{width:"100%",whiteSpace:"nowrap",textOverflow:"ellipsis",userSelect:"none",overflow:"hidden"}})},Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qt(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.isSelectingFile,r=e.onReselectFile,o=e.name;return l.a.createElement("div",{className:t.root},n?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.headlineContainer},l.a.createElement("div",{className:t.headline},l.a.createElement("div",{className:t.filename},"Please select file to edit"))),l.a.createElement("div",{className:t.openFileContainer},l.a.createElement("div",{className:t.openFileContainerBody},this.props.children))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.menuContainer},l.a.createElement("div",{className:t.headline},l.a.createElement(w,{className:t.backButton,color:"secondary",onClick:function(){return r()}},"<- back"),l.a.createElement("div",{className:t.filename},"Editing ",o))),this.renderViewer()))},t}(x.Component),Zt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),en=function(){return(en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tn=function(e){function t(t){return e.call(this,t)||this}return Zt(t,e),t.prototype.renderViewer=function(){var e=this.props,t=e.classes,n=e.onSave,r=e.defaultValue;return l.a.createElement("div",{className:t.textAreaContainer},l.a.createElement("div",{className:t.textAreaContainerBody},l.a.createElement("textarea",{defaultValue:r,onChange:function(e){return n(e.target.value)},className:t.textArea})))},t}(Jt),nn=Object(zt.a)(Object(E.a)((function(e){return Object(k.a)(en(en({},qt(e)),{textAreaContainer:{width:"100%",height:"100%",justifyContent:"center",position:"relative",top:1,alignItems:"center",display:"flex"},textAreaContainerBody:{width:"100%",height:"100%",background:e.background.light,paddingBottom:2,borderRadius:"0 0 9px 9px"},textArea:{width:"100%",border:"none",boxShadow:e.shadowColor+" 0px 7px 20px 1px inset",resize:"none",borderRadius:"0 0 9px 9px",padding:0,background:"transparent"===e.type?e.background.main:e.background.light,color:e.background.text,outline:"none",height:"calc(100% + 2px)"},filename:{width:"100%",whiteSpace:"nowrap",textOverflow:"ellipsis",userSelect:"none",overflow:"hidden"}}))}),{withTheme:!0})(tn)),rn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(){return(on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rn(t,e),t.prototype.renderViewer=function(){var e=this.props,t=e.classes,n=e.source,r=e.port;return l.a.createElement("div",{className:t.videoAreaContanier},l.a.createElement("div",{className:t.videoAreaContanierBody},l.a.createElement("video",{controls:!0,className:t.videoArea},l.a.createElement("source",{src:(Mn.https?"https":"http")+"://"+Mn.host+":"+r+"/"+n}))))},t}(Jt),sn=Object(zt.a)(Object(E.a)((function(e){return Object(k.a)(on(on({},qt(e)),{videoAreaContanier:{width:"100%",height:"97%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},videoAreaContanierBody:{width:"94%",height:"95%",borderRadius:10,boxShadow:"inset 0px -1px 9px 2px "+e.shadowColor,padding:15,background:e.background.light,border:"1px solid "+e.windowBorderColor,display:"flex",justifyContent:"center",overflow:"hidden"},videoArea:{width:"95%",maxWidth:"100%",maxHeight:"95%",border:"none",resize:"none",background:e.background.light,color:"transparent"===e.type?e.windowBorderColor:e.background.text,borderRadius:10,outline:"none"}}))}),{withTheme:!0})(an)),cn=n(222),ln=n.n(cn),dn=n(223),un=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(e){var t="string"===typeof e?Object(D.default)(e):Object(D.default)({r:e[0],g:e[1],b:e[2]});return{main:t.toHex8String(),dark:t.darken(.25).toHex8String(),light:t.lighten(.25).toHex8String(),text:Object(D.default)(A(t.toHexString())).darken(.3).toHexString(),darkText:Object(D.default)(A(t.toHexString())).darken(.5).toHexString(),transparentLight:t.isDark()?"#fff":"#444",transparent:t.setAlpha(.6*t.getAlpha()).toHex8String(),transparentDark:t.setAlpha(.9*t.getAlpha()).toHex8String()}},mn=function(e){function t(t){var n=e.call(this,t)||this;return n.generateCustomTheme=function(){ln.a.post("http://colormind.io/api/",JSON.stringify({model:"default"})).then((function(e){var t=e.data.result;n.setState((function(e){return e.settings.desktop.customTheme={type:"custom",name:"custom",shadowColor:"#000",background:pn(t[0]),primary:pn(t[1]),secondary:pn(t[2]),windowBorderColor:pn(t[0]).text,success:pn(t[3]),windowBarColor:Object(D.default)({r:t[4][0],g:t[4][1],b:t[4][2]}).toHex8String(),error:gt.transparent.error,warning:gt.transparent.warning,windowBorder:!0},n.props.setSettings(e.settings),{settings:e.settings}}))}))},n.renderDesktopCategory=function(){var e=n.props,t=e.classes,r=e.setSettings;return l.a.createElement("div",{className:t.category},l.a.createElement("div",{className:t.categoryTitle},"Desktop Settings"),l.a.createElement("div",{className:t.marginBlock},l.a.createElement("div",{className:t.settingsBlock},l.a.createElement("div",{className:t.settingsProperty},l.a.createElement("div",{className:t.settingsPropertyName},"background"),l.a.createElement("div",{className:t.settingsPropertyValue},l.a.createElement("input",{type:"text",value:n.state.settings.desktop.background,onChange:function(e){var t=e.target.value;n.setState((function(e){return e.settings.desktop.background=t,r(e.settings),{settings:e.settings}}))}}))),l.a.createElement("div",{className:t.settingsProperty+" "+t.settingsPropertyCol},l.a.createElement("div",{className:t.settingsPropertyNameCol},"theme"),l.a.createElement("div",{className:t.settingsPropertyValueCol},l.a.createElement("div",{className:t.themeGrid,style:{background:n.state.settings.desktop.background}},Object.keys(gt).map((function(e){return l.a.createElement(w,{key:e,className:t.themeButton,style:{background:gt[e].background.main,color:gt[e].background.text,boxShadow:"0 0 20px 0px "+gt[e].shadowColor,backdropFilter:"transparent"===gt[e].type?"blur(5px)":""},onClick:function(){n.setState((function(t){return t.settings.desktop.theme=e,r(t.settings),{settings:t.settings}}))}},gt[e].name)}))))),"custom"===n.state.settings.desktop.theme&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.settingsProperty+" "+t.settingsPropertyCol},l.a.createElement("div",{className:t.settingsPropertyNameCol},"Custom Theme"),l.a.createElement("div",{className:t.settingsPropertyValue+" "+t.settingsPropertyValueCol},l.a.createElement(w,{border:!0,onClick:n.generateCustomTheme},"Genarate custom theme"))),l.a.createElement("div",{className:t.settingsPropertyValue+" "+t.settingsPropertyValueCol},n.renderCreateCustomTheme())))))},n.renderCreateCustomTheme=function(){var e=n.props.classes,t=n.props.settings.desktop.customTheme||gt.transparent,r=t.background,o=t.primary,a=t.secondary,i=t.error,s=t.success,c=t.warning;return l.a.createElement(z,{defaultState:{selectedColor:"background",colors:[{name:"background",value:r.main},{name:"primary",value:o.main},{name:"secondary",value:a.main},{name:"error",value:i.main},{name:"success",value:s.main},{name:"warning",value:c.main}]}},(function(t,r){var o;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.categorySubtitle},"Create custom theme"),l.a.createElement("div",{className:e.colorsTable},t.colors.map((function(t,n){return l.a.createElement("div",{key:n,className:e.color,style:{backgroundColor:t.value},onClick:function(){return r({selectedColor:t.name})}})}))),l.a.createElement("div",{className:e.text},"slected color: ",t.selectedColor),l.a.createElement(dn.SketchPicker,{onChange:function(e){var n=t.colors.find((function(e){return e.name===t.selectedColor}));n&&(n.value=e.hex+Math.round(255*(e.rgb.a||0)).toString(16)),r({colors:t.colors})},color:null===(o=t.colors.find((function(e){return e.name===t.selectedColor})))||void 0===o?void 0:o.value}),l.a.createElement(w,{border:!0,className:e.margin,onClick:function(){var e=function(e){var n;return(null===(n=t.colors.find((function(t){return t.name===e})))||void 0===n?void 0:n.value)||gt.transparent[e].main};n.setState((function(t){return t.settings.desktop.customTheme={type:"custom",name:"custom",shadowColor:"#000",background:pn(e("background")),primary:pn(e("primary")),secondary:pn(e("secondary")),success:pn(e("success")),error:pn(e("error")),warning:pn(e("warning")),windowBarColor:e("background"),windowBorderColor:Object(D.default)(e("background")).isDark()?"#fff":"#000",windowBorder:!0},n.props.setSettings(t.settings),{}}))}},"Save custom theme"))}))},n.renderNetworkCategory=function(){var e=n.props,t=e.classes,r=e.setSettings;return l.a.createElement(z,{defaultState:{errorMainPort:"",errorStartPort:"",errorEndPort:"",mainPort:n.state.settings.network.ports.mainPort,startPort:n.state.settings.network.ports.startPort,endPort:n.state.settings.network.ports.endPort}},(function(e,o){return l.a.createElement("div",{className:t.category},l.a.createElement("div",{className:t.categoryTitle},"Network Settings"),l.a.createElement("div",{className:t.marginBlock},l.a.createElement("div",{className:t.settingsBlock},l.a.createElement("div",{className:t.settingsProperty},l.a.createElement("div",{className:t.settingsPropertyName},"Main Port"),l.a.createElement("div",{className:t.settingsPropertyValue},l.a.createElement("input",{type:"number",value:e.mainPort||"",onChange:function(e){var t=Number(e.target.value)||0;o({mainPort:t}),t>=1025&&t<=65534?(o({errorMainPort:""}),n.setState((function(e){return e.settings.network.ports.mainPort=t,r(e.settings),{settings:e.settings}}))):o({errorMainPort:"please enter a number between 1025 to 65,534"})}}),l.a.createElement("div",{className:t.settingsPropertyValueError},e.errorMainPort))),l.a.createElement("div",{className:t.settingsProperty},l.a.createElement("div",{className:t.settingsPropertyName},"Start Port"),l.a.createElement("div",{className:t.settingsPropertyValue},l.a.createElement("input",{type:"number",value:e.startPort||"",onChange:function(e){var t=Number(e.target.value)||0;o({startPort:t}),t>=1025&&t<=65534?(o({errorStartPort:""}),n.setState((function(e){return e.settings.network.ports.startPort=t,r(e.settings),{settings:e.settings}}))):o({errorStartPort:"please enter a number between 1025 to 65,534"})}}),l.a.createElement("div",{className:t.settingsPropertyValueError},e.errorMainPort))),l.a.createElement("div",{className:t.settingsProperty},l.a.createElement("div",{className:t.settingsPropertyName},"End Port"),l.a.createElement("div",{className:t.settingsPropertyValue},l.a.createElement("input",{type:"number",value:e.endPort||"",onChange:function(e){var t=Number(e.target.value)||0;o({endPort:t}),t>=1025&&t<=65534?(o({errorEndPort:""}),n.setState((function(e){return e.settings.network.ports.endPort=t,r(e.settings),{settings:e.settings}}))):o({errorEndPort:"please enter a number between 1025 to 65,534"})}}),l.a.createElement("div",{className:t.settingsPropertyValueError},e.errorMainPort))))))}))},n.renderSystemInfoCategory=function(){var e,t,r,o,a,i,s,c=n.props,d=c.classes,u=c.systemInfo;return l.a.createElement("div",{className:d.category},l.a.createElement("div",{className:d.categoryTitle},"System Information"),(null===u||void 0===u?void 0:u.os)&&l.a.createElement("div",{className:d.marginBlock},l.a.createElement("div",{className:d.categorySubtitle},"OS"),l.a.createElement("div",{className:d.settingsBlock},u.os.hostname&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"computer hostname"),l.a.createElement("div",{className:d.settingsPropertyValue},u.os.hostname)),u.os.platform&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"running os"),l.a.createElement("div",{className:d.settingsPropertyValue},u.os.platform)),u.os.kernel&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"running kernel"),l.a.createElement("div",{className:d.settingsPropertyValue},u.os.kernel)))),(null===u||void 0===u?void 0:u.cpu)&&l.a.createElement("div",{className:d.marginBlock},l.a.createElement("div",{className:d.categorySubtitle},"CPU"),l.a.createElement("div",{className:d.settingsBlock},(null===(e=u.cpu)||void 0===e?void 0:e.brandName)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"name"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.brandName)),(null===(t=u.cpu)||void 0===t?void 0:t.manufacturer)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"manufacturer name"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.manufacturer)),(null===(r=u.cpu)||void 0===r?void 0:r.cores)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"number of cores"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.cores)),(null===(o=u.cpu)||void 0===o?void 0:o.physicalCores)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"number of physical cores"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.physicalCores)),(null===(a=u.cpu)||void 0===a?void 0:a.speed)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"prcessor speed"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.speed," GHz")),(null===(i=u.cpu)||void 0===i?void 0:i.speedMax)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"prcessor maximum speed"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.speedMax," GHz")),(null===(s=u.cpu)||void 0===s?void 0:s.speedMin)&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"prcessor minimum speed"),l.a.createElement("div",{className:d.settingsPropertyValue},u.cpu.speedMin," GHz")))),(null===u||void 0===u?void 0:u.ram)&&l.a.createElement("div",{className:d.marginBlock},l.a.createElement("div",{className:d.categorySubtitle},"Memory"),l.a.createElement("div",{className:d.settingsBlock},u.ram.total&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"total memory amout"),l.a.createElement("div",{className:d.settingsPropertyValue},u.ram.total)),u.ram.free&&l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"free memory amout"),l.a.createElement("div",{className:d.settingsPropertyValue},u.ram.free)))),(null===u||void 0===u?void 0:u.disks)&&u.disks.map((function(e,t){return e&&l.a.createElement("div",{className:d.marginBlock,key:t},l.a.createElement("div",{className:d.categorySubtitle},"Disk ",t+1),l.a.createElement("div",{className:d.settingsBlock},l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"disk name"),l.a.createElement("div",{className:d.settingsPropertyValue},e.name)),l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"disk vendor"),l.a.createElement("div",{className:d.settingsPropertyValue},e.vendor)),l.a.createElement("div",{className:d.settingsProperty},l.a.createElement("div",{className:d.settingsPropertyName},"disk size"),l.a.createElement("div",{className:d.settingsPropertyValue},e.total))))})))},n.state={selectedCategory:"desktop",settings:t.settings},n}return un(t,e),t.prototype.render=function(){var e=this,t=this.props.classes,n=this.state.selectedCategory;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.categorySelection},l.a.createElement("div",{className:t.selectCategoryButton+" "+("desktop"===n?t.selectCategoryButtonSelected:""),onClick:function(){return e.setState({selectedCategory:"desktop"})}},"Desktop"),l.a.createElement("div",{className:t.selectCategoryButton+" "+("network"===n?t.selectCategoryButtonSelected:""),onClick:function(){return e.setState({selectedCategory:"network"})}},"Network"),l.a.createElement("div",{className:t.selectCategoryButton+" "+("systemInfo"===n?t.selectCategoryButtonSelected:""),onClick:function(){return e.setState({selectedCategory:"systemInfo"})}},"Information")),"desktop"===n&&this.renderDesktopCategory(),"network"===n&&this.renderNetworkCategory(),"systemInfo"===n&&this.renderSystemInfoCategory())},t}(x.Component),fn=Object(E.a)((function(e){return Object(k.a)({root:{background:e.background.main,border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",width:"100%",height:"100%",display:"flex",borderRadius:"0 0 9px 9px",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor,backdropFilter:"transparent"===e.type?"blur(3px)":"none"},categorySelection:{background:e.background.dark,borderRight:"solid 1px "+e.windowBorderColor,backdropFilter:"transparent"===e.type?"blur(16px)":"none",borderRadius:"0 0 0 10px",height:"100%",width:250},selectCategoryButton:{fontSize:24,paddingTop:5,paddingBottom:5,userSelect:"none",cursor:"pointer",width:"100%",textAlign:"center",borderBottom:"solid 1px "+e.windowBorderColor,color:e.background.text,"&:hover":"transparent"===e.type?{backdropFilter:"blur(3px)"}:{background:e.background.main}},selectCategoryButtonSelected:{color:e.secondary.text,background:e.secondary.main+" !important"},category:{width:"100%",maxHeight:"100%",overflowY:"auto",background:e.background.main,display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"0 0 15px 0"},categoryTitle:{marginTop:7,width:"90%",userSelect:"none",borderBottom:"solid 2px "+e.background.transparent,color:e.background.text,fontSize:40},categorySubtitle:{width:"85%",margin:9,userSelect:"none",borderBottom:"solid 1px "+e.background.transparent,color:e.background.text,fontSize:25},marginBlock:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",width:"100%",marginTop:30,marginBottom:10},margin:{margin:14},settingsBlock:{width:"80%",border:"1px solid "+e.windowBorderColor,background:e.background.dark,padding:20,borderRadius:9},settingsProperty:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:25,color:e.background.darkText||e.background.text,minHeight:45,marginBottom:5,borderBottom:"solid 1px "+e.primary.transparent},settingsPropertyCol:{flexDirection:"column",justifyContent:"center",alignItems:"space-between"},settingsPropertyName:{},settingsPropertyNameCol:{fontSize:"1.8vw"},settingsPropertyValueCol:{width:"100% !important",margin:5,height:"auto",display:"flex",flexDirection:"column",alignItems:"center"},text:{fontSize:17,color:e.background.text,margin:5},settingsPropertyValue:{wordBreak:"break-all",width:"50%",height:"100%",background:"transparent",textAlign:"center","& input":{textAlign:"center",color:e.background.darkText||e.background.text,width:"100%",height:"100%",border:"none",borderBottom:"solid 1px "+e.primary.transparent,outline:"none",fontSize:23,background:"transparent"},"& select":{textAlign:"center",color:e.background.darkText||e.background.text,width:"100%",height:"100%",border:"none",borderBottom:"solid 1px "+e.primary.transparent,outline:"none",fontSize:23,background:"transparent","& option":{textAlign:"center",background:e.background.dark}}},settingsPropertyValueError:{fontSize:12,color:e.error.main},colorsTable:{display:"flex",justifyContent:"center"},color:{width:30,height:30,margin:5,borderRadius:"50%",border:"solid 1px "+e.windowBorderColor,"&:hover":{transform:"scale(1.2)"}},themeGrid:{width:"100%",display:"grid",padding:20,boxShadow:"inset 0 0 20px 0px "+e.shadowColor,justifyContent:"center",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 180px))",gridGap:15,gap:"15px"},themeButton:{height:130}})}),{withTheme:!0})(mn),hn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iframeRef=l.a.createRef(),t.intervalsToClear=[],t.componentDidMount=function(){t.intervalsToClear.push(setInterval((function(){var e=document.activeElement;t.iframeRef.current&&e&&e!==document.body&&t.iframeRef.current===e&&t.iframeRef.current.click()}),50))},t.componentWillUnmount=function(){t.intervalsToClear.forEach(clearInterval)},t}return hn(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.host,r=e.port,o=e.path,a=e.https,i=void 0===a?Mn.https:a;return l.a.createElement("iframe",{ref:this.iframeRef,allowFullScreen:!0,allowTransparency:!0,sandbox:"allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin",allow:"clipboard-read; clipboard-write; geolocation; allow-forms; allow-pointer-lock; fullscreen; camera; microphone; layout-animations; unoptimized-images; oversized-images; sync-script; sync-xhr; unsized-media;",className:t.root,src:(i?"https":"http")+"://"+(n||Mn.host)+(r?":"+r:"")+(o||"")})},t}(x.Component),wn=Object(zt.a)(Object(E.a)((function(e){return Object(k.a)({root:{width:"100%",height:"100%",border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",borderTop:"none",borderRadius:"0 0 9px 9px",background:e.background.main,backdropFilter:"blur(15px)",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor}})}),{withTheme:!0})(gn)),vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vn(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.message,r=e.variant;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:"water"===r?t.animationWave:t.jumpingCube}),l.a.createElement("div",{className:t.message},n))},t}(x.Component),yn=Object(E.a)((function(e){return Object(k.a)({root:{background:e.background.main,border:e.windowBorder?"1px solid "+e.windowBorderColor:"none",width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:20,justifyContent:"center",alignItems:"center",borderRadius:"0 0 9px 9px",boxShadow:"-10px 12px 20px -2px  "+e.shadowColor,backdropFilter:"transparent"===e.type?"blur(3px)":"none"},animationWave:{width:"15%",padding:"15%",boxSizing:"border-box",backgroundColor:e.secondary.main,borderRadius:"20% 20% 10% 10%",position:"relative",boxShadow:"inset 0 0 30px 0 "+e.shadowColor+", 0 4px 10px 0 "+e.shadowColor,overflow:"hidden","&:before":{content:"''",position:"absolute",width:"120%",height:"110%",top:"-75%",right:"-10%",borderRadius:"50%",background:e.background.main,animation:"$wave 5s linear infinite"},"&:after":{content:"''",position:"absolute",width:"120%",right:"-10%",height:"107%",top:"-75%",borderRadius:"50%",background:e.background.light,animation:"$wave 5s linear infinite"}},"@keyframes wave":{from:{transform:"rotate(0)"},to:{transform:"rotate(360deg)"}},jumpingCube:{width:50,height:50,position:"relative",top:-10,"&:before":{content:"''",width:50,height:5,background:e.primary.dark,opacity:.1,position:"absolute",top:59,left:0,borderRadius:"50%",animation:"$shadowStretch .5s linear infinite"},"&:after":{content:"''",width:50,height:50,border:"1px solid "+e.windowBorderColor,background:e.primary.main,position:"absolute",top:0,left:0,borderRadius:9,animation:"$boxJump .5s linear infinite"}},"@keyframes boxJump":{"17%":{borderBottomRightRadius:3},"25%":{transform:"translateY(9px) rotate(22.5deg)"},"50%":{transform:"translateY(18px) scale(1, .9) rotate(45deg)",borderBottomRightRadius:40},"75%":{transform:"translateY(9px) rotate(67.5deg)"},"100%":{transform:" translateY(0) rotate(90deg)"}},"@keyframes shadow":{"0%, 100%":{transform:"scale(1, 1)"},"50%":{transform:"scale(1.2, 1)"}},message:{fontSize:30,color:e.background.text}})}))(bn),xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},kn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},En=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Cn=function(){return kn(void 0,void 0,void 0,(function(){return En(this,(function(e){return[2]}))}))},Sn={background:"",setWindowState:Cn,onClose:Cn,onLaunchApp:Cn,window:{}},Nn=function(e){var t=Object(c.useState)(e),n=t[0],r=t[1];return{state:n,setWindowState:function(e){return kn(void 0,void 0,void 0,(function(){return En(this,(function(t){return r(xn(xn(xn({},n),e.size),{position:e.position||n.position})),[2]}))}))}}},Pn=function(){var e=Object(c.useState)('url("https://picsum.photos/id/1039/1920/1080")'),t=e[0],n=e[1],r=Object(c.useState)(gt.dark),o=r[0],a=r[1],i=Nn({position:{x:50,y:100},minWidth:600,minHeight:550,height:500,width:800}),s=Nn({position:{x:950,y:50},minWidth:600,minHeight:550,height:750,width:700}),d=Nn({position:{x:700,y:300},minWidth:600,minHeight:550,height:600,width:900});return l.a.createElement("div",{style:{background:t,position:"absolute",width:"100%",height:"100%"}},l.a.createElement(mt.a,{theme:o},l.a.createElement(Tt,xn({title:"explorer",name:"explorer",icon:{type:"icon",icon:"FcFolder"}},Sn,{window:i.state,setWindowState:i.setWindowState}),l.a.createElement($t,{currentPath:"/home/web-desktop-environment",files:[{isFolder:!0,name:"Documents"},{isFolder:!0,name:"Desktop"},{isFolder:!0,name:"Music"},{isFolder:!1,name:"passwords.txt"},{isFolder:!1,name:"secrets.txt"}],onChangeCurrentPath:Cn,onCopy:Cn,onCreateFile:Cn,onCreateFolder:Cn,onDelete:Cn,onMove:Cn,onRequestDownloadLink:function(){return new Promise(Cn)},onUpload:Cn,platformPathSeparator:"/",type:"explore"})),l.a.createElement(Tt,xn({title:"notepad",name:"notepad",icon:{type:"icon",icon:"FcFile"}},Sn,{window:s.state,setWindowState:s.setWindowState}),l.a.createElement(nn,{defaultValue:"list of all my passwords:\n1. 12345Password\n2. passworD12345",isSelectingFile:!1,name:"passwords.txt",onReselectFile:Cn,onSave:Cn,path:"/home/web-desktop-environment/passwords.txt"})),l.a.createElement(Tt,xn({title:"settings",name:"settings",icon:{type:"icon",icon:"FcSettings"}},Sn,{window:d.state,setWindowState:d.setWindowState}),l.a.createElement(fn,{onReload:Cn,setSettings:function(e){return kn(void 0,void 0,void 0,(function(){return En(this,(function(t){return n(e.desktop.background),e.desktop.theme!==o.name&&("custom"===e.desktop.theme?a(e.desktop.customTheme||gt.dark):a(gt[e.desktop.theme])),[2]}))}))},settings:{desktop:{theme:o.type,background:t,nativeBackground:"",customTheme:o},network:{ports:{endPort:9300,mainPort:5e3,startPort:9200}}}})),l.a.createElement(ut,{isStartMenuOpen:!1,toggleStartMenu:function(){}})))},Bn=(n(539),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),On=function(){return(On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Wn=function(e){function t(t){var n=e.call(this,t)||this;return n.updateWindow=function(){return n.setState({openWindows:Fn([],O.default.windows)})},n.renderAppGrid=function(e,t,r,o){var a=n.props.classes;return l.a.createElement("div",{key:o,className:a.app+" "+(t?a.openApp:""),onClick:r},"img"===e.icon.type?l.a.createElement("img",{alt:e.name+" icon",src:e.icon.icon}):l.a.createElement(B,{className:a.appIcon,name:e.icon.icon}),l.a.createElement("div",{className:a.appName},e.name))},n.state={openWindows:O.default.windows,filterAppQuery:""},O.default.emitter.on("addWindow",n.updateWindow),O.default.emitter.on("closeWindow",n.updateWindow),O.default.emitter.on("maximizeWindow",n.updateWindow),O.default.emitter.on("minimizeWindow",n.updateWindow),n}return Bn(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.background,r=t.openApps,o=t.classes,a=t.apps,i=t.onLaunchApp,s=this.state,c=s.openWindows,d=s.filterAppQuery;return l.a.createElement("div",{className:o.root,style:{background:n}},r.map((function(e){return l.a.createElement(j.Provider,{key:e.id,value:{host:Mn.host,port:e.port}},l.a.createElement(W.Client,On({},Mn.connect(e.port,"nativeHost"))))})),l.a.createElement(v.b,{to:"/"},l.a.createElement("div",{className:o.switchToDesktopButton},l.a.createElement(B,{width:40,height:40,name:"VscMultipleWindows"}))),l.a.createElement("div",{className:o.appContainer},l.a.createElement(g,{className:o.appFilter,borderBottom:!1,placeholder:"search app",value:d,onChange:function(t){return e.setState({filterAppQuery:t})}}),0!==c.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:o.appGrid},c.filter((function(e){return!d||e.name.includes(d)})).map((function(t,n){return e.renderAppGrid(t,!0,(function(){return O.default.updateState(t.id,{minimized:!t.state.minimized})}),n)}))),l.a.createElement("hr",{className:o.hr})),l.a.createElement("div",{className:o.appGrid},a.filter((function(e){return!d||(e.displayName.includes(d)||e.description.includes(d)||e.appName.includes(d))})).map((function(t,n){return e.renderAppGrid({name:t.displayName,icon:t.icon},!1,(function(){return t&&i({name:t.appName,params:{}})}),n)})))))},t}(x.Component),jn=Object(E.a)((function(e){return Object(k.a)({root:{position:"absolute",top:0,bottom:0,right:0,left:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},appContainer:{background:e.background.main,overflowY:"auto",borderRadius:10,boxShadow:"-5px 6px 10px -1px #0007",padding:10,width:"90%",height:"90%"},hr:{border:"solid 1px "+e.background.dark},switchToDesktopButton:{position:"absolute",top:-45,transition:"top 300ms",right:45,height:55,cursor:"pointer",width:80,borderRadius:"0 0 15px 15px",fontSize:40,paddingTop:5,borderBottom:"none",display:"flex",justifyContent:"center",color:e.background.text,boxShadow:"0 0px 3px 0px "+e.shadowColor,border:"1px solid "+(e.transparentBorder||"#eee2"),backdropFilter:"blur(10px)",background:R(e.background.transparent||e.background.main,"transparent"===e.type?.15:.6),"&:hover":{top:0,background:e.background.transparent},zIndex:2},appFilter:{height:55},appGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 120px))",margin:15,justifyContent:"center",gridGap:30,gap:"20px",gridAutoRows:100},app:{borderRadius:7,padding:2,color:e.secondary.text,cursor:"pointer",boxShadow:"-1px 2px 10px 1px "+e.shadowColor,transition:"background 280ms, color 280ms, transform 450ms","&:hover":{boxShadow:"0px 0px 20px 9px "+e.shadowColor,background:e.secondary.main,color:e.secondary.text,transform:"scale(1.25) translateY(-20px)",backdropFilter:"transparent"===e.type?"blur(12px)":"none"},height:90,display:"flex",flexDirection:"column-reverse"},openApp:{borderBottom:"2px solid "+e.secondary.main,"&:hover":{borderBottom:"2px solid "+e.secondary.text}},appIcon:{userSelect:"none",textAlign:"center",maxWidth:100,fontSize:50},appName:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",textAlign:"center",userSelect:"none"}})}))(Wn),_n=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUnmounted=!1,t.openWindow=function(){var e,n;if(t.window=window.open(window.location.origin+"/native/client/connect/"+(null===(e=t.context)||void 0===e?void 0:e.host)+"/"+(null===(n=t.context)||void 0===n?void 0:n.port),"","width="+t.props.window.width+",height="+t.props.window.height)||void 0,t.window){var r=t.props.window.position;r&&t.window.moveTo(r.x,r.y);var o=setInterval((function(){var e;(null===(e=t.window)||void 0===e?void 0:e.closed)&&(t.isUnmounted||(t.props.onClose(),O.default.closeWindow(t.id)),clearInterval(o))}),250)}},t.componentDidMount=function(){window.addEventListener("unload",(function(){var e;null===(e=t.window)||void 0===e||e.close()})),t.id=O.default.addWindow(t.props.name,t.props.icon,{minimized:t.props.window.minimized||!1}),O.default.emitter.on("maximizeWindow",(function(e){e.id===t.id&&(t.window?t.window.focus():t.openWindow())})),O.default.emitter.on("minimizeWindow",(function(e){var n;e.id===t.id&&(t.window||t.openWindow(),null===(n=t.window)||void 0===n||n.blur())})),t.openWindow()},t.componentWillUnmount=function(){var e;t.isUnmounted=!0,null===(e=t.window)||void 0===e||e.close(),O.default.closeWindow(t.id)},t}return _n(t,e),t.prototype.render=function(){return l.a.createElement(l.a.Fragment,null)},t.contextType=j,t}(x.Component),zn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=Object(p.a)({image:{position:"absolute",transition:"transform 400ms",zIndex:1}}),Rn=function(e){var t=e.background,n=Dn(),r=Object(c.useState)(0),o=r[0],a=r[1],i=Object(c.useState)(0),s=i[0],d=i[1];return Object(c.useEffect)((function(){var e=setInterval((function(){window.screen.availWidth-window.innerWidth===0?(a(0),d(0)):(a(window.screenY),d(window.screenX))}),500);return function(){return clearInterval(e)}}),[]),l.a.createElement("div",{className:n.image,style:{background:t,width:window.screen.width,height:window.screen.height,transform:"translate(\n\t\t\t\t  -"+(s&&s%window.screen.availWidth)+"px,\n\t\t\t\t  -"+(o&&o-70)+"px\n\t\t\t\t   )"}})},In=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentDidMount=function(){if(window.opener){window.addEventListener("resize",(function(){t.props.setWindowState(t.windowState)})),window.addEventListener("visibilitychange",(function(){t.props.setWindowState(t.windowState)}));var e=window.screenX,n=window.screenY;setInterval((function(){e===window.screenX&&n===window.screenY||(e=window.screenX,n=window.screenY,t.props.setWindowState(t.windowState))}),1e3)}},t}return zn(t,e),Object.defineProperty(t.prototype,"windowState",{get:function(){return{size:{height:window.innerHeight,width:window.innerWidth},minimized:window.document.hidden,position:{x:window.screenX,y:window.screenY}}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.background;return document.title=this.props.title,l.a.createElement("div",null,l.a.createElement("div",{className:t.container},this.props.children),"transparent"===this.props.theme.type&&l.a.createElement(Rn,{background:n}))},t}(x.Component),An=Object(zt.a)(Object(E.a)((function(e){return Object(k.a)({container:{position:"absolute",top:0,bottom:0,right:0,left:0,justifyContent:"center",background:e.background.main,display:"flex",width:"100%",height:"100%",zIndex:2}})}),{withTheme:!0})(In)),Ln=(n(540),n(11));var Mn,Hn=function(){return(Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Yn={web:r,nativeHost:a,nativeClient:i,webWindow:o},Xn=function(e,t){var n=this;this.connect=function(e,t){return{host:(n.https?"https":"http")+"://"+n.host,port:e,views:Hn({},Yn[t]),socketOptions:{transports:["websocket"]}}},this.host=e,this.https=t},Vn=function(e,t,n,r){return(Mn=new Xn(e,t)).connect(n,r)};u.a.render(l.a.createElement((function(){var e=Object(c.useState)({host:"localhost",port:5e3,isLoggedIn:!1}),t=e[0],n=e[1];return l.a.createElement(mt.a,{theme:ht},l.a.createElement(v.a,null,l.a.createElement(Ln.c,null,l.a.createElement(Ln.a,{path:"/demo"},(function(){return l.a.createElement(Pn,null)})),l.a.createElement(Ln.a,{path:"/native"},l.a.createElement(Ln.c,null,l.a.createElement(Ln.a,{path:"/native/connect/:host/:port/",render:function(e){var t,n=null===(t=e.match)||void 0===t?void 0:t.params,r=n.host,o=n.port;return l.a.createElement(z,{defaultState:{}},(function(){return l.a.createElement(j.Provider,{value:{host:r,port:Number(o)}},l.a.createElement(W.Client,Hn({},Vn(r,!1,Number(o),"nativeHost"))))}))}}),l.a.createElement(Ln.a,{path:"/native/client/connect/:host/:port/"},(function(e){var t,n=(null===(t=e.match)||void 0===t?void 0:t.params)||{},r=n.host,o=n.port;if(r&&o)return l.a.createElement(j.Provider,{value:{host:r,port:Number(o)}},l.a.createElement(W.Client,Hn({},Vn(r,!1,Number(o),"nativeClient"))))})),l.a.createElement(Ln.a,null,(function(){return t.isLoggedIn?l.a.createElement(j.Provider,{value:t},l.a.createElement(W.Client,Hn({},Vn(t.host,!1,Number(t.port),"nativeHost")))):l.a.createElement(y,{onLogin:function(e,t){return n({host:e,port:t,isLoggedIn:!0})}})})))),l.a.createElement(Ln.a,null,l.a.createElement(Ln.c,null,l.a.createElement(Ln.a,{path:"/connect/:host/:port/"},(function(e){var t,n=(null===(t=e.match)||void 0===t?void 0:t.params)||{},r=n.host,o=n.port;if(r&&o)return l.a.createElement(j.Provider,{value:{host:r,port:Number(o)}},l.a.createElement(W.Client,Hn({},Vn(r,!1,Number(o),"web"))))})),l.a.createElement(Ln.a,null,(function(){return t.isLoggedIn?l.a.createElement(j.Provider,{value:t},l.a.createElement(W.Client,Hn({},Vn(t.host,!1,Number(t.port),"web")))):l.a.createElement(y,{onLogin:function(e,t){return n({host:e,port:t,isLoggedIn:!0})}})})))))))}),null),document.getElementById("root")),document.addEventListener("contextmenu",(function(e){e.preventDefault()}))},81:function(e,t,n){"use strict";n.r(t),n.d(t,"GTKBridgeEmitter",(function(){return r})),n.d(t,"status",(function(){return o}));var r=new(n(34).a),o="disconnected";r.on("status",(function(e){return o=e}))}},[[231,1,2]]]);
//# sourceMappingURL=main.a11cc1fd.chunk.js.map